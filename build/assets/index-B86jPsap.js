function s2(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g0={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function l3(){if(mx)return Ec;mx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var b in u)b!=="key"&&(d[b]=u[b])}else d=u;return u=d.ref,{$$typeof:t,type:o,key:p,ref:u!==void 0?u:null,props:d}}return Ec.Fragment=e,Ec.jsx=r,Ec.jsxs=r,Ec}var px;function c3(){return px||(px=1,g0.exports=l3()),g0.exports}var E=c3(),m0={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function u3(){if(xx)return ft;xx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.iterator;function M($){return $===null||typeof $!="object"?null:($=D&&$[D]||$["@@iterator"],typeof $=="function"?$:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function j($,ge,pe){this.props=$,this.context=ge,this.refs=B,this.updater=pe||P}j.prototype.isReactComponent={},j.prototype.setState=function($,ge){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ge,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function H(){}H.prototype=j.prototype;function F($,ge,pe){this.props=$,this.context=ge,this.refs=B,this.updater=pe||P}var Q=F.prototype=new H;Q.constructor=F,I(Q,j.prototype),Q.isPureReactComponent=!0;var ce=Array.isArray;function se(){}var Y={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function ne($,ge,pe){var xe=pe.ref;return{$$typeof:t,type:$,key:ge,ref:xe!==void 0?xe:null,props:pe}}function De($,ge){return ne($.type,ge,$.props)}function Le($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function Ae($){var ge={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return ge[pe]})}var Me=/\/+/g;function je($,ge){return typeof $=="object"&&$!==null&&$.key!=null?Ae(""+$.key):ge.toString(36)}function re($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(se,se):($.status="pending",$.then(function(ge){$.status==="pending"&&($.status="fulfilled",$.value=ge)},function(ge){$.status==="pending"&&($.status="rejected",$.reason=ge)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function K($,ge,pe,xe,ke){var ve=typeof $;(ve==="undefined"||ve==="boolean")&&($=null);var be=!1;if($===null)be=!0;else switch(ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch($.$$typeof){case t:case e:be=!0;break;case _:return be=$._init,K(be($._payload),ge,pe,xe,ke)}}if(be)return ke=ke($),be=xe===""?"."+je($,0):xe,ce(ke)?(pe="",be!=null&&(pe=be.replace(Me,"$&/")+"/"),K(ke,ge,pe,"",function(lt){return lt})):ke!=null&&(Le(ke)&&(ke=De(ke,pe+(ke.key==null||$&&$.key===ke.key?"":(""+ke.key).replace(Me,"$&/")+"/")+be)),ge.push(ke)),1;be=0;var Te=xe===""?".":xe+":";if(ce($))for(var qe=0;qe<$.length;qe++)xe=$[qe],ve=Te+je(xe,qe),be+=K(xe,ge,pe,ve,ke);else if(qe=M($),typeof qe=="function")for($=qe.call($),qe=0;!(xe=$.next()).done;)xe=xe.value,ve=Te+je(xe,qe++),be+=K(xe,ge,pe,ve,ke);else if(ve==="object"){if(typeof $.then=="function")return K(re($),ge,pe,xe,ke);throw ge=String($),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return be}function q($,ge,pe){if($==null)return $;var xe=[],ke=0;return K($,xe,"","",function(ve){return ge.call(pe,ve,ke++)}),xe}function te($){if($._status===-1){var ge=$._result;ge=ge(),ge.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=ge)}if($._status===1)return $._result.default;throw $._result}var Oe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Be={map:q,forEach:function($,ge,pe){q($,function(){ge.apply(this,arguments)},pe)},count:function($){var ge=0;return q($,function(){ge++}),ge},toArray:function($){return q($,function(ge){return ge})||[]},only:function($){if(!Le($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ft.Activity=C,ft.Children=Be,ft.Component=j,ft.Fragment=r,ft.Profiler=u,ft.PureComponent=F,ft.StrictMode=o,ft.Suspense=w,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ft.__COMPILER_RUNTIME={__proto__:null,c:function($){return Y.H.useMemoCache($)}},ft.cache=function($){return function(){return $.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function($,ge,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var xe=I({},$.props),ke=$.key;if(ge!=null)for(ve in ge.key!==void 0&&(ke=""+ge.key),ge)!X.call(ge,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ge.ref===void 0||(xe[ve]=ge[ve]);var ve=arguments.length-2;if(ve===1)xe.children=pe;else if(1<ve){for(var be=Array(ve),Te=0;Te<ve;Te++)be[Te]=arguments[Te+2];xe.children=be}return ne($.type,ke,xe)},ft.createContext=function($){return $={$$typeof:p,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:d,_context:$},$},ft.createElement=function($,ge,pe){var xe,ke={},ve=null;if(ge!=null)for(xe in ge.key!==void 0&&(ve=""+ge.key),ge)X.call(ge,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ke[xe]=ge[xe]);var be=arguments.length-2;if(be===1)ke.children=pe;else if(1<be){for(var Te=Array(be),qe=0;qe<be;qe++)Te[qe]=arguments[qe+2];ke.children=Te}if($&&$.defaultProps)for(xe in be=$.defaultProps,be)ke[xe]===void 0&&(ke[xe]=be[xe]);return ne($,ve,ke)},ft.createRef=function(){return{current:null}},ft.forwardRef=function($){return{$$typeof:b,render:$}},ft.isValidElement=Le,ft.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:te}},ft.memo=function($,ge){return{$$typeof:x,type:$,compare:ge===void 0?null:ge}},ft.startTransition=function($){var ge=Y.T,pe={};Y.T=pe;try{var xe=$(),ke=Y.S;ke!==null&&ke(pe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(se,Oe)}catch(ve){Oe(ve)}finally{ge!==null&&pe.types!==null&&(ge.types=pe.types),Y.T=ge}},ft.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ft.use=function($){return Y.H.use($)},ft.useActionState=function($,ge,pe){return Y.H.useActionState($,ge,pe)},ft.useCallback=function($,ge){return Y.H.useCallback($,ge)},ft.useContext=function($){return Y.H.useContext($)},ft.useDebugValue=function(){},ft.useDeferredValue=function($,ge){return Y.H.useDeferredValue($,ge)},ft.useEffect=function($,ge){return Y.H.useEffect($,ge)},ft.useEffectEvent=function($){return Y.H.useEffectEvent($)},ft.useId=function(){return Y.H.useId()},ft.useImperativeHandle=function($,ge,pe){return Y.H.useImperativeHandle($,ge,pe)},ft.useInsertionEffect=function($,ge){return Y.H.useInsertionEffect($,ge)},ft.useLayoutEffect=function($,ge){return Y.H.useLayoutEffect($,ge)},ft.useMemo=function($,ge){return Y.H.useMemo($,ge)},ft.useOptimistic=function($,ge){return Y.H.useOptimistic($,ge)},ft.useReducer=function($,ge,pe){return Y.H.useReducer($,ge,pe)},ft.useRef=function($){return Y.H.useRef($)},ft.useState=function($){return Y.H.useState($)},ft.useSyncExternalStore=function($,ge,pe){return Y.H.useSyncExternalStore($,ge,pe)},ft.useTransition=function(){return Y.H.useTransition()},ft.version="19.2.3",ft}var yx;function A1(){return yx||(yx=1,m0.exports=u3()),m0.exports}var N=A1();const Ie=ef(N),C1=s2({__proto__:null,default:Ie},[N]);var p0={exports:{}},Sc={},x0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function d3(){return bx||(bx=1,(function(t){function e(K,q){var te=K.length;K.push(q);e:for(;0<te;){var Oe=te-1>>>1,Be=K[Oe];if(0<u(Be,q))K[Oe]=q,K[te]=Be,te=Oe;else break e}}function r(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var q=K[0],te=K.pop();if(te!==q){K[0]=te;e:for(var Oe=0,Be=K.length,$=Be>>>1;Oe<$;){var ge=2*(Oe+1)-1,pe=K[ge],xe=ge+1,ke=K[xe];if(0>u(pe,te))xe<Be&&0>u(ke,pe)?(K[Oe]=ke,K[xe]=te,Oe=xe):(K[Oe]=pe,K[ge]=te,Oe=ge);else if(xe<Be&&0>u(ke,te))K[Oe]=ke,K[xe]=te,Oe=xe;else break e}}return q}function u(K,q){var te=K.sortIndex-q.sortIndex;return te!==0?te:K.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var p=Date,b=p.now();t.unstable_now=function(){return p.now()-b}}var w=[],x=[],_=1,C=null,D=3,M=!1,P=!1,I=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(K){for(var q=r(x);q!==null;){if(q.callback===null)o(x);else if(q.startTime<=K)o(x),q.sortIndex=q.expirationTime,e(w,q);else break;q=r(x)}}function ce(K){if(I=!1,Q(K),!P)if(r(w)!==null)P=!0,se||(se=!0,Ae());else{var q=r(x);q!==null&&re(ce,q.startTime-K)}}var se=!1,Y=-1,X=5,ne=-1;function De(){return B?!0:!(t.unstable_now()-ne<X)}function Le(){if(B=!1,se){var K=t.unstable_now();ne=K;var q=!0;try{e:{P=!1,I&&(I=!1,H(Y),Y=-1),M=!0;var te=D;try{t:{for(Q(K),C=r(w);C!==null&&!(C.expirationTime>K&&De());){var Oe=C.callback;if(typeof Oe=="function"){C.callback=null,D=C.priorityLevel;var Be=Oe(C.expirationTime<=K);if(K=t.unstable_now(),typeof Be=="function"){C.callback=Be,Q(K),q=!0;break t}C===r(w)&&o(w),Q(K)}else o(w);C=r(w)}if(C!==null)q=!0;else{var $=r(x);$!==null&&re(ce,$.startTime-K),q=!1}}break e}finally{C=null,D=te,M=!1}q=void 0}}finally{q?Ae():se=!1}}}var Ae;if(typeof F=="function")Ae=function(){F(Le)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,je=Me.port2;Me.port1.onmessage=Le,Ae=function(){je.postMessage(null)}}else Ae=function(){j(Le,0)};function re(K,q){Y=j(function(){K(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_next=function(K){switch(D){case 1:case 2:case 3:var q=3;break;default:q=D}var te=D;D=q;try{return K()}finally{D=te}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(K,q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=D;D=K;try{return q()}finally{D=te}},t.unstable_scheduleCallback=function(K,q,te){var Oe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Oe+te:Oe):te=Oe,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=te+Be,K={id:_++,callback:q,priorityLevel:K,startTime:te,expirationTime:Be,sortIndex:-1},te>Oe?(K.sortIndex=te,e(x,K),r(w)===null&&K===r(x)&&(I?(H(Y),Y=-1):I=!0,re(ce,te-Oe))):(K.sortIndex=Be,e(w,K),P||M||(P=!0,se||(se=!0,Ae()))),K},t.unstable_shouldYield=De,t.unstable_wrapCallback=function(K){var q=D;return function(){var te=D;D=q;try{return K.apply(this,arguments)}finally{D=te}}}})(y0)),y0}var wx;function f3(){return wx||(wx=1,x0.exports=d3()),x0.exports}var b0={exports:{}},xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function h3(){if(vx)return xr;vx=1;var t=A1();function e(w){var x="https://react.dev/errors/"+w;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+w+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(w,x,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:w,containerInfo:x,implementation:_}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,x){if(w==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,xr.createPortal=function(w,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return d(w,x,null,_)},xr.flushSync=function(w){var x=p.T,_=o.p;try{if(p.T=null,o.p=2,w)return w()}finally{p.T=x,o.p=_,o.d.f()}},xr.preconnect=function(w,x){typeof w=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(w,x))},xr.prefetchDNS=function(w){typeof w=="string"&&o.d.D(w)},xr.preinit=function(w,x){if(typeof w=="string"&&x&&typeof x.as=="string"){var _=x.as,C=b(_,x.crossOrigin),D=typeof x.integrity=="string"?x.integrity:void 0,M=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;_==="style"?o.d.S(w,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:M}):_==="script"&&o.d.X(w,{crossOrigin:C,integrity:D,fetchPriority:M,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},xr.preinitModule=function(w,x){if(typeof w=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var _=b(x.as,x.crossOrigin);o.d.M(w,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(w)},xr.preload=function(w,x){if(typeof w=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var _=x.as,C=b(_,x.crossOrigin);o.d.L(w,_,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},xr.preloadModule=function(w,x){if(typeof w=="string")if(x){var _=b(x.as,x.crossOrigin);o.d.m(w,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(w)},xr.requestFormReset=function(w){o.d.r(w)},xr.unstable_batchedUpdates=function(w,x){return w(x)},xr.useFormState=function(w,x,_){return p.H.useFormState(w,x,_)},xr.useFormStatus=function(){return p.H.useHostTransitionStatus()},xr.version="19.2.3",xr}var Ex;function o2(){if(Ex)return b0.exports;Ex=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b0.exports=h3(),b0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function g3(){if(Sx)return Sc;Sx=1;var t=f3(),e=A1(),r=o2();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function p(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function b(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function w(n){if(d(n)!==n)throw Error(o(188))}function x(n){var i=n.alternate;if(!i){if(i=d(n),i===null)throw Error(o(188));return i!==n?null:n}for(var c=n,g=i;;){var v=c.return;if(v===null)break;var A=v.alternate;if(A===null){if(g=v.return,g!==null){c=g;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===c)return w(v),n;if(A===g)return w(v),i;A=A.sibling}throw Error(o(188))}if(c.return!==g.return)c=v,g=A;else{for(var O=!1,z=v.child;z;){if(z===c){O=!0,c=v,g=A;break}if(z===g){O=!0,g=v,c=A;break}z=z.sibling}if(!O){for(z=A.child;z;){if(z===c){O=!0,c=A,g=v;break}if(z===g){O=!0,g=A,c=v;break}z=z.sibling}if(!O)throw Error(o(189))}}if(c.alternate!==g)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?n:i}function _(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=_(n),i!==null)return i;n=n.sibling}return null}var C=Object.assign,D=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=Le&&n[Le]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Symbol.for("react.client.reference");function je(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case j:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList";case ne:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case F:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case Q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return i=n.displayName||null,i!==null?i:je(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return je(n(i))}catch{}}return null}var re=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Oe=[],Be=-1;function $(n){return{current:n}}function ge(n){0>Be||(n.current=Oe[Be],Oe[Be]=null,Be--)}function pe(n,i){Be++,Oe[Be]=n.current,n.current=i}var xe=$(null),ke=$(null),ve=$(null),be=$(null);function Te(n,i){switch(pe(ve,i),pe(ke,n),pe(xe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Pp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Pp(i),n=Up(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ge(xe),pe(xe,n)}function qe(){ge(xe),ge(ke),ge(ve)}function lt(n){n.memoizedState!==null&&pe(be,n);var i=xe.current,c=Up(i,n.type);i!==c&&(pe(ke,n),pe(xe,c))}function We(n){ke.current===n&&(ge(xe),ge(ke)),be.current===n&&(ge(be),yc._currentValue=te)}var it,nt;function Xt(n){if(it===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||"",nt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+n+nt}var An=!1;function ir(n,i){if(!n||An)return"";An=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var de=me}Reflect.construct(n,[],Ee)}else{try{Ee.call()}catch(me){de=me}n.call(Ee.prototype)}}else{try{throw Error()}catch(me){de=me}(Ee=n())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),O=A[0],z=A[1];if(O&&z){var W=O.split(`
`),ue=z.split(`
`);for(v=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(g===W.length||v===ue.length)for(g=W.length-1,v=ue.length-1;1<=g&&0<=v&&W[g]!==ue[v];)v--;for(;1<=g&&0<=v;g--,v--)if(W[g]!==ue[v]){if(g!==1||v!==1)do if(g--,v--,0>v||W[g]!==ue[v]){var ye=`
`+W[g].replace(" at new "," at ");return n.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",n.displayName)),ye}while(1<=g&&0<=v);break}}}finally{An=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?Xt(c):""}function Ut(n,i){switch(n.tag){case 26:case 27:case 5:return Xt(n.type);case 16:return Xt("Lazy");case 13:return n.child!==i&&i!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return ir(n.type,!1);case 11:return ir(n.type.render,!1);case 1:return ir(n.type,!0);case 31:return Xt("Activity");default:return""}}function Rt(n){try{var i="",c=null;do i+=Ut(n,c),c=n,n=n.return;while(n);return i}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var et=Object.prototype.hasOwnProperty,za=t.unstable_scheduleCallback,Ue=t.unstable_cancelCallback,zn=t.unstable_shouldYield,wa=t.unstable_requestPaint,dn=t.unstable_now,ks=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,Ls=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,kn=t.unstable_LowPriority,oa=t.unstable_IdlePriority,ai=t.log,Ha=t.unstable_setDisableYieldValue,Qt=null,Ne=null;function Ft(n){if(typeof ai=="function"&&Ha(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Qt,n)}catch{}}var dt=Math.clz32?Math.clz32:Tr,cn=Math.log,va=Math.LN2;function Tr(n){return n>>>=0,n===0?32:31-(cn(n)/va|0)|0}var ii=256,bt=262144,br=4194304;function Ur(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function st(n,i,c){var g=n.pendingLanes;if(g===0)return 0;var v=0,A=n.suspendedLanes,O=n.pingedLanes;n=n.warmLanes;var z=g&134217727;return z!==0?(g=z&~A,g!==0?v=Ur(g):(O&=z,O!==0?v=Ur(O):c||(c=z&~n,c!==0&&(v=Ur(c))))):(z=g&~A,z!==0?v=Ur(z):O!==0?v=Ur(O):c||(c=g&~n,c!==0&&(v=Ur(c)))),v===0?0:i!==0&&i!==v&&(i&A)===0&&(A=v&-v,c=i&-i,A>=c||A===32&&(c&4194048)!==0)?i:v}function St(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Cn(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var n=br;return br<<=1,(br&62914560)===0&&(br=4194304),n}function wr(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Jt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fn(n,i,c,g,v,A){var O=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var z=n.entanglements,W=n.expirationTimes,ue=n.hiddenUpdates;for(c=O&~c;0<c;){var ye=31-dt(c),Ee=1<<ye;z[ye]=0,W[ye]=-1;var de=ue[ye];if(de!==null)for(ue[ye]=null,ye=0;ye<de.length;ye++){var me=de[ye];me!==null&&(me.lane&=-536870913)}c&=~Ee}g!==0&&si(n,g,0),A!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=A&~(O&~i))}function si(n,i,c){n.pendingLanes|=i,n.suspendedLanes&=~i;var g=31-dt(i);n.entangledLanes|=i,n.entanglements[g]=n.entanglements[g]|1073741824|c&261930}function _n(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var g=31-dt(c),v=1<<g;v&i|n[g]&i&&(n[g]|=i),c&=~v}}function sr(n,i){var c=i&-i;return c=(c&42)!==0?1:Ln(c),(c&(n.suspendedLanes|i))!==0?0:c}function Ln(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $n(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pr(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:lx(n.type))}function Pe(n,i){var c=q.p;try{return q.p=n,i()}finally{q.p=c}}var vr=Math.random().toString(36).slice(2),jn="__reactFiber$"+vr,Wt="__reactProps$"+vr,Fr="__reactContainer$"+vr,Pi="__reactEvents$"+vr,yo="__reactListeners$"+vr,la="__reactHandles$"+vr,Qc="__reactResources$"+vr,js="__reactMarker$"+vr;function Nr(n){delete n[jn],delete n[Wt],delete n[Pi],delete n[yo],delete n[la]}function Tn(n){var i=n[jn];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Fr]||c[jn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=qp(n);n!==null;){if(c=n[jn])return c;n=qp(n)}return i}n=c,c=n.parentNode}return null}function zt(n){if(n=n[jn]||n[Fr]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Ui(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function Er(n){var i=n[Qc];return i||(i=n[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nn(n){n[js]=!0}var Se=new Set,Jc={};function Gt(n,i){zr(n,i),zr(n+"Capture",i)}function zr(n,i){for(Jc[n]=i,n=0;n<i.length;n++)Se.add(i[n])}var wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kt={},Ot={};function wt(n){return et.call(Ot,n)?!0:et.call(kt,n)?!1:wf.test(n)?Ot[n]=!0:(kt[n]=!0,!1)}function Fi(n,i,c){if(wt(i))if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var g=i.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+c)}}function zi(n,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+c)}}function Hr(n,i,c,g){if(g===null)n.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(i,c,""+g)}}function Lt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ea(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vf(n,i,c){var g=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,A=g.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return v.call(this)},set:function(O){c=""+O,A.call(this,O)}}),Object.defineProperty(n,i,{enumerable:g.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function hn(n){if(!n._valueTracker){var i=Ea(n)?"checked":"value";n._valueTracker=vf(n,i,""+n[i])}}function Sa(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),g="";return n&&(g=Ea(n)?n.checked?"true":"false":n.value),n=g,n!==c?(i.setValue(n),!0):!1}function bo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hi=/[\n"\\]/g;function xt(n){return n.replace(Hi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(n,i,c,g,v,A,O,z){n.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.type=O:n.removeAttribute("type"),i!=null?O==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Lt(i)):n.value!==""+Lt(i)&&(n.value=""+Lt(i)):O!=="submit"&&O!=="reset"||n.removeAttribute("value"),i!=null?V(n,O,Lt(i)):c!=null?V(n,O,Lt(c)):g!=null&&n.removeAttribute("value"),v==null&&A!=null&&(n.defaultChecked=!!A),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?n.name=""+Lt(z):n.removeAttribute("name")}function oe(n,i,c,g,v,A,O,z){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.type=A),i!=null||c!=null){if(!(A!=="submit"&&A!=="reset"||i!=null)){hn(n);return}c=c!=null?""+Lt(c):"",i=i!=null?""+Lt(i):c,z||i===n.value||(n.value=i),n.defaultValue=i}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,n.checked=z?n.checked:!!g,n.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(n.name=O),hn(n)}function V(n,i,c){i==="number"&&bo(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function Ge(n,i,c,g){if(n=n.options,i){i={};for(var v=0;v<c.length;v++)i["$"+c[v]]=!0;for(c=0;c<n.length;c++)v=i.hasOwnProperty("$"+n[c].value),n[c].selected!==v&&(n[c].selected=v),v&&g&&(n[c].defaultSelected=!0)}else{for(c=""+Lt(c),i=null,v=0;v<n.length;v++){if(n[v].value===c){n[v].selected=!0,g&&(n[v].defaultSelected=!0);return}i!==null||n[v].disabled||(i=n[v])}i!==null&&(i.selected=!0)}}function Bn(n,i,c){if(i!=null&&(i=""+Lt(i),i!==n.value&&(n.value=i),c==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=c!=null?""+Lt(c):""}function Sr(n,i,c,g){if(i==null){if(g!=null){if(c!=null)throw Error(o(92));if(re(g)){if(1<g.length)throw Error(o(93));g=g[0]}c=g}c==null&&(c=""),i=c}c=Lt(i),n.defaultValue=c,g=n.textContent,g===c&&g!==""&&g!==null&&(n.value=g),hn(n)}function Vi(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ar(n,i,c){var g=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":g?n.setProperty(i,c):typeof c!="number"||c===0||kl.has(i)?i==="float"?n.cssFloat=c:n[i]=(""+c).trim():n[i]=c+"px"}function Ke(n,i,c){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||i!=null&&i.hasOwnProperty(g)||(g.indexOf("--")===0?n.setProperty(g,""):g==="float"?n.cssFloat="":n[g]="");for(var v in i)g=i[v],i.hasOwnProperty(v)&&c[v]!==g&&Ar(n,v,g)}else for(var A in i)i.hasOwnProperty(A)&&Ar(n,A,i[A])}function an(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(n){return Ef.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rr(){}var Bs=null;function Ll(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gn=null,ca=null;function Aa(n){var i=zt(n);if(i&&(n=i.stateNode)){var c=n[Wt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Hn(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var g=c[i];if(g!==n&&g.form===n.form){var v=g[Wt]||null;if(!v)throw Error(o(90));Hn(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<c.length;i++)g=c[i],g.form===n.form&&Sa(g)}break e;case"textarea":Bn(n,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&Ge(n,!!c.multiple,i,!1)}}}var $e=!1;function tu(n,i,c){if($e)return n(i,c);$e=!0;try{var g=n(i);return g}finally{if($e=!1,(gn!==null||ca!==null)&&(qu(),gn&&(i=gn,n=ca,ca=gn=null,Aa(i),n)))for(i=0;i<n.length;i++)Aa(n[i])}}function ct(n,i){var c=n.stateNode;if(c===null)return null;var g=c[Wt]||null;if(g===null)return null;c=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(o(231,i,typeof c));return c}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=!1;if(sn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){jl=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{jl=!1}var Ca=null,_a=null,wo=null;function Yi(){if(wo)return wo;var n,i=_a,c=i.length,g,v="value"in Ca?Ca.value:Ca.textContent,A=v.length;for(n=0;n<c&&i[n]===v[n];n++);var O=c-n;for(g=1;g<=O&&i[c-g]===v[A-g];g++);return wo=v.slice(n,1<g?1-g:void 0)}function Va(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ga(){return!0}function Bl(){return!1}function Vn(n){function i(c,g,v,A,O){this._reactName=c,this._targetInst=v,this.type=g,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(c=n[z],this[z]=c?c(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ga:Bl,this.isPropagationStopped=Bl,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),i}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qn=Vn(Vr),qi=C({},Vr,{view:0,detail:0}),nu=Vn(qi),vo,Pl,Ps,Eo=C({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ps&&(Ps&&n.type==="mousemove"?(vo=n.screenX-Ps.screenX,Pl=n.screenY-Ps.screenY):Pl=vo=0,Ps=n),vo)},movementY:function(n){return"movementY"in n?n.movementY:Pl}}),Ht=Vn(Eo),ru=C({},Eo,{dataTransfer:0}),So=Vn(ru),Ya=C({},qi,{relatedTarget:0}),Ul=Vn(Ya),he=C({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),gt=Vn(he),Jn=C({},Vr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ao=Vn(Jn),au=C({},Vr,{data:0}),iu=Vn(au),Sf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Fl[n])?!!i[n]:!1}function Us(){return Pn}var yn=C({},qi,{key:function(n){if(n.key){var i=Sf[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Va(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Af[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(n){return n.type==="keypress"?Va(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Va(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Co=Vn(yn),li=C({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yt=Vn(li),Qe=C({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Cf=Vn(Qe),on=C({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=Vn(on),Xi=C({},Eo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=Vn(Xi),ua=C({},Vr,{newState:0,oldState:0}),zl=Vn(ua),su=[9,13,27,32],Fs=sn&&"CompositionEvent"in window,Wi=null;sn&&"documentMode"in document&&(Wi=document.documentMode);var ou=sn&&"TextEvent"in window&&!Wi,lu=sn&&(!Fs||Wi&&8<Wi&&11>=Wi),ui=" ",_o=!1;function cu(n,i){switch(n){case"keyup":return su.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zi=!1;function qa(n,i){switch(n){case"compositionend":return Ki(i);case"keypress":return i.which!==32?null:(_o=!0,ui);case"textInput":return n=i.data,n===ui&&_o?null:n;default:return null}}function To(n,i){if(Zi)return n==="compositionend"||!Fs&&cu(n,i)?(n=Yi(),wo=_a=Ca=null,Zi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lu&&i.locale!=="ko"?null:i.data;default:return null}}var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hl(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Or[n.type]:i==="textarea"}function Gr(n,i,c,g){gn?ca?ca.push(g):ca=[g]:gn=g,i=Ju(i,"onChange"),0<i.length&&(c=new Qn("onChange","change",null,c,g),n.push({event:c,listeners:i}))}var zs=null,di=null;function Tf(n){Dp(n,0)}function Hs(n){var i=Ui(n);if(Sa(i))return n}function Yr(n,i){if(n==="change")return i}var uu=!1;if(sn){var Vs;if(sn){var fi="oninput"in document;if(!fi){var At=document.createElement("div");At.setAttribute("oninput","return;"),fi=typeof At.oninput=="function"}Vs=fi}else Vs=!1;uu=Vs&&(!document.documentMode||9<document.documentMode)}function Gs(){zs&&(zs.detachEvent("onpropertychange",k),di=zs=null)}function k(n){if(n.propertyName==="value"&&Hs(di)){var i=[];Gr(i,di,n,Ll(n)),tu(Tf,i)}}function a(n,i,c){n==="focusin"?(Gs(),zs=i,di=c,zs.attachEvent("onpropertychange",k)):n==="focusout"&&Gs()}function s(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hs(di)}function l(n,i){if(n==="click")return Hs(i)}function f(n,i){if(n==="input"||n==="change")return Hs(i)}function h(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var m=typeof Object.is=="function"?Object.is:h;function y(n,i){if(m(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),g=Object.keys(i);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var v=c[g];if(!et.call(i,v)||!m(n[v],i[v]))return!1}return!0}function S(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function T(n,i){var c=S(n);n=0;for(var g;c;){if(c.nodeType===3){if(g=n+c.textContent.length,n<=i&&g>=i)return{node:c,offset:i-n};n=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S(c)}}function R(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?R(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function L(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=bo(n.document);i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=bo(n.document)}return i}function U(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var G=sn&&"documentMode"in document&&11>=document.documentMode,Z=null,J=null,ie=null,fe=!1;function Re(n,i,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fe||Z==null||Z!==bo(g)||(g=Z,"selectionStart"in g&&U(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ie&&y(ie,g)||(ie=g,g=Ju(J,"onSelect"),0<g.length&&(i=new Qn("onSelect","select",null,i,c),n.push({event:i,listeners:g}),i.target=Z)))}function _e(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ce={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionrun:_e("Transition","TransitionRun"),transitionstart:_e("Transition","TransitionStart"),transitioncancel:_e("Transition","TransitionCancel"),transitionend:_e("Transition","TransitionEnd")},pt={},ut={};sn&&(ut=document.createElement("div").style,"AnimationEvent"in window||(delete Ce.animationend.animation,delete Ce.animationiteration.animation,delete Ce.animationstart.animation),"TransitionEvent"in window||delete Ce.transitionend.transition);function Rn(n){if(pt[n])return pt[n];if(!Ce[n])return n;var i=Ce[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in ut)return pt[n]=i[c];return n}var Ir=Rn("animationend"),lr=Rn("animationiteration"),qt=Rn("animationstart"),er=Rn("transitionrun"),Cr=Rn("transitionstart"),$i=Rn("transitioncancel"),hi=Rn("transitionend"),du=new Map,Vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vl.push("scrollEnd");function Ta(n,i){du.set(n,i),Gt(i,[n])}var fu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},da=[],No=0,Nf=0;function hu(){for(var n=No,i=Nf=No=0;i<n;){var c=da[i];da[i++]=null;var g=da[i];da[i++]=null;var v=da[i];da[i++]=null;var A=da[i];if(da[i++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}A!==0&&hg(c,v,A)}}function gu(n,i,c,g){da[No++]=n,da[No++]=i,da[No++]=c,da[No++]=g,Nf|=g,n.lanes|=g,n=n.alternate,n!==null&&(n.lanes|=g)}function Rf(n,i,c,g){return gu(n,i,c,g),mu(n)}function Ys(n,i){return gu(n,null,null,i),mu(n)}function hg(n,i,c){n.lanes|=c;var g=n.alternate;g!==null&&(g.lanes|=c);for(var v=!1,A=n.return;A!==null;)A.childLanes|=c,g=A.alternate,g!==null&&(g.childLanes|=c),A.tag===22&&(n=A.stateNode,n===null||n._visibility&1||(v=!0)),n=A,A=A.return;return n.tag===3?(A=n.stateNode,v&&i!==null&&(v=31-dt(c),n=A.hiddenUpdates,g=n[v],g===null?n[v]=[i]:g.push(i),i.lane=c|536870912),A):null}function mu(n){if(50<dc)throw dc=0,Ph=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ro={};function Yv(n,i,c,g){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(n,i,c,g){return new Yv(n,i,c,g)}function Of(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gi(n,i){var c=n.alternate;return c===null?(c=qr(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function gg(n,i){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,i=c.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function pu(n,i,c,g,v,A){var O=0;if(g=n,typeof n=="function")Of(n)&&(O=1);else if(typeof n=="string")O=ZE(n,c,xe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ne:return n=qr(31,c,i,v),n.elementType=ne,n.lanes=A,n;case I:return qs(c.children,v,A,i);case B:O=8,v|=24;break;case j:return n=qr(12,c,i,v|2),n.elementType=j,n.lanes=A,n;case ce:return n=qr(13,c,i,v),n.elementType=ce,n.lanes=A,n;case se:return n=qr(19,c,i,v),n.elementType=se,n.lanes=A,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:O=10;break e;case H:O=9;break e;case Q:O=11;break e;case Y:O=14;break e;case X:O=16,g=null;break e}O=29,c=Error(o(130,n===null?"null":typeof n,"")),g=null}return i=qr(O,c,i,v),i.elementType=n,i.type=g,i.lanes=A,i}function qs(n,i,c,g){return n=qr(7,n,g,i),n.lanes=c,n}function If(n,i,c){return n=qr(6,n,null,i),n.lanes=c,n}function mg(n){var i=qr(18,null,null,0);return i.stateNode=n,i}function Df(n,i,c){return i=qr(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var pg=new WeakMap;function fa(n,i){if(typeof n=="object"&&n!==null){var c=pg.get(n);return c!==void 0?c:(i={value:n,source:i,stack:Rt(i)},pg.set(n,i),i)}return{value:n,source:i,stack:Rt(i)}}var Oo=[],Io=0,xu=null,Gl=0,ha=[],ga=0,Qi=null,Xa=1,Wa="";function mi(n,i){Oo[Io++]=Gl,Oo[Io++]=xu,xu=n,Gl=i}function xg(n,i,c){ha[ga++]=Xa,ha[ga++]=Wa,ha[ga++]=Qi,Qi=n;var g=Xa;n=Wa;var v=32-dt(g)-1;g&=~(1<<v),c+=1;var A=32-dt(i)+v;if(30<A){var O=v-v%5;A=(g&(1<<O)-1).toString(32),g>>=O,v-=O,Xa=1<<32-dt(i)+v|c<<v|g,Wa=A+n}else Xa=1<<A|c<<v|g,Wa=n}function Mf(n){n.return!==null&&(mi(n,1),xg(n,1,0))}function kf(n){for(;n===xu;)xu=Oo[--Io],Oo[Io]=null,Gl=Oo[--Io],Oo[Io]=null;for(;n===Qi;)Qi=ha[--ga],ha[ga]=null,Wa=ha[--ga],ha[ga]=null,Xa=ha[--ga],ha[ga]=null}function yg(n,i){ha[ga++]=Xa,ha[ga++]=Wa,ha[ga++]=Qi,Xa=i.id,Wa=i.overflow,Qi=n}var cr=null,mn=null,Tt=!1,Ji=null,ma=!1,Lf=Error(o(519));function es(n){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(fa(i,n)),Lf}function bg(n){var i=n.stateNode,c=n.type,g=n.memoizedProps;switch(i[jn]=n,i[Wt]=g,c){case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":case"embed":Et("load",i);break;case"video":case"audio":for(c=0;c<hc.length;c++)Et(hc[c],i);break;case"source":Et("error",i);break;case"img":case"image":case"link":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"input":Et("invalid",i),oe(i,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Et("invalid",i);break;case"textarea":Et("invalid",i),Sr(i,g.value,g.defaultValue,g.children)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||g.suppressHydrationWarning===!0||jp(i.textContent,c)?(g.popover!=null&&(Et("beforetoggle",i),Et("toggle",i)),g.onScroll!=null&&Et("scroll",i),g.onScrollEnd!=null&&Et("scrollend",i),g.onClick!=null&&(i.onclick=Rr),i=!0):i=!1,i||es(n,!0)}function wg(n){for(cr=n.return;cr;)switch(cr.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:cr=cr.return}}function Do(n){if(n!==cr)return!1;if(!Tt)return wg(n),Tt=!0,!1;var i=n.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||Jh(n.type,n.memoizedProps)),c=!c),c&&mn&&es(n),wg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));mn=Yp(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));mn=Yp(n)}else i===27?(i=mn,gs(n.type)?(n=a0,a0=null,mn=n):mn=i):mn=cr?xa(n.stateNode.nextSibling):null;return!0}function Xs(){mn=cr=null,Tt=!1}function jf(){var n=Ji;return n!==null&&(Lr===null?Lr=n:Lr.push.apply(Lr,n),Ji=null),n}function Yl(n){Ji===null?Ji=[n]:Ji.push(n)}var Bf=$(null),Ws=null,pi=null;function ts(n,i,c){pe(Bf,i._currentValue),i._currentValue=c}function xi(n){n._currentValue=Bf.current,ge(Bf)}function Pf(n,i,c){for(;n!==null;){var g=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),n===c)break;n=n.return}}function Uf(n,i,c,g){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var A=v.dependencies;if(A!==null){var O=v.child;A=A.firstContext;e:for(;A!==null;){var z=A;A=v;for(var W=0;W<i.length;W++)if(z.context===i[W]){A.lanes|=c,z=A.alternate,z!==null&&(z.lanes|=c),Pf(A.return,c,n),g||(O=null);break e}A=z.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(o(341));O.lanes|=c,A=O.alternate,A!==null&&(A.lanes|=c),Pf(O,c,n),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===n){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Mo(n,i,c,g){n=null;for(var v=i,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(o(387));if(O=O.memoizedProps,O!==null){var z=v.type;m(v.pendingProps.value,O.value)||(n!==null?n.push(z):n=[z])}}else if(v===be.current){if(O=v.alternate,O===null)throw Error(o(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(yc):n=[yc])}v=v.return}n!==null&&Uf(i,n,c,g),i.flags|=262144}function yu(n){for(n=n.firstContext;n!==null;){if(!m(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){Ws=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ur(n){return vg(Ws,n)}function bu(n,i){return Ws===null&&Ks(n),vg(n,i)}function vg(n,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},pi===null){if(n===null)throw Error(o(308));pi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pi=pi.next=i;return c}var qv=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(c,g){n.push(g)}};this.abort=function(){i.aborted=!0,n.forEach(function(c){return c()})}},Xv=t.unstable_scheduleCallback,Wv=t.unstable_NormalPriority,Gn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new qv,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&Xv(Wv,function(){n.controller.abort()})}var Xl=null,zf=0,ko=0,Lo=null;function Kv(n,i){if(Xl===null){var c=Xl=[];zf=0,ko=Gh(),Lo={status:"pending",value:void 0,then:function(g){c.push(g)}}}return zf++,i.then(Eg,Eg),i}function Eg(){if(--zf===0&&Xl!==null){Lo!==null&&(Lo.status="fulfilled");var n=Xl;Xl=null,ko=0,Lo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Zv(n,i){var c=[],g={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return n.then(function(){g.status="fulfilled",g.value=i;for(var v=0;v<c.length;v++)(0,c[v])(i)},function(v){for(g.status="rejected",g.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),g}var Sg=K.S;K.S=function(n,i){sp=dn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Kv(n,i),Sg!==null&&Sg(n,i)};var Zs=$(null);function Hf(){var n=Zs.current;return n!==null?n:ln.pooledCache}function wu(n,i){i===null?pe(Zs,Zs.current):pe(Zs,i.pool)}function Ag(){var n=Hf();return n===null?null:{parent:Gn._currentValue,pool:n}}var jo=Error(o(460)),Vf=Error(o(474)),vu=Error(o(542)),Eu={then:function(){}};function Cg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _g(n,i,c){switch(c=n[c],c===void 0?n.push(i):c!==i&&(i.then(Rr,Rr),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ng(n),n;default:if(typeof i.status=="string")i.then(Rr,Rr);else{if(n=ln,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(g){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=g}},function(g){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=g}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ng(n),n}throw Qs=i,jo}}function $s(n){try{var i=n._init;return i(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Qs=c,jo):c}}var Qs=null;function Tg(){if(Qs===null)throw Error(o(459));var n=Qs;return Qs=null,n}function Ng(n){if(n===jo||n===vu)throw Error(o(483))}var Bo=null,Wl=0;function Su(n){var i=Wl;return Wl+=1,Bo===null&&(Bo=[]),_g(Bo,n,i)}function Kl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Au(n,i){throw i.$$typeof===D?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Rg(n){function i(ae,ee){if(n){var le=ae.deletions;le===null?(ae.deletions=[ee],ae.flags|=16):le.push(ee)}}function c(ae,ee){if(!n)return null;for(;ee!==null;)i(ae,ee),ee=ee.sibling;return null}function g(ae){for(var ee=new Map;ae!==null;)ae.key!==null?ee.set(ae.key,ae):ee.set(ae.index,ae),ae=ae.sibling;return ee}function v(ae,ee){return ae=gi(ae,ee),ae.index=0,ae.sibling=null,ae}function A(ae,ee,le){return ae.index=le,n?(le=ae.alternate,le!==null?(le=le.index,le<ee?(ae.flags|=67108866,ee):le):(ae.flags|=67108866,ee)):(ae.flags|=1048576,ee)}function O(ae){return n&&ae.alternate===null&&(ae.flags|=67108866),ae}function z(ae,ee,le,we){return ee===null||ee.tag!==6?(ee=If(le,ae.mode,we),ee.return=ae,ee):(ee=v(ee,le),ee.return=ae,ee)}function W(ae,ee,le,we){var Ze=le.type;return Ze===I?ye(ae,ee,le.props.children,we,le.key):ee!==null&&(ee.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&$s(Ze)===ee.type)?(ee=v(ee,le.props),Kl(ee,le),ee.return=ae,ee):(ee=pu(le.type,le.key,le.props,null,ae.mode,we),Kl(ee,le),ee.return=ae,ee)}function ue(ae,ee,le,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=Df(le,ae.mode,we),ee.return=ae,ee):(ee=v(ee,le.children||[]),ee.return=ae,ee)}function ye(ae,ee,le,we,Ze){return ee===null||ee.tag!==7?(ee=qs(le,ae.mode,we,Ze),ee.return=ae,ee):(ee=v(ee,le),ee.return=ae,ee)}function Ee(ae,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=If(""+ee,ae.mode,le),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:return le=pu(ee.type,ee.key,ee.props,null,ae.mode,le),Kl(le,ee),le.return=ae,le;case P:return ee=Df(ee,ae.mode,le),ee.return=ae,ee;case X:return ee=$s(ee),Ee(ae,ee,le)}if(re(ee)||Ae(ee))return ee=qs(ee,ae.mode,le,null),ee.return=ae,ee;if(typeof ee.then=="function")return Ee(ae,Su(ee),le);if(ee.$$typeof===F)return Ee(ae,bu(ae,ee),le);Au(ae,ee)}return null}function de(ae,ee,le,we){var Ze=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ze!==null?null:z(ae,ee,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return le.key===Ze?W(ae,ee,le,we):null;case P:return le.key===Ze?ue(ae,ee,le,we):null;case X:return le=$s(le),de(ae,ee,le,we)}if(re(le)||Ae(le))return Ze!==null?null:ye(ae,ee,le,we,null);if(typeof le.then=="function")return de(ae,ee,Su(le),we);if(le.$$typeof===F)return de(ae,ee,bu(ae,le),we);Au(ae,le)}return null}function me(ae,ee,le,we,Ze){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ae=ae.get(le)||null,z(ee,ae,""+we,Ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case M:return ae=ae.get(we.key===null?le:we.key)||null,W(ee,ae,we,Ze);case P:return ae=ae.get(we.key===null?le:we.key)||null,ue(ee,ae,we,Ze);case X:return we=$s(we),me(ae,ee,le,we,Ze)}if(re(we)||Ae(we))return ae=ae.get(le)||null,ye(ee,ae,we,Ze,null);if(typeof we.then=="function")return me(ae,ee,le,Su(we),Ze);if(we.$$typeof===F)return me(ae,ee,le,bu(ee,we),Ze);Au(ee,we)}return null}function ze(ae,ee,le,we){for(var Ze=null,jt=null,Ye=ee,mt=ee=0,_t=null;Ye!==null&&mt<le.length;mt++){Ye.index>mt?(_t=Ye,Ye=null):_t=Ye.sibling;var Bt=de(ae,Ye,le[mt],we);if(Bt===null){Ye===null&&(Ye=_t);break}n&&Ye&&Bt.alternate===null&&i(ae,Ye),ee=A(Bt,ee,mt),jt===null?Ze=Bt:jt.sibling=Bt,jt=Bt,Ye=_t}if(mt===le.length)return c(ae,Ye),Tt&&mi(ae,mt),Ze;if(Ye===null){for(;mt<le.length;mt++)Ye=Ee(ae,le[mt],we),Ye!==null&&(ee=A(Ye,ee,mt),jt===null?Ze=Ye:jt.sibling=Ye,jt=Ye);return Tt&&mi(ae,mt),Ze}for(Ye=g(Ye);mt<le.length;mt++)_t=me(Ye,ae,mt,le[mt],we),_t!==null&&(n&&_t.alternate!==null&&Ye.delete(_t.key===null?mt:_t.key),ee=A(_t,ee,mt),jt===null?Ze=_t:jt.sibling=_t,jt=_t);return n&&Ye.forEach(function(bs){return i(ae,bs)}),Tt&&mi(ae,mt),Ze}function tt(ae,ee,le,we){if(le==null)throw Error(o(151));for(var Ze=null,jt=null,Ye=ee,mt=ee=0,_t=null,Bt=le.next();Ye!==null&&!Bt.done;mt++,Bt=le.next()){Ye.index>mt?(_t=Ye,Ye=null):_t=Ye.sibling;var bs=de(ae,Ye,Bt.value,we);if(bs===null){Ye===null&&(Ye=_t);break}n&&Ye&&bs.alternate===null&&i(ae,Ye),ee=A(bs,ee,mt),jt===null?Ze=bs:jt.sibling=bs,jt=bs,Ye=_t}if(Bt.done)return c(ae,Ye),Tt&&mi(ae,mt),Ze;if(Ye===null){for(;!Bt.done;mt++,Bt=le.next())Bt=Ee(ae,Bt.value,we),Bt!==null&&(ee=A(Bt,ee,mt),jt===null?Ze=Bt:jt.sibling=Bt,jt=Bt);return Tt&&mi(ae,mt),Ze}for(Ye=g(Ye);!Bt.done;mt++,Bt=le.next())Bt=me(Ye,ae,mt,Bt.value,we),Bt!==null&&(n&&Bt.alternate!==null&&Ye.delete(Bt.key===null?mt:Bt.key),ee=A(Bt,ee,mt),jt===null?Ze=Bt:jt.sibling=Bt,jt=Bt);return n&&Ye.forEach(function(o3){return i(ae,o3)}),Tt&&mi(ae,mt),Ze}function nn(ae,ee,le,we){if(typeof le=="object"&&le!==null&&le.type===I&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case M:e:{for(var Ze=le.key;ee!==null;){if(ee.key===Ze){if(Ze=le.type,Ze===I){if(ee.tag===7){c(ae,ee.sibling),we=v(ee,le.props.children),we.return=ae,ae=we;break e}}else if(ee.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&$s(Ze)===ee.type){c(ae,ee.sibling),we=v(ee,le.props),Kl(we,le),we.return=ae,ae=we;break e}c(ae,ee);break}else i(ae,ee);ee=ee.sibling}le.type===I?(we=qs(le.props.children,ae.mode,we,le.key),we.return=ae,ae=we):(we=pu(le.type,le.key,le.props,null,ae.mode,we),Kl(we,le),we.return=ae,ae=we)}return O(ae);case P:e:{for(Ze=le.key;ee!==null;){if(ee.key===Ze)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){c(ae,ee.sibling),we=v(ee,le.children||[]),we.return=ae,ae=we;break e}else{c(ae,ee);break}else i(ae,ee);ee=ee.sibling}we=Df(le,ae.mode,we),we.return=ae,ae=we}return O(ae);case X:return le=$s(le),nn(ae,ee,le,we)}if(re(le))return ze(ae,ee,le,we);if(Ae(le)){if(Ze=Ae(le),typeof Ze!="function")throw Error(o(150));return le=Ze.call(le),tt(ae,ee,le,we)}if(typeof le.then=="function")return nn(ae,ee,Su(le),we);if(le.$$typeof===F)return nn(ae,ee,bu(ae,le),we);Au(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(c(ae,ee.sibling),we=v(ee,le),we.return=ae,ae=we):(c(ae,ee),we=If(le,ae.mode,we),we.return=ae,ae=we),O(ae)):c(ae,ee)}return function(ae,ee,le,we){try{Wl=0;var Ze=nn(ae,ee,le,we);return Bo=null,Ze}catch(Ye){if(Ye===jo||Ye===vu)throw Ye;var jt=qr(29,Ye,null,ae.mode);return jt.lanes=we,jt.return=ae,jt}finally{}}}var Js=Rg(!0),Og=Rg(!1),ns=!1;function Gf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,i,c){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var v=g.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),g.pending=i,i=mu(n),hg(n,null,c),i}return gu(n,g,i,c),mu(n)}function Zl(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var g=i.lanes;g&=n.pendingLanes,c|=g,i.lanes=c,_n(n,c)}}function qf(n,i){var c=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var v=null,A=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};A===null?v=A=O:A=A.next=O,c=c.next}while(c!==null);A===null?v=A=i:A=A.next=i}else v=A=i;c={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}var Xf=!1;function $l(){if(Xf){var n=Lo;if(n!==null)throw n}}function Ql(n,i,c,g){Xf=!1;var v=n.updateQueue;ns=!1;var A=v.firstBaseUpdate,O=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var W=z,ue=W.next;W.next=null,O===null?A=ue:O.next=ue,O=W;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==O&&(z===null?ye.firstBaseUpdate=ue:z.next=ue,ye.lastBaseUpdate=W))}if(A!==null){var Ee=v.baseState;O=0,ye=ue=W=null,z=A;do{var de=z.lane&-536870913,me=de!==z.lane;if(me?(Ct&de)===de:(g&de)===de){de!==0&&de===ko&&(Xf=!0),ye!==null&&(ye=ye.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ze=n,tt=z;de=i;var nn=c;switch(tt.tag){case 1:if(ze=tt.payload,typeof ze=="function"){Ee=ze.call(nn,Ee,de);break e}Ee=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=tt.payload,de=typeof ze=="function"?ze.call(nn,Ee,de):ze,de==null)break e;Ee=C({},Ee,de);break e;case 2:ns=!0}}de=z.callback,de!==null&&(n.flags|=64,me&&(n.flags|=8192),me=v.callbacks,me===null?v.callbacks=[de]:me.push(de))}else me={lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(ue=ye=me,W=Ee):ye=ye.next=me,O|=de;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;me=z,z=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);ye===null&&(W=Ee),v.baseState=W,v.firstBaseUpdate=ue,v.lastBaseUpdate=ye,A===null&&(v.shared.lanes=0),cs|=O,n.lanes=O,n.memoizedState=Ee}}function Ig(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Dg(n,i){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Ig(c[n],i)}var Po=$(null),Cu=$(0);function Mg(n,i){n=_i,pe(Cu,n),pe(Po,i),_i=n|i.baseLanes}function Wf(){pe(Cu,_i),pe(Po,Po.current)}function Kf(){_i=Cu.current,ge(Po),ge(Cu)}var Xr=$(null),pa=null;function is(n){var i=n.alternate;pe(Un,Un.current&1),pe(Xr,n),pa===null&&(i===null||Po.current!==null||i.memoizedState!==null)&&(pa=n)}function Zf(n){pe(Un,Un.current),pe(Xr,n),pa===null&&(pa=n)}function kg(n){n.tag===22?(pe(Un,Un.current),pe(Xr,n),pa===null&&(pa=n)):ss()}function ss(){pe(Un,Un.current),pe(Xr,Xr.current)}function Wr(n){ge(Xr),pa===n&&(pa=null),ge(Un)}var Un=$(0);function _u(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||n0(c)||r0(c)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yi=0,ht=null,en=null,Yn=null,Tu=!1,Uo=!1,eo=!1,Nu=0,Jl=0,Fo=null,$v=0;function On(){throw Error(o(321))}function $f(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!m(n[c],i[c]))return!1;return!0}function Qf(n,i,c,g,v,A){return yi=A,ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?xm:hh,eo=!1,A=c(g,v),eo=!1,Uo&&(A=jg(i,c,g,v)),Lg(n),A}function Lg(n){K.H=nc;var i=en!==null&&en.next!==null;if(yi=0,Yn=en=ht=null,Tu=!1,Jl=0,Fo=null,i)throw Error(o(300));n===null||qn||(n=n.dependencies,n!==null&&yu(n)&&(qn=!0))}function jg(n,i,c,g){ht=n;var v=0;do{if(Uo&&(Fo=null),Jl=0,Uo=!1,25<=v)throw Error(o(301));if(v+=1,Yn=en=null,n.updateQueue!=null){var A=n.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}K.H=ym,A=i(c,g)}while(Uo);return A}function Qv(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?ec(i):i,n=n.useState()[0],(en!==null?en.memoizedState:null)!==n&&(ht.flags|=1024),i}function Jf(){var n=Nu!==0;return Nu=0,n}function eh(n,i,c){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c}function th(n){if(Tu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tu=!1}yi=0,Yn=en=ht=null,Uo=!1,Jl=Nu=0,Fo=null}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?ht.memoizedState=Yn=n:Yn=Yn.next=n,Yn}function Fn(){if(en===null){var n=ht.alternate;n=n!==null?n.memoizedState:null}else n=en.next;var i=Yn===null?ht.memoizedState:Yn.next;if(i!==null)Yn=i,en=n;else{if(n===null)throw ht.alternate===null?Error(o(467)):Error(o(310));en=n,n={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Yn===null?ht.memoizedState=Yn=n:Yn=Yn.next=n}return Yn}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(n){var i=Jl;return Jl+=1,Fo===null&&(Fo=[]),n=_g(Fo,n,i),i=ht,(Yn===null?i.memoizedState:Yn.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?xm:hh),n}function Ou(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ec(n);if(n.$$typeof===F)return ur(n)}throw Error(o(438,String(n)))}function nh(n){var i=null,c=ht.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var g=ht.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(i={data:g.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Ru(),ht.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(n),g=0;g<n;g++)c[g]=De;return i.index++,c}function bi(n,i){return typeof i=="function"?i(n):i}function Iu(n){var i=Fn();return rh(i,en,n)}function rh(n,i,c){var g=n.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var v=n.baseQueue,A=g.pending;if(A!==null){if(v!==null){var O=v.next;v.next=A.next,A.next=O}i.baseQueue=v=A,g.pending=null}if(A=n.baseState,v===null)n.memoizedState=A;else{i=v.next;var z=O=null,W=null,ue=i,ye=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(Ct&Ee)===Ee:(yi&Ee)===Ee){var de=ue.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===ko&&(ye=!0);else if((yi&de)===de){ue=ue.next,de===ko&&(ye=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(z=W=Ee,O=A):W=W.next=Ee,ht.lanes|=de,cs|=de;Ee=ue.action,eo&&c(A,Ee),A=ue.hasEagerState?ue.eagerState:c(A,Ee)}else de={lane:Ee,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(z=W=de,O=A):W=W.next=de,ht.lanes|=Ee,cs|=Ee;ue=ue.next}while(ue!==null&&ue!==i);if(W===null?O=A:W.next=z,!m(A,n.memoizedState)&&(qn=!0,ye&&(c=Lo,c!==null)))throw c;n.memoizedState=A,n.baseState=O,n.baseQueue=W,g.lastRenderedState=A}return v===null&&(g.lanes=0),[n.memoizedState,g.dispatch]}function ah(n){var i=Fn(),c=i.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=n;var g=c.dispatch,v=c.pending,A=i.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do A=n(A,O.action),O=O.next;while(O!==v);m(A,i.memoizedState)||(qn=!0),i.memoizedState=A,i.baseQueue===null&&(i.baseState=A),c.lastRenderedState=A}return[A,g]}function Bg(n,i,c){var g=ht,v=Fn(),A=Tt;if(A){if(c===void 0)throw Error(o(407));c=c()}else c=i();var O=!m((en||v).memoizedState,c);if(O&&(v.memoizedState=c,qn=!0),v=v.queue,oh(Fg.bind(null,g,v,n),[n]),v.getSnapshot!==i||O||Yn!==null&&Yn.memoizedState.tag&1){if(g.flags|=2048,zo(9,{destroy:void 0},Ug.bind(null,g,v,c,i),null),ln===null)throw Error(o(349));A||(yi&127)!==0||Pg(g,i,c)}return c}function Pg(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=ht.updateQueue,i===null?(i=Ru(),ht.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Ug(n,i,c,g){i.value=c,i.getSnapshot=g,zg(i)&&Hg(n)}function Fg(n,i,c){return c(function(){zg(i)&&Hg(n)})}function zg(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!m(n,c)}catch{return!0}}function Hg(n){var i=Ys(n,2);i!==null&&jr(i,n,2)}function ih(n){var i=_r();if(typeof n=="function"){var c=n;if(n=c(),eo){Ft(!0);try{c()}finally{Ft(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},i}function Vg(n,i,c,g){return n.baseState=c,rh(n,en,typeof g=="function"?g:bi)}function Jv(n,i,c,g,v){if(ku(n))throw Error(o(485));if(n=i.action,n!==null){var A={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};K.T!==null?c(!0):A.isTransition=!1,g(A),c=i.pending,c===null?(A.next=i.pending=A,Gg(i,A)):(A.next=c.next,i.pending=c.next=A)}}function Gg(n,i){var c=i.action,g=i.payload,v=n.state;if(i.isTransition){var A=K.T,O={};K.T=O;try{var z=c(v,g),W=K.S;W!==null&&W(O,z),Yg(n,i,z)}catch(ue){sh(n,i,ue)}finally{A!==null&&O.types!==null&&(A.types=O.types),K.T=A}}else try{A=c(v,g),Yg(n,i,A)}catch(ue){sh(n,i,ue)}}function Yg(n,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){qg(n,i,g)},function(g){return sh(n,i,g)}):qg(n,i,c)}function qg(n,i,c){i.status="fulfilled",i.value=c,Xg(i),n.state=c,i=n.pending,i!==null&&(c=i.next,c===i?n.pending=null:(c=c.next,i.next=c,Gg(n,c)))}function sh(n,i,c){var g=n.pending;if(n.pending=null,g!==null){g=g.next;do i.status="rejected",i.reason=c,Xg(i),i=i.next;while(i!==g)}n.action=null}function Xg(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Wg(n,i){return i}function Kg(n,i){if(Tt){var c=ln.formState;if(c!==null){e:{var g=ht;if(Tt){if(mn){t:{for(var v=mn,A=ma;v.nodeType!==8;){if(!A){v=null;break t}if(v=xa(v.nextSibling),v===null){v=null;break t}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){mn=xa(v.nextSibling),g=v.data==="F!";break e}}es(g)}g=!1}g&&(i=c[0])}}return c=_r(),c.memoizedState=c.baseState=i,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:i},c.queue=g,c=gm.bind(null,ht,g),g.dispatch=c,g=ih(!1),A=fh.bind(null,ht,!1,g.queue),g=_r(),v={state:i,dispatch:null,action:n,pending:null},g.queue=v,c=Jv.bind(null,ht,v,A,c),v.dispatch=c,g.memoizedState=n,[i,c,!1]}function Zg(n){var i=Fn();return $g(i,en,n)}function $g(n,i,c){if(i=rh(n,i,Wg)[0],n=Iu(bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var g=ec(i)}catch(O){throw O===jo?vu:O}else g=i;i=Fn();var v=i.queue,A=v.dispatch;return c!==i.memoizedState&&(ht.flags|=2048,zo(9,{destroy:void 0},eE.bind(null,v,c),null)),[g,A,n]}function eE(n,i){n.action=i}function Qg(n){var i=Fn(),c=en;if(c!==null)return $g(i,c,n);Fn(),i=i.memoizedState,c=Fn();var g=c.queue.dispatch;return c.memoizedState=n,[i,g,!1]}function zo(n,i,c,g){return n={tag:n,create:c,deps:g,inst:i,next:null},i=ht.updateQueue,i===null&&(i=Ru(),ht.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=n.next=n:(g=c.next,c.next=n,n.next=g,i.lastEffect=n),n}function Jg(){return Fn().memoizedState}function Du(n,i,c,g){var v=_r();ht.flags|=n,v.memoizedState=zo(1|i,{destroy:void 0},c,g===void 0?null:g)}function Mu(n,i,c,g){var v=Fn();g=g===void 0?null:g;var A=v.memoizedState.inst;en!==null&&g!==null&&$f(g,en.memoizedState.deps)?v.memoizedState=zo(i,A,c,g):(ht.flags|=n,v.memoizedState=zo(1|i,A,c,g))}function em(n,i){Du(8390656,8,n,i)}function oh(n,i){Mu(2048,8,n,i)}function tE(n){ht.flags|=4;var i=ht.updateQueue;if(i===null)i=Ru(),ht.updateQueue=i,i.events=[n];else{var c=i.events;c===null?i.events=[n]:c.push(n)}}function tm(n){var i=Fn().memoizedState;return tE({ref:i,nextImpl:n}),function(){if((Vt&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function nm(n,i){return Mu(4,2,n,i)}function rm(n,i){return Mu(4,4,n,i)}function am(n,i){if(typeof i=="function"){n=n();var c=i(n);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function im(n,i,c){c=c!=null?c.concat([n]):null,Mu(4,4,am.bind(null,i,n),c)}function lh(){}function sm(n,i){var c=Fn();i=i===void 0?null:i;var g=c.memoizedState;return i!==null&&$f(i,g[1])?g[0]:(c.memoizedState=[n,i],n)}function om(n,i){var c=Fn();i=i===void 0?null:i;var g=c.memoizedState;if(i!==null&&$f(i,g[1]))return g[0];if(g=n(),eo){Ft(!0);try{n()}finally{Ft(!1)}}return c.memoizedState=[g,i],g}function ch(n,i,c){return c===void 0||(yi&1073741824)!==0&&(Ct&261930)===0?n.memoizedState=i:(n.memoizedState=c,n=lp(),ht.lanes|=n,cs|=n,c)}function lm(n,i,c,g){return m(c,i)?c:Po.current!==null?(n=ch(n,c,g),m(n,i)||(qn=!0),n):(yi&42)===0||(yi&1073741824)!==0&&(Ct&261930)===0?(qn=!0,n.memoizedState=c):(n=lp(),ht.lanes|=n,cs|=n,i)}function cm(n,i,c,g,v){var A=q.p;q.p=A!==0&&8>A?A:8;var O=K.T,z={};K.T=z,fh(n,!1,i,c);try{var W=v(),ue=K.S;if(ue!==null&&ue(z,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ye=Zv(W,g);tc(n,i,ye,$r(n))}else tc(n,i,g,$r(n))}catch(Ee){tc(n,i,{then:function(){},status:"rejected",reason:Ee},$r())}finally{q.p=A,O!==null&&z.types!==null&&(O.types=z.types),K.T=O}}function nE(){}function uh(n,i,c,g){if(n.tag!==5)throw Error(o(476));var v=um(n).queue;cm(n,v,i,te,c===null?nE:function(){return dm(n),c(g)})}function um(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:te},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:c},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function dm(n){var i=um(n);i.next===null&&(i=n.alternate.memoizedState),tc(n,i.next.queue,{},$r())}function dh(){return ur(yc)}function fm(){return Fn().memoizedState}function hm(){return Fn().memoizedState}function rE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var c=$r();n=rs(c);var g=as(i,n,c);g!==null&&(jr(g,i,c),Zl(g,i,c)),i={cache:Ff()},n.payload=i;return}i=i.return}}function aE(n,i,c){var g=$r();c={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ku(n)?mm(i,c):(c=Rf(n,i,c,g),c!==null&&(jr(c,n,g),pm(c,i,g)))}function gm(n,i,c){var g=$r();tc(n,i,c,g)}function tc(n,i,c,g){var v={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ku(n))mm(i,v);else{var A=n.alternate;if(n.lanes===0&&(A===null||A.lanes===0)&&(A=i.lastRenderedReducer,A!==null))try{var O=i.lastRenderedState,z=A(O,c);if(v.hasEagerState=!0,v.eagerState=z,m(z,O))return gu(n,i,v,0),ln===null&&hu(),!1}catch{}finally{}if(c=Rf(n,i,v,g),c!==null)return jr(c,n,g),pm(c,i,g),!0}return!1}function fh(n,i,c,g){if(g={lane:2,revertLane:Gh(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ku(n)){if(i)throw Error(o(479))}else i=Rf(n,c,g,2),i!==null&&jr(i,n,2)}function ku(n){var i=n.alternate;return n===ht||i!==null&&i===ht}function mm(n,i){Uo=Tu=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function pm(n,i,c){if((c&4194048)!==0){var g=i.lanes;g&=n.pendingLanes,c|=g,i.lanes=c,_n(n,c)}}var nc={readContext:ur,use:Ou,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};nc.useEffectEvent=On;var xm={readContext:ur,use:Ou,useCallback:function(n,i){return _r().memoizedState=[n,i===void 0?null:i],n},useContext:ur,useEffect:em,useImperativeHandle:function(n,i,c){c=c!=null?c.concat([n]):null,Du(4194308,4,am.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Du(4194308,4,n,i)},useInsertionEffect:function(n,i){Du(4,2,n,i)},useMemo:function(n,i){var c=_r();i=i===void 0?null:i;var g=n();if(eo){Ft(!0);try{n()}finally{Ft(!1)}}return c.memoizedState=[g,i],g},useReducer:function(n,i,c){var g=_r();if(c!==void 0){var v=c(i);if(eo){Ft(!0);try{c(i)}finally{Ft(!1)}}}else v=i;return g.memoizedState=g.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},g.queue=n,n=n.dispatch=aE.bind(null,ht,n),[g.memoizedState,n]},useRef:function(n){var i=_r();return n={current:n},i.memoizedState=n},useState:function(n){n=ih(n);var i=n.queue,c=gm.bind(null,ht,i);return i.dispatch=c,[n.memoizedState,c]},useDebugValue:lh,useDeferredValue:function(n,i){var c=_r();return ch(c,n,i)},useTransition:function(){var n=ih(!1);return n=cm.bind(null,ht,n.queue,!0,!1),_r().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,c){var g=ht,v=_r();if(Tt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=i(),ln===null)throw Error(o(349));(Ct&127)!==0||Pg(g,i,c)}v.memoizedState=c;var A={value:c,getSnapshot:i};return v.queue=A,em(Fg.bind(null,g,A,n),[n]),g.flags|=2048,zo(9,{destroy:void 0},Ug.bind(null,g,A,c,i),null),c},useId:function(){var n=_r(),i=ln.identifierPrefix;if(Tt){var c=Wa,g=Xa;c=(g&~(1<<32-dt(g)-1)).toString(32)+c,i="_"+i+"R_"+c,c=Nu++,0<c&&(i+="H"+c.toString(32)),i+="_"}else c=$v++,i="_"+i+"r_"+c.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:dh,useFormState:Kg,useActionState:Kg,useOptimistic:function(n){var i=_r();i.memoizedState=i.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=fh.bind(null,ht,!0,c),c.dispatch=i,[n,i]},useMemoCache:nh,useCacheRefresh:function(){return _r().memoizedState=rE.bind(null,ht)},useEffectEvent:function(n){var i=_r(),c={impl:n};return i.memoizedState=c,function(){if((Vt&2)!==0)throw Error(o(440));return c.impl.apply(void 0,arguments)}}},hh={readContext:ur,use:Ou,useCallback:sm,useContext:ur,useEffect:oh,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:rm,useMemo:om,useReducer:Iu,useRef:Jg,useState:function(){return Iu(bi)},useDebugValue:lh,useDeferredValue:function(n,i){var c=Fn();return lm(c,en.memoizedState,n,i)},useTransition:function(){var n=Iu(bi)[0],i=Fn().memoizedState;return[typeof n=="boolean"?n:ec(n),i]},useSyncExternalStore:Bg,useId:fm,useHostTransitionStatus:dh,useFormState:Zg,useActionState:Zg,useOptimistic:function(n,i){var c=Fn();return Vg(c,en,n,i)},useMemoCache:nh,useCacheRefresh:hm};hh.useEffectEvent=tm;var ym={readContext:ur,use:Ou,useCallback:sm,useContext:ur,useEffect:oh,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:rm,useMemo:om,useReducer:ah,useRef:Jg,useState:function(){return ah(bi)},useDebugValue:lh,useDeferredValue:function(n,i){var c=Fn();return en===null?ch(c,n,i):lm(c,en.memoizedState,n,i)},useTransition:function(){var n=ah(bi)[0],i=Fn().memoizedState;return[typeof n=="boolean"?n:ec(n),i]},useSyncExternalStore:Bg,useId:fm,useHostTransitionStatus:dh,useFormState:Qg,useActionState:Qg,useOptimistic:function(n,i){var c=Fn();return en!==null?Vg(c,en,n,i):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:nh,useCacheRefresh:hm};ym.useEffectEvent=tm;function gh(n,i,c,g){i=n.memoizedState,c=c(g,i),c=c==null?i:C({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var mh={enqueueSetState:function(n,i,c){n=n._reactInternals;var g=$r(),v=rs(g);v.payload=i,c!=null&&(v.callback=c),i=as(n,v,g),i!==null&&(jr(i,n,g),Zl(i,n,g))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var g=$r(),v=rs(g);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=as(n,v,g),i!==null&&(jr(i,n,g),Zl(i,n,g))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=$r(),g=rs(c);g.tag=2,i!=null&&(g.callback=i),i=as(n,g,c),i!==null&&(jr(i,n,c),Zl(i,n,c))}};function bm(n,i,c,g,v,A,O){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,A,O):i.prototype&&i.prototype.isPureReactComponent?!y(c,g)||!y(v,A):!0}function wm(n,i,c,g){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,g),i.state!==n&&mh.enqueueReplaceState(i,i.state,null)}function to(n,i){var c=i;if("ref"in i){c={};for(var g in i)g!=="ref"&&(c[g]=i[g])}if(n=n.defaultProps){c===i&&(c=C({},c));for(var v in n)c[v]===void 0&&(c[v]=n[v])}return c}function vm(n){fu(n)}function Em(n){console.error(n)}function Sm(n){fu(n)}function Lu(n,i){try{var c=n.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(g){setTimeout(function(){throw g})}}function Am(n,i,c){try{var g=n.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ph(n,i,c){return c=rs(c),c.tag=3,c.payload={element:null},c.callback=function(){Lu(n,i)},c}function Cm(n){return n=rs(n),n.tag=3,n}function _m(n,i,c,g){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var A=g.value;n.payload=function(){return v(A)},n.callback=function(){Am(i,c,g)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(n.callback=function(){Am(i,c,g),typeof v!="function"&&(us===null?us=new Set([this]):us.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function iE(n,i,c,g,v){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(i=c.alternate,i!==null&&Mo(i,c,v,!0),c=Xr.current,c!==null){switch(c.tag){case 31:case 13:return pa===null?Xu():c.alternate===null&&In===0&&(In=3),c.flags&=-257,c.flags|=65536,c.lanes=v,g===Eu?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([g]):i.add(g),zh(n,g,v)),!1;case 22:return c.flags|=65536,g===Eu?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([g]):c.add(g)),zh(n,g,v)),!1}throw Error(o(435,c.tag))}return zh(n,g,v),Xu(),!1}if(Tt)return i=Xr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,g!==Lf&&(n=Error(o(422),{cause:g}),Yl(fa(n,c)))):(g!==Lf&&(i=Error(o(423),{cause:g}),Yl(fa(i,c))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,g=fa(g,c),v=ph(n.stateNode,g,v),qf(n,v),In!==4&&(In=2)),!1;var A=Error(o(520),{cause:g});if(A=fa(A,c),uc===null?uc=[A]:uc.push(A),In!==4&&(In=2),i===null)return!0;g=fa(g,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,n=v&-v,c.lanes|=n,n=ph(c.stateNode,g,n),qf(c,n),!1;case 1:if(i=c.type,A=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(us===null||!us.has(A))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Cm(v),_m(v,n,c,g),qf(c,v),!1}c=c.return}while(c!==null);return!1}var xh=Error(o(461)),qn=!1;function dr(n,i,c,g){i.child=n===null?Og(i,null,c,g):Js(i,n.child,c,g)}function Tm(n,i,c,g,v){c=c.render;var A=i.ref;if("ref"in g){var O={};for(var z in g)z!=="ref"&&(O[z]=g[z])}else O=g;return Ks(i),g=Qf(n,i,c,O,A,v),z=Jf(),n!==null&&!qn?(eh(n,i,v),wi(n,i,v)):(Tt&&z&&Mf(i),i.flags|=1,dr(n,i,g,v),i.child)}function Nm(n,i,c,g,v){if(n===null){var A=c.type;return typeof A=="function"&&!Of(A)&&A.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=A,Rm(n,i,A,g,v)):(n=pu(c.type,null,g,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(A=n.child,!Ch(n,v)){var O=A.memoizedProps;if(c=c.compare,c=c!==null?c:y,c(O,g)&&n.ref===i.ref)return wi(n,i,v)}return i.flags|=1,n=gi(A,g),n.ref=i.ref,n.return=i,i.child=n}function Rm(n,i,c,g,v){if(n!==null){var A=n.memoizedProps;if(y(A,g)&&n.ref===i.ref)if(qn=!1,i.pendingProps=g=A,Ch(n,v))(n.flags&131072)!==0&&(qn=!0);else return i.lanes=n.lanes,wi(n,i,v)}return yh(n,i,c,g,v)}function Om(n,i,c,g){var v=g.children,A=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((i.flags&128)!==0){if(A=A!==null?A.baseLanes|c:c,n!==null){for(g=i.child=n.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~A}else g=0,i.child=null;return Im(n,i,A,c,g)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&wu(i,A!==null?A.cachePool:null),A!==null?Mg(i,A):Wf(),kg(i);else return g=i.lanes=536870912,Im(n,i,A!==null?A.baseLanes|c:c,c,g)}else A!==null?(wu(i,A.cachePool),Mg(i,A),ss(),i.memoizedState=null):(n!==null&&wu(i,null),Wf(),ss());return dr(n,i,v,c),i.child}function rc(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Im(n,i,c,g,v){var A=Hf();return A=A===null?null:{parent:Gn._currentValue,pool:A},i.memoizedState={baseLanes:c,cachePool:A},n!==null&&wu(i,null),Wf(),kg(i),n!==null&&Mo(n,i,g,!0),i.childLanes=v,null}function ju(n,i){return i=Pu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Dm(n,i,c){return Js(i,n.child,null,c),n=ju(i,i.pendingProps),n.flags|=2,Wr(i),i.memoizedState=null,n}function sE(n,i,c){var g=i.pendingProps,v=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Tt){if(g.mode==="hidden")return n=ju(i,g),i.lanes=536870912,rc(null,n);if(Zf(i),(n=mn)?(n=Gp(n,ma),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Qi!==null?{id:Xa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},c=mg(n),c.return=i,i.child=c,cr=i,mn=null)):n=null,n===null)throw es(i);return i.lanes=536870912,null}return ju(i,g)}var A=n.memoizedState;if(A!==null){var O=A.dehydrated;if(Zf(i),v)if(i.flags&256)i.flags&=-257,i=Dm(n,i,c);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(o(558));else if(qn||Mo(n,i,c,!1),v=(c&n.childLanes)!==0,qn||v){if(g=ln,g!==null&&(O=sr(g,c),O!==0&&O!==A.retryLane))throw A.retryLane=O,Ys(n,O),jr(g,n,O),xh;Xu(),i=Dm(n,i,c)}else n=A.treeContext,mn=xa(O.nextSibling),cr=i,Tt=!0,Ji=null,ma=!1,n!==null&&yg(i,n),i=ju(i,g),i.flags|=4096;return i}return n=gi(n.child,{mode:g.mode,children:g.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Bu(n,i){var c=i.ref;if(c===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(n===null||n.ref!==c)&&(i.flags|=4194816)}}function yh(n,i,c,g,v){return Ks(i),c=Qf(n,i,c,g,void 0,v),g=Jf(),n!==null&&!qn?(eh(n,i,v),wi(n,i,v)):(Tt&&g&&Mf(i),i.flags|=1,dr(n,i,c,v),i.child)}function Mm(n,i,c,g,v,A){return Ks(i),i.updateQueue=null,c=jg(i,g,c,v),Lg(n),g=Jf(),n!==null&&!qn?(eh(n,i,A),wi(n,i,A)):(Tt&&g&&Mf(i),i.flags|=1,dr(n,i,c,A),i.child)}function km(n,i,c,g,v){if(Ks(i),i.stateNode===null){var A=Ro,O=c.contextType;typeof O=="object"&&O!==null&&(A=ur(O)),A=new c(g,A),i.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=mh,i.stateNode=A,A._reactInternals=i,A=i.stateNode,A.props=g,A.state=i.memoizedState,A.refs={},Gf(i),O=c.contextType,A.context=typeof O=="object"&&O!==null?ur(O):Ro,A.state=i.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(gh(i,c,O,g),A.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&mh.enqueueReplaceState(A,A.state,null),Ql(i,g,A,v),$l(),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308),g=!0}else if(n===null){A=i.stateNode;var z=i.memoizedProps,W=to(c,z);A.props=W;var ue=A.context,ye=c.contextType;O=Ro,typeof ye=="object"&&ye!==null&&(O=ur(ye));var Ee=c.getDerivedStateFromProps;ye=typeof Ee=="function"||typeof A.getSnapshotBeforeUpdate=="function",z=i.pendingProps!==z,ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z||ue!==O)&&wm(i,A,g,O),ns=!1;var de=i.memoizedState;A.state=de,Ql(i,g,A,v),$l(),ue=i.memoizedState,z||de!==ue||ns?(typeof Ee=="function"&&(gh(i,c,Ee,g),ue=i.memoizedState),(W=ns||bm(i,c,W,g,de,ue,O))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=ue),A.props=g,A.state=ue,A.context=O,g=W):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{A=i.stateNode,Yf(n,i),O=i.memoizedProps,ye=to(c,O),A.props=ye,Ee=i.pendingProps,de=A.context,ue=c.contextType,W=Ro,typeof ue=="object"&&ue!==null&&(W=ur(ue)),z=c.getDerivedStateFromProps,(ue=typeof z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==Ee||de!==W)&&wm(i,A,g,W),ns=!1,de=i.memoizedState,A.state=de,Ql(i,g,A,v),$l();var me=i.memoizedState;O!==Ee||de!==me||ns||n!==null&&n.dependencies!==null&&yu(n.dependencies)?(typeof z=="function"&&(gh(i,c,z,g),me=i.memoizedState),(ye=ns||bm(i,c,ye,g,de,me,W)||n!==null&&n.dependencies!==null&&yu(n.dependencies))?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,me,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,me,W)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===n.memoizedProps&&de===n.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&de===n.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=me),A.props=g,A.state=me,A.context=W,g=ye):(typeof A.componentDidUpdate!="function"||O===n.memoizedProps&&de===n.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&de===n.memoizedState||(i.flags|=1024),g=!1)}return A=g,Bu(n,i),g=(i.flags&128)!==0,A||g?(A=i.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:A.render(),i.flags|=1,n!==null&&g?(i.child=Js(i,n.child,null,v),i.child=Js(i,null,c,v)):dr(n,i,c,v),i.memoizedState=A.state,n=i.child):n=wi(n,i,v),n}function Lm(n,i,c,g){return Xs(),i.flags|=256,dr(n,i,c,g),i.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(n){return{baseLanes:n,cachePool:Ag()}}function vh(n,i,c){return n=n!==null?n.childLanes&~c:0,i&&(n|=Zr),n}function jm(n,i,c){var g=i.pendingProps,v=!1,A=(i.flags&128)!==0,O;if((O=A)||(O=n!==null&&n.memoizedState===null?!1:(Un.current&2)!==0),O&&(v=!0,i.flags&=-129),O=(i.flags&32)!==0,i.flags&=-33,n===null){if(Tt){if(v?is(i):ss(),(n=mn)?(n=Gp(n,ma),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Qi!==null?{id:Xa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},c=mg(n),c.return=i,i.child=c,cr=i,mn=null)):n=null,n===null)throw es(i);return r0(n)?i.lanes=32:i.lanes=536870912,null}var z=g.children;return g=g.fallback,v?(ss(),v=i.mode,z=Pu({mode:"hidden",children:z},v),g=qs(g,v,c,null),z.return=i,g.return=i,z.sibling=g,i.child=z,g=i.child,g.memoizedState=wh(c),g.childLanes=vh(n,O,c),i.memoizedState=bh,rc(null,g)):(is(i),Eh(i,z))}var W=n.memoizedState;if(W!==null&&(z=W.dehydrated,z!==null)){if(A)i.flags&256?(is(i),i.flags&=-257,i=Sh(n,i,c)):i.memoizedState!==null?(ss(),i.child=n.child,i.flags|=128,i=null):(ss(),z=g.fallback,v=i.mode,g=Pu({mode:"visible",children:g.children},v),z=qs(z,v,c,null),z.flags|=2,g.return=i,z.return=i,g.sibling=z,i.child=g,Js(i,n.child,null,c),g=i.child,g.memoizedState=wh(c),g.childLanes=vh(n,O,c),i.memoizedState=bh,i=rc(null,g));else if(is(i),r0(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var ue=O.dgst;O=ue,g=Error(o(419)),g.stack="",g.digest=O,Yl({value:g,source:null,stack:null}),i=Sh(n,i,c)}else if(qn||Mo(n,i,c,!1),O=(c&n.childLanes)!==0,qn||O){if(O=ln,O!==null&&(g=sr(O,c),g!==0&&g!==W.retryLane))throw W.retryLane=g,Ys(n,g),jr(O,n,g),xh;n0(z)||Xu(),i=Sh(n,i,c)}else n0(z)?(i.flags|=192,i.child=n.child,i=null):(n=W.treeContext,mn=xa(z.nextSibling),cr=i,Tt=!0,Ji=null,ma=!1,n!==null&&yg(i,n),i=Eh(i,g.children),i.flags|=4096);return i}return v?(ss(),z=g.fallback,v=i.mode,W=n.child,ue=W.sibling,g=gi(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&65011712,ue!==null?z=gi(ue,z):(z=qs(z,v,c,null),z.flags|=2),z.return=i,g.return=i,g.sibling=z,i.child=g,rc(null,g),g=i.child,z=n.child.memoizedState,z===null?z=wh(c):(v=z.cachePool,v!==null?(W=Gn._currentValue,v=v.parent!==W?{parent:W,pool:W}:v):v=Ag(),z={baseLanes:z.baseLanes|c,cachePool:v}),g.memoizedState=z,g.childLanes=vh(n,O,c),i.memoizedState=bh,rc(n.child,g)):(is(i),c=n.child,n=c.sibling,c=gi(c,{mode:"visible",children:g.children}),c.return=i,c.sibling=null,n!==null&&(O=i.deletions,O===null?(i.deletions=[n],i.flags|=16):O.push(n)),i.child=c,i.memoizedState=null,c)}function Eh(n,i){return i=Pu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Pu(n,i){return n=qr(22,n,null,i),n.lanes=0,n}function Sh(n,i,c){return Js(i,n.child,null,c),n=Eh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Bm(n,i,c){n.lanes|=i;var g=n.alternate;g!==null&&(g.lanes|=i),Pf(n.return,i,c)}function Ah(n,i,c,g,v,A){var O=n.memoizedState;O===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:v,treeForkCount:A}:(O.isBackwards=i,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=c,O.tailMode=v,O.treeForkCount=A)}function Pm(n,i,c){var g=i.pendingProps,v=g.revealOrder,A=g.tail;g=g.children;var O=Un.current,z=(O&2)!==0;if(z?(O=O&1|2,i.flags|=128):O&=1,pe(Un,O),dr(n,i,g,c),g=Tt?Gl:0,!z&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bm(n,c,i);else if(n.tag===19)Bm(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(c=i.child,v=null;c!==null;)n=c.alternate,n!==null&&_u(n)===null&&(v=c),c=c.sibling;c=v,c===null?(v=i.child,i.child=null):(v=c.sibling,c.sibling=null),Ah(i,!1,v,c,A,g);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&_u(n)===null){i.child=v;break}n=v.sibling,v.sibling=c,c=v,v=n}Ah(i,!0,c,null,A,g);break;case"together":Ah(i,!1,null,null,void 0,g);break;default:i.memoizedState=null}return i.child}function wi(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),cs|=i.lanes,(c&i.childLanes)===0)if(n!==null){if(Mo(n,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,c=gi(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=gi(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function Ch(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&yu(n)))}function oE(n,i,c){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),ts(i,Gn,n.memoizedState.cache),Xs();break;case 27:case 5:lt(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var g=i.memoizedState;if(g!==null)return g.dehydrated!==null?(is(i),i.flags|=128,null):(c&i.child.childLanes)!==0?jm(n,i,c):(is(i),n=wi(n,i,c),n!==null?n.sibling:null);is(i);break;case 19:var v=(n.flags&128)!==0;if(g=(c&i.childLanes)!==0,g||(Mo(n,i,c,!1),g=(c&i.childLanes)!==0),v){if(g)return Pm(n,i,c);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(Un,Un.current),g)break;return null;case 22:return i.lanes=0,Om(n,i,c,i.pendingProps);case 24:ts(i,Gn,n.memoizedState.cache)}return wi(n,i,c)}function Um(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps)qn=!0;else{if(!Ch(n,c)&&(i.flags&128)===0)return qn=!1,oE(n,i,c);qn=(n.flags&131072)!==0}else qn=!1,Tt&&(i.flags&1048576)!==0&&xg(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var g=i.pendingProps;if(n=$s(i.elementType),i.type=n,typeof n=="function")Of(n)?(g=to(n,g),i.tag=1,i=km(null,i,n,g,c)):(i.tag=0,i=yh(null,i,n,g,c));else{if(n!=null){var v=n.$$typeof;if(v===Q){i.tag=11,i=Tm(null,i,n,g,c);break e}else if(v===Y){i.tag=14,i=Nm(null,i,n,g,c);break e}}throw i=je(n)||n,Error(o(306,i,""))}}return i;case 0:return yh(n,i,i.type,i.pendingProps,c);case 1:return g=i.type,v=to(g,i.pendingProps),km(n,i,g,v,c);case 3:e:{if(Te(i,i.stateNode.containerInfo),n===null)throw Error(o(387));g=i.pendingProps;var A=i.memoizedState;v=A.element,Yf(n,i),Ql(i,g,null,c);var O=i.memoizedState;if(g=O.cache,ts(i,Gn,g),g!==A.cache&&Uf(i,[Gn],c,!0),$l(),g=O.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:O.cache},i.updateQueue.baseState=A,i.memoizedState=A,i.flags&256){i=Lm(n,i,g,c);break e}else if(g!==v){v=fa(Error(o(424)),i),Yl(v),i=Lm(n,i,g,c);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mn=xa(n.firstChild),cr=i,Tt=!0,Ji=null,ma=!0,c=Og(i,null,g,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Xs(),g===v){i=wi(n,i,c);break e}dr(n,i,g,c)}i=i.child}return i;case 26:return Bu(n,i),n===null?(c=Zp(i.type,null,i.pendingProps,null))?i.memoizedState=c:Tt||(c=i.type,n=i.pendingProps,g=ed(ve.current).createElement(c),g[jn]=i,g[Wt]=n,fr(g,c,n),Nn(g),i.stateNode=g):i.memoizedState=Zp(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return lt(i),n===null&&Tt&&(g=i.stateNode=Xp(i.type,i.pendingProps,ve.current),cr=i,ma=!0,v=mn,gs(i.type)?(a0=v,mn=xa(g.firstChild)):mn=v),dr(n,i,i.pendingProps.children,c),Bu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Tt&&((v=g=mn)&&(g=BE(g,i.type,i.pendingProps,ma),g!==null?(i.stateNode=g,cr=i,mn=xa(g.firstChild),ma=!1,v=!0):v=!1),v||es(i)),lt(i),v=i.type,A=i.pendingProps,O=n!==null?n.memoizedProps:null,g=A.children,Jh(v,A)?g=null:O!==null&&Jh(v,O)&&(i.flags|=32),i.memoizedState!==null&&(v=Qf(n,i,Qv,null,null,c),yc._currentValue=v),Bu(n,i),dr(n,i,g,c),i.child;case 6:return n===null&&Tt&&((n=c=mn)&&(c=PE(c,i.pendingProps,ma),c!==null?(i.stateNode=c,cr=i,mn=null,n=!0):n=!1),n||es(i)),null;case 13:return jm(n,i,c);case 4:return Te(i,i.stateNode.containerInfo),g=i.pendingProps,n===null?i.child=Js(i,null,g,c):dr(n,i,g,c),i.child;case 11:return Tm(n,i,i.type,i.pendingProps,c);case 7:return dr(n,i,i.pendingProps,c),i.child;case 8:return dr(n,i,i.pendingProps.children,c),i.child;case 12:return dr(n,i,i.pendingProps.children,c),i.child;case 10:return g=i.pendingProps,ts(i,i.type,g.value),dr(n,i,g.children,c),i.child;case 9:return v=i.type._context,g=i.pendingProps.children,Ks(i),v=ur(v),g=g(v),i.flags|=1,dr(n,i,g,c),i.child;case 14:return Nm(n,i,i.type,i.pendingProps,c);case 15:return Rm(n,i,i.type,i.pendingProps,c);case 19:return Pm(n,i,c);case 31:return sE(n,i,c);case 22:return Om(n,i,c,i.pendingProps);case 24:return Ks(i),g=ur(Gn),n===null?(v=Hf(),v===null&&(v=ln,A=Ff(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=c),v=A),i.memoizedState={parent:g,cache:v},Gf(i),ts(i,Gn,v)):((n.lanes&c)!==0&&(Yf(n,i),Ql(i,null,null,c),$l()),v=n.memoizedState,A=i.memoizedState,v.parent!==g?(v={parent:g,cache:g},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),ts(i,Gn,g)):(g=A.cache,ts(i,Gn,g),g!==v.cache&&Uf(i,[Gn],c,!0))),dr(n,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function vi(n){n.flags|=4}function _h(n,i,c,g,v){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(fp())n.flags|=8192;else throw Qs=Eu,Vf}else n.flags&=-16777217}function Fm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tx(i))if(fp())n.flags|=8192;else throw Qs=Eu,Vf}function Uu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Mt():536870912,n.lanes|=i,Yo|=i)}function ac(n,i){if(!Tt)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function pn(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,g=0;if(i)for(var v=n.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=g,n.childLanes=c,i}function lE(n,i,c){var g=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return pn(i),null;case 3:return c=i.stateNode,g=null,n!==null&&(g=n.memoizedState.cache),i.memoizedState.cache!==g&&(i.flags|=2048),xi(Gn),qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Do(i)?vi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),pn(i),null;case 26:var v=i.type,A=i.memoizedState;return n===null?(vi(i),A!==null?(pn(i),Fm(i,A)):(pn(i),_h(i,v,null,g,c))):A?A!==n.memoizedState?(vi(i),pn(i),Fm(i,A)):(pn(i),i.flags&=-16777217):(n=n.memoizedProps,n!==g&&vi(i),pn(i),_h(i,v,n,g,c)),null;case 27:if(We(i),c=ve.current,v=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==g&&vi(i);else{if(!g){if(i.stateNode===null)throw Error(o(166));return pn(i),null}n=xe.current,Do(i)?bg(i):(n=Xp(v,g,c),i.stateNode=n,vi(i))}return pn(i),null;case 5:if(We(i),v=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==g&&vi(i);else{if(!g){if(i.stateNode===null)throw Error(o(166));return pn(i),null}if(A=xe.current,Do(i))bg(i);else{var O=ed(ve.current);switch(A){case 1:A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":A=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":A=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":A=O.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}A[jn]=i,A[Wt]=g;e:for(O=i.child;O!==null;){if(O.tag===5||O.tag===6)A.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===i)break e;for(;O.sibling===null;){if(O.return===null||O.return===i)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}i.stateNode=A;e:switch(fr(A,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&vi(i)}}return pn(i),_h(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,c),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==g&&vi(i);else{if(typeof g!="string"&&i.stateNode===null)throw Error(o(166));if(n=ve.current,Do(i)){if(n=i.stateNode,c=i.memoizedProps,g=null,v=cr,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}n[jn]=i,n=!!(n.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||jp(n.nodeValue,c)),n||es(i,!0)}else n=ed(n).createTextNode(g),n[jn]=i,i.stateNode=n}return pn(i),null;case 31:if(c=i.memoizedState,n===null||n.memoizedState!==null){if(g=Do(i),c!==null){if(n===null){if(!g)throw Error(o(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[jn]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),n=!1}else c=jf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return i.flags&256?(Wr(i),i):(Wr(i),null);if((i.flags&128)!==0)throw Error(o(558))}return pn(i),null;case 13:if(g=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Do(i),g!==null&&g.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[jn]=i}else Xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),v=!1}else v=jf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Wr(i),i):(Wr(i),null)}return Wr(i),(i.flags&128)!==0?(i.lanes=c,i):(c=g!==null,n=n!==null&&n.memoizedState!==null,c&&(g=i.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==v&&(g.flags|=2048)),c!==n&&c&&(i.child.flags|=8192),Uu(i,i.updateQueue),pn(i),null);case 4:return qe(),n===null&&Wh(i.stateNode.containerInfo),pn(i),null;case 10:return xi(i.type),pn(i),null;case 19:if(ge(Un),g=i.memoizedState,g===null)return pn(i),null;if(v=(i.flags&128)!==0,A=g.rendering,A===null)if(v)ac(g,!1);else{if(In!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(A=_u(n),A!==null){for(i.flags|=128,ac(g,!1),n=A.updateQueue,i.updateQueue=n,Uu(i,n),i.subtreeFlags=0,n=c,c=i.child;c!==null;)gg(c,n),c=c.sibling;return pe(Un,Un.current&1|2),Tt&&mi(i,g.treeForkCount),i.child}n=n.sibling}g.tail!==null&&dn()>Gu&&(i.flags|=128,v=!0,ac(g,!1),i.lanes=4194304)}else{if(!v)if(n=_u(A),n!==null){if(i.flags|=128,v=!0,n=n.updateQueue,i.updateQueue=n,Uu(i,n),ac(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!Tt)return pn(i),null}else 2*dn()-g.renderingStartTime>Gu&&c!==536870912&&(i.flags|=128,v=!0,ac(g,!1),i.lanes=4194304);g.isBackwards?(A.sibling=i.child,i.child=A):(n=g.last,n!==null?n.sibling=A:i.child=A,g.last=A)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=dn(),n.sibling=null,c=Un.current,pe(Un,v?c&1|2:c&1),Tt&&mi(i,g.treeForkCount),n):(pn(i),null);case 22:case 23:return Wr(i),Kf(),g=i.memoizedState!==null,n!==null?n.memoizedState!==null!==g&&(i.flags|=8192):g&&(i.flags|=8192),g?(c&536870912)!==0&&(i.flags&128)===0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),c=i.updateQueue,c!==null&&Uu(i,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),g=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(g=i.memoizedState.cachePool.pool),g!==c&&(i.flags|=2048),n!==null&&ge(Zs),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xi(Gn),pn(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function cE(n,i){switch(kf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return xi(Gn),qe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(Wr(i),i.alternate===null)throw Error(o(340));Xs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Wr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Xs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ge(Un),null;case 4:return qe(),null;case 10:return xi(i.type),null;case 22:case 23:return Wr(i),Kf(),n!==null&&ge(Zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return xi(Gn),null;case 25:return null;default:return null}}function zm(n,i){switch(kf(i),i.tag){case 3:xi(Gn),qe();break;case 26:case 27:case 5:We(i);break;case 4:qe();break;case 31:i.memoizedState!==null&&Wr(i);break;case 13:Wr(i);break;case 19:ge(Un);break;case 10:xi(i.type);break;case 22:case 23:Wr(i),Kf(),n!==null&&ge(Zs);break;case 24:xi(Gn)}}function ic(n,i){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&n)===n){g=void 0;var A=c.create,O=c.inst;g=A(),O.destroy=g}c=c.next}while(c!==v)}}catch(z){Zt(i,i.return,z)}}function os(n,i,c){try{var g=i.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var A=v.next;g=A;do{if((g.tag&n)===n){var O=g.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,v=i;var W=c,ue=z;try{ue()}catch(ye){Zt(v,W,ye)}}}g=g.next}while(g!==A)}}catch(ye){Zt(i,i.return,ye)}}function Hm(n){var i=n.updateQueue;if(i!==null){var c=n.stateNode;try{Dg(i,c)}catch(g){Zt(n,n.return,g)}}}function Vm(n,i,c){c.props=to(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(g){Zt(n,i,g)}}function sc(n,i){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var g=n.stateNode;break;case 30:g=n.stateNode;break;default:g=n.stateNode}typeof c=="function"?n.refCleanup=c(g):c.current=g}}catch(v){Zt(n,i,v)}}function Ka(n,i){var c=n.ref,g=n.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(v){Zt(n,i,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Zt(n,i,v)}else c.current=null}function Gm(n){var i=n.type,c=n.memoizedProps,g=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break e;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(v){Zt(n,n.return,v)}}function Th(n,i,c){try{var g=n.stateNode;IE(g,n.type,c,i),g[Wt]=i}catch(v){Zt(n,n.return,v)}}function Ym(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gs(n.type)||n.tag===4}function Nh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ym(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rh(n,i,c){var g=n.tag;if(g===5||g===6)n=n.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(n),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Rr));else if(g!==4&&(g===27&&gs(n.type)&&(c=n.stateNode,i=null),n=n.child,n!==null))for(Rh(n,i,c),n=n.sibling;n!==null;)Rh(n,i,c),n=n.sibling}function Fu(n,i,c){var g=n.tag;if(g===5||g===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(g!==4&&(g===27&&gs(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(Fu(n,i,c),n=n.sibling;n!==null;)Fu(n,i,c),n=n.sibling}function qm(n){var i=n.stateNode,c=n.memoizedProps;try{for(var g=n.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);fr(i,g,c),i[jn]=n,i[Wt]=c}catch(A){Zt(n,n.return,A)}}var Ei=!1,Xn=!1,Oh=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,or=null;function uE(n,i){if(n=n.containerInfo,$h=od,n=L(n),U(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var v=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{c.nodeType,A.nodeType}catch{c=null;break e}var O=0,z=-1,W=-1,ue=0,ye=0,Ee=n,de=null;t:for(;;){for(var me;Ee!==c||v!==0&&Ee.nodeType!==3||(z=O+v),Ee!==A||g!==0&&Ee.nodeType!==3||(W=O+g),Ee.nodeType===3&&(O+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)de=Ee,Ee=me;for(;;){if(Ee===n)break t;if(de===c&&++ue===v&&(z=O),de===A&&++ye===g&&(W=O),(me=Ee.nextSibling)!==null)break;Ee=de,de=Ee.parentNode}Ee=me}c=z===-1||W===-1?null:{start:z,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qh={focusedElem:n,selectionRange:c},od=!1,or=i;or!==null;)if(i=or,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,or=n;else for(;or!==null;){switch(i=or,A=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)v=n[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&A!==null){n=void 0,c=i,v=A.memoizedProps,A=A.memoizedState,g=c.stateNode;try{var ze=to(c.type,v);n=g.getSnapshotBeforeUpdate(ze,A),g.__reactInternalSnapshotBeforeUpdate=n}catch(tt){Zt(c,c.return,tt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,c=n.nodeType,c===9)t0(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":t0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,or=n;break}or=i.return}}function Wm(n,i,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:Ai(n,c),g&4&&ic(5,c);break;case 1:if(Ai(n,c),g&4)if(n=c.stateNode,i===null)try{n.componentDidMount()}catch(O){Zt(c,c.return,O)}else{var v=to(c.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(v,i,n.__reactInternalSnapshotBeforeUpdate)}catch(O){Zt(c,c.return,O)}}g&64&&Hm(c),g&512&&sc(c,c.return);break;case 3:if(Ai(n,c),g&64&&(n=c.updateQueue,n!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{Dg(n,i)}catch(O){Zt(c,c.return,O)}}break;case 27:i===null&&g&4&&qm(c);case 26:case 5:Ai(n,c),i===null&&g&4&&Gm(c),g&512&&sc(c,c.return);break;case 12:Ai(n,c);break;case 31:Ai(n,c),g&4&&$m(n,c);break;case 13:Ai(n,c),g&4&&Qm(n,c),g&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=bE.bind(null,c),UE(n,c))));break;case 22:if(g=c.memoizedState!==null||Ei,!g){i=i!==null&&i.memoizedState!==null||Xn,v=Ei;var A=Xn;Ei=g,(Xn=i)&&!A?Ci(n,c,(c.subtreeFlags&8772)!==0):Ai(n,c),Ei=v,Xn=A}break;case 30:break;default:Ai(n,c)}}function Km(n){var i=n.alternate;i!==null&&(n.alternate=null,Km(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Nr(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bn=null,Dr=!1;function Si(n,i,c){for(c=c.child;c!==null;)Zm(n,i,c),c=c.sibling}function Zm(n,i,c){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Qt,c)}catch{}switch(c.tag){case 26:Xn||Ka(c,i),Si(n,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Xn||Ka(c,i);var g=bn,v=Dr;gs(c.type)&&(bn=c.stateNode,Dr=!1),Si(n,i,c),mc(c.stateNode),bn=g,Dr=v;break;case 5:Xn||Ka(c,i);case 6:if(g=bn,v=Dr,bn=null,Si(n,i,c),bn=g,Dr=v,bn!==null)if(Dr)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(c.stateNode)}catch(A){Zt(c,i,A)}else try{bn.removeChild(c.stateNode)}catch(A){Zt(c,i,A)}break;case 18:bn!==null&&(Dr?(n=bn,Hp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),Jo(n)):Hp(bn,c.stateNode));break;case 4:g=bn,v=Dr,bn=c.stateNode.containerInfo,Dr=!0,Si(n,i,c),bn=g,Dr=v;break;case 0:case 11:case 14:case 15:os(2,c,i),Xn||os(4,c,i),Si(n,i,c);break;case 1:Xn||(Ka(c,i),g=c.stateNode,typeof g.componentWillUnmount=="function"&&Vm(c,i,g)),Si(n,i,c);break;case 21:Si(n,i,c);break;case 22:Xn=(g=Xn)||c.memoizedState!==null,Si(n,i,c),Xn=g;break;default:Si(n,i,c)}}function $m(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Jo(n)}catch(c){Zt(i,i.return,c)}}}function Qm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jo(n)}catch(c){Zt(i,i.return,c)}}function dE(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Xm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Xm),i;default:throw Error(o(435,n.tag))}}function zu(n,i){var c=dE(n);i.forEach(function(g){if(!c.has(g)){c.add(g);var v=wE.bind(null,n,g);g.then(v,v)}})}function Mr(n,i){var c=i.deletions;if(c!==null)for(var g=0;g<c.length;g++){var v=c[g],A=n,O=i,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(gs(z.type)){bn=z.stateNode,Dr=!1;break e}break;case 5:bn=z.stateNode,Dr=!1;break e;case 3:case 4:bn=z.stateNode.containerInfo,Dr=!0;break e}z=z.return}if(bn===null)throw Error(o(160));Zm(A,O,v),bn=null,Dr=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Jm(i,n),i=i.sibling}var Na=null;function Jm(n,i){var c=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mr(i,n),kr(n),g&4&&(os(3,n,n.return),ic(3,n),os(5,n,n.return));break;case 1:Mr(i,n),kr(n),g&512&&(Xn||c===null||Ka(c,c.return)),g&64&&Ei&&(n=n.updateQueue,n!==null&&(g=n.callbacks,g!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var v=Na;if(Mr(i,n),kr(n),g&512&&(Xn||c===null||Ka(c,c.return)),g&4){var A=c!==null?c.memoizedState:null;if(g=n.memoizedState,c===null)if(g===null)if(n.stateNode===null){e:{g=n.type,c=n.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":A=v.getElementsByTagName("title")[0],(!A||A[js]||A[jn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(g),v.head.insertBefore(A,v.querySelector("head > title"))),fr(A,g,c),A[jn]=n,Nn(A),g=A;break e;case"link":var O=Jp("link","href",v).get(g+(c.href||""));if(O){for(var z=0;z<O.length;z++)if(A=O[z],A.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&A.getAttribute("rel")===(c.rel==null?null:c.rel)&&A.getAttribute("title")===(c.title==null?null:c.title)&&A.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(z,1);break t}}A=v.createElement(g),fr(A,g,c),v.head.appendChild(A);break;case"meta":if(O=Jp("meta","content",v).get(g+(c.content||""))){for(z=0;z<O.length;z++)if(A=O[z],A.getAttribute("content")===(c.content==null?null:""+c.content)&&A.getAttribute("name")===(c.name==null?null:c.name)&&A.getAttribute("property")===(c.property==null?null:c.property)&&A.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&A.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(z,1);break t}}A=v.createElement(g),fr(A,g,c),v.head.appendChild(A);break;default:throw Error(o(468,g))}A[jn]=n,Nn(A),g=A}n.stateNode=g}else ex(v,n.type,n.stateNode);else n.stateNode=Qp(v,g,n.memoizedProps);else A!==g?(A===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):A.count--,g===null?ex(v,n.type,n.stateNode):Qp(v,g,n.memoizedProps)):g===null&&n.stateNode!==null&&Th(n,n.memoizedProps,c.memoizedProps)}break;case 27:Mr(i,n),kr(n),g&512&&(Xn||c===null||Ka(c,c.return)),c!==null&&g&4&&Th(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Mr(i,n),kr(n),g&512&&(Xn||c===null||Ka(c,c.return)),n.flags&32){v=n.stateNode;try{Vi(v,"")}catch(ze){Zt(n,n.return,ze)}}g&4&&n.stateNode!=null&&(v=n.memoizedProps,Th(n,v,c!==null?c.memoizedProps:v)),g&1024&&(Oh=!0);break;case 6:if(Mr(i,n),kr(n),g&4){if(n.stateNode===null)throw Error(o(162));g=n.memoizedProps,c=n.stateNode;try{c.nodeValue=g}catch(ze){Zt(n,n.return,ze)}}break;case 3:if(rd=null,v=Na,Na=td(i.containerInfo),Mr(i,n),Na=v,kr(n),g&4&&c!==null&&c.memoizedState.isDehydrated)try{Jo(i.containerInfo)}catch(ze){Zt(n,n.return,ze)}Oh&&(Oh=!1,ep(n));break;case 4:g=Na,Na=td(n.stateNode.containerInfo),Mr(i,n),kr(n),Na=g;break;case 12:Mr(i,n),kr(n);break;case 31:Mr(i,n),kr(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,zu(n,g)));break;case 13:Mr(i,n),kr(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Vu=dn()),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,zu(n,g)));break;case 22:v=n.memoizedState!==null;var W=c!==null&&c.memoizedState!==null,ue=Ei,ye=Xn;if(Ei=ue||v,Xn=ye||W,Mr(i,n),Xn=ye,Ei=ue,kr(n),g&8192)e:for(i=n.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(c===null||W||Ei||Xn||no(n)),c=null,i=n;;){if(i.tag===5||i.tag===26){if(c===null){W=c=i;try{if(A=W.stateNode,v)O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=W.stateNode;var Ee=W.memoizedProps.style,de=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;z.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ze){Zt(W,W.return,ze)}}}else if(i.tag===6){if(c===null){W=i;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(ze){Zt(W,W.return,ze)}}}else if(i.tag===18){if(c===null){W=i;try{var me=W.stateNode;v?Vp(me,!0):Vp(W.stateNode,!1)}catch(ze){Zt(W,W.return,ze)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}g&4&&(g=n.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,zu(n,c))));break;case 19:Mr(i,n),kr(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,zu(n,g)));break;case 30:break;case 21:break;default:Mr(i,n),kr(n)}}function kr(n){var i=n.flags;if(i&2){try{for(var c,g=n.return;g!==null;){if(Ym(g)){c=g;break}g=g.return}if(c==null)throw Error(o(160));switch(c.tag){case 27:var v=c.stateNode,A=Nh(n);Fu(n,A,v);break;case 5:var O=c.stateNode;c.flags&32&&(Vi(O,""),c.flags&=-33);var z=Nh(n);Fu(n,z,O);break;case 3:case 4:var W=c.stateNode.containerInfo,ue=Nh(n);Rh(n,ue,W);break;default:throw Error(o(161))}}catch(ye){Zt(n,n.return,ye)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ep(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;ep(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ai(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wm(n,i.alternate,i),i=i.sibling}function no(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:os(4,i,i.return),no(i);break;case 1:Ka(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Vm(i,i.return,c),no(i);break;case 27:mc(i.stateNode);case 26:case 5:Ka(i,i.return),no(i);break;case 22:i.memoizedState===null&&no(i);break;case 30:no(i);break;default:no(i)}n=n.sibling}}function Ci(n,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var g=i.alternate,v=n,A=i,O=A.flags;switch(A.tag){case 0:case 11:case 15:Ci(v,A,c),ic(4,A);break;case 1:if(Ci(v,A,c),g=A,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Zt(g,g.return,ue)}if(g=A,v=g.updateQueue,v!==null){var z=g.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)Ig(W[v],z)}catch(ue){Zt(g,g.return,ue)}}c&&O&64&&Hm(A),sc(A,A.return);break;case 27:qm(A);case 26:case 5:Ci(v,A,c),c&&g===null&&O&4&&Gm(A),sc(A,A.return);break;case 12:Ci(v,A,c);break;case 31:Ci(v,A,c),c&&O&4&&$m(v,A);break;case 13:Ci(v,A,c),c&&O&4&&Qm(v,A);break;case 22:A.memoizedState===null&&Ci(v,A,c),sc(A,A.return);break;case 30:break;default:Ci(v,A,c)}i=i.sibling}}function Ih(n,i){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&ql(c))}function Dh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ql(n))}function Ra(n,i,c,g){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tp(n,i,c,g),i=i.sibling}function tp(n,i,c,g){var v=i.flags;switch(i.tag){case 0:case 11:case 15:Ra(n,i,c,g),v&2048&&ic(9,i);break;case 1:Ra(n,i,c,g);break;case 3:Ra(n,i,c,g),v&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ql(n)));break;case 12:if(v&2048){Ra(n,i,c,g),n=i.stateNode;try{var A=i.memoizedProps,O=A.id,z=A.onPostCommit;typeof z=="function"&&z(O,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(W){Zt(i,i.return,W)}}else Ra(n,i,c,g);break;case 31:Ra(n,i,c,g);break;case 13:Ra(n,i,c,g);break;case 23:break;case 22:A=i.stateNode,O=i.alternate,i.memoizedState!==null?A._visibility&2?Ra(n,i,c,g):oc(n,i):A._visibility&2?Ra(n,i,c,g):(A._visibility|=2,Ho(n,i,c,g,(i.subtreeFlags&10256)!==0||!1)),v&2048&&Ih(O,i);break;case 24:Ra(n,i,c,g),v&2048&&Dh(i.alternate,i);break;default:Ra(n,i,c,g)}}function Ho(n,i,c,g,v){for(v=v&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var A=n,O=i,z=c,W=g,ue=O.flags;switch(O.tag){case 0:case 11:case 15:Ho(A,O,z,W,v),ic(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?Ho(A,O,z,W,v):oc(A,O):(ye._visibility|=2,Ho(A,O,z,W,v)),v&&ue&2048&&Ih(O.alternate,O);break;case 24:Ho(A,O,z,W,v),v&&ue&2048&&Dh(O.alternate,O);break;default:Ho(A,O,z,W,v)}i=i.sibling}}function oc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=n,g=i,v=g.flags;switch(g.tag){case 22:oc(c,g),v&2048&&Ih(g.alternate,g);break;case 24:oc(c,g),v&2048&&Dh(g.alternate,g);break;default:oc(c,g)}i=i.sibling}}var lc=8192;function Vo(n,i,c){if(n.subtreeFlags&lc)for(n=n.child;n!==null;)np(n,i,c),n=n.sibling}function np(n,i,c){switch(n.tag){case 26:Vo(n,i,c),n.flags&lc&&n.memoizedState!==null&&$E(c,Na,n.memoizedState,n.memoizedProps);break;case 5:Vo(n,i,c);break;case 3:case 4:var g=Na;Na=td(n.stateNode.containerInfo),Vo(n,i,c),Na=g;break;case 22:n.memoizedState===null&&(g=n.alternate,g!==null&&g.memoizedState!==null?(g=lc,lc=16777216,Vo(n,i,c),lc=g):Vo(n,i,c));break;default:Vo(n,i,c)}}function rp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var g=i[c];or=g,ip(g,n)}rp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(n),n=n.sibling}function ap(n){switch(n.tag){case 0:case 11:case 15:cc(n),n.flags&2048&&os(9,n,n.return);break;case 3:cc(n);break;case 12:cc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Hu(n)):cc(n);break;default:cc(n)}}function Hu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var g=i[c];or=g,ip(g,n)}rp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:os(8,i,i.return),Hu(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Hu(i));break;default:Hu(i)}n=n.sibling}}function ip(n,i){for(;or!==null;){var c=or;switch(c.tag){case 0:case 11:case 15:os(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ql(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,or=g;else e:for(c=n;or!==null;){g=or;var v=g.sibling,A=g.return;if(Km(g),g===c){or=null;break e}if(v!==null){v.return=A,or=v;break e}or=A}}}var fE={getCacheForType:function(n){var i=ur(Gn),c=i.data.get(n);return c===void 0&&(c=n(),i.data.set(n,c)),c},cacheSignal:function(){return ur(Gn).controller.signal}},hE=typeof WeakMap=="function"?WeakMap:Map,Vt=0,ln=null,vt=null,Ct=0,Kt=0,Kr=null,ls=!1,Go=!1,Mh=!1,_i=0,In=0,cs=0,ro=0,kh=0,Zr=0,Yo=0,uc=null,Lr=null,Lh=!1,Vu=0,sp=0,Gu=1/0,Yu=null,us=null,tr=0,ds=null,qo=null,Ti=0,jh=0,Bh=null,op=null,dc=0,Ph=null;function $r(){return(Vt&2)!==0&&Ct!==0?Ct&-Ct:K.T!==null?Gh():pr()}function lp(){if(Zr===0)if((Ct&536870912)===0||Tt){var n=bt;bt<<=1,(bt&3932160)===0&&(bt=262144),Zr=n}else Zr=536870912;return n=Xr.current,n!==null&&(n.flags|=32),Zr}function jr(n,i,c){(n===ln&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)&&(Xo(n,0),fs(n,Ct,Zr,!1)),Jt(n,c),((Vt&2)===0||n!==ln)&&(n===ln&&((Vt&2)===0&&(ro|=c),In===4&&fs(n,Ct,Zr,!1)),Za(n))}function cp(n,i,c){if((Vt&6)!==0)throw Error(o(327));var g=!c&&(i&127)===0&&(i&n.expiredLanes)===0||St(n,i),v=g?pE(n,i):Fh(n,i,!0),A=g;do{if(v===0){Go&&!g&&fs(n,i,0,!1);break}else{if(c=n.current.alternate,A&&!gE(c)){v=Fh(n,i,!1),A=!1;continue}if(v===2){if(A=i,n.errorRecoveryDisabledLanes&A)var O=0;else O=n.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){i=O;e:{var z=n;v=uc;var W=z.current.memoizedState.isDehydrated;if(W&&(Xo(z,O).flags|=256),O=Fh(z,O,!1),O!==2){if(Mh&&!W){z.errorRecoveryDisabledLanes|=A,ro|=A,v=4;break e}A=Lr,Lr=v,A!==null&&(Lr===null?Lr=A:Lr.push.apply(Lr,A))}v=O}if(A=!1,v!==2)continue}}if(v===1){Xo(n,0),fs(n,i,0,!0);break}e:{switch(g=n,A=v,A){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:fs(g,i,Zr,!ls);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(v=Vu+300-dn(),10<v)){if(fs(g,i,Zr,!ls),st(g,0,!0)!==0)break e;Ti=i,g.timeoutHandle=Fp(up.bind(null,g,c,Lr,Yu,Lh,i,Zr,ro,Yo,ls,A,"Throttled",-0,0),v);break e}up(g,c,Lr,Yu,Lh,i,Zr,ro,Yo,ls,A,null,-0,0)}}break}while(!0);Za(n)}function up(n,i,c,g,v,A,O,z,W,ue,ye,Ee,de,me){if(n.timeoutHandle=-1,Ee=i.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},np(i,A,Ee);var ze=(A&62914560)===A?Vu-dn():(A&4194048)===A?sp-dn():0;if(ze=QE(Ee,ze),ze!==null){Ti=A,n.cancelPendingCommit=ze(yp.bind(null,n,i,A,c,g,v,O,z,W,ye,Ee,null,de,me)),fs(n,A,O,!ue);return}}yp(n,i,A,c,g,v,O,z,W)}function gE(n){for(var i=n;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var v=c[g],A=v.getSnapshot;v=v.value;try{if(!m(A(),v))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(n,i,c,g){i&=~kh,i&=~ro,n.suspendedLanes|=i,n.pingedLanes&=~i,g&&(n.warmLanes|=i),g=n.expirationTimes;for(var v=i;0<v;){var A=31-dt(v),O=1<<A;g[A]=-1,v&=~O}c!==0&&si(n,c,i)}function qu(){return(Vt&6)===0?(fc(0),!1):!0}function Uh(){if(vt!==null){if(Kt===0)var n=vt.return;else n=vt,pi=Ws=null,th(n),Bo=null,Wl=0,n=vt;for(;n!==null;)zm(n.alternate,n),n=n.return;vt=null}}function Xo(n,i){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,kE(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Ti=0,Uh(),ln=n,vt=c=gi(n.current,null),Ct=i,Kt=0,Kr=null,ls=!1,Go=St(n,i),Mh=!1,Yo=Zr=kh=ro=cs=In=0,Lr=uc=null,Lh=!1,(i&8)!==0&&(i|=i&32);var g=n.entangledLanes;if(g!==0)for(n=n.entanglements,g&=i;0<g;){var v=31-dt(g),A=1<<v;i|=n[v],g&=~A}return _i=i,hu(),c}function dp(n,i){ht=null,K.H=nc,i===jo||i===vu?(i=Tg(),Kt=3):i===Vf?(i=Tg(),Kt=4):Kt=i===xh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kr=i,vt===null&&(In=1,Lu(n,fa(i,n.current)))}function fp(){var n=Xr.current;return n===null?!0:(Ct&4194048)===Ct?pa===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?n===pa:!1}function hp(){var n=K.H;return K.H=nc,n===null?nc:n}function gp(){var n=K.A;return K.A=fE,n}function Xu(){In=4,ls||(Ct&4194048)!==Ct&&Xr.current!==null||(Go=!0),(cs&134217727)===0&&(ro&134217727)===0||ln===null||fs(ln,Ct,Zr,!1)}function Fh(n,i,c){var g=Vt;Vt|=2;var v=hp(),A=gp();(ln!==n||Ct!==i)&&(Yu=null,Xo(n,i)),i=!1;var O=In;e:do try{if(Kt!==0&&vt!==null){var z=vt,W=Kr;switch(Kt){case 8:Uh(),O=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(i=!0);var ue=Kt;if(Kt=0,Kr=null,Wo(n,z,W,ue),c&&Go){O=0;break e}break;default:ue=Kt,Kt=0,Kr=null,Wo(n,z,W,ue)}}mE(),O=In;break}catch(ye){dp(n,ye)}while(!0);return i&&n.shellSuspendCounter++,pi=Ws=null,Vt=g,K.H=v,K.A=A,vt===null&&(ln=null,Ct=0,hu()),O}function mE(){for(;vt!==null;)mp(vt)}function pE(n,i){var c=Vt;Vt|=2;var g=hp(),v=gp();ln!==n||Ct!==i?(Yu=null,Gu=dn()+500,Xo(n,i)):Go=St(n,i);e:do try{if(Kt!==0&&vt!==null){i=vt;var A=Kr;t:switch(Kt){case 1:Kt=0,Kr=null,Wo(n,i,A,1);break;case 2:case 9:if(Cg(A)){Kt=0,Kr=null,pp(i);break}i=function(){Kt!==2&&Kt!==9||ln!==n||(Kt=7),Za(n)},A.then(i,i);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:Cg(A)?(Kt=0,Kr=null,pp(i)):(Kt=0,Kr=null,Wo(n,i,A,7));break;case 5:var O=null;switch(vt.tag){case 26:O=vt.memoizedState;case 5:case 27:var z=vt;if(O?tx(O):z.stateNode.complete){Kt=0,Kr=null;var W=z.sibling;if(W!==null)vt=W;else{var ue=z.return;ue!==null?(vt=ue,Wu(ue)):vt=null}break t}}Kt=0,Kr=null,Wo(n,i,A,5);break;case 6:Kt=0,Kr=null,Wo(n,i,A,6);break;case 8:Uh(),In=6;break e;default:throw Error(o(462))}}xE();break}catch(ye){dp(n,ye)}while(!0);return pi=Ws=null,K.H=g,K.A=v,Vt=c,vt!==null?0:(ln=null,Ct=0,hu(),In)}function xE(){for(;vt!==null&&!zn();)mp(vt)}function mp(n){var i=Um(n.alternate,n,_i);n.memoizedProps=n.pendingProps,i===null?Wu(n):vt=i}function pp(n){var i=n,c=i.alternate;switch(i.tag){case 15:case 0:i=Mm(c,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=Mm(c,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:th(i);default:zm(c,i),i=vt=gg(i,_i),i=Um(c,i,_i)}n.memoizedProps=n.pendingProps,i===null?Wu(n):vt=i}function Wo(n,i,c,g){pi=Ws=null,th(i),Bo=null,Wl=0;var v=i.return;try{if(iE(n,v,i,c,Ct)){In=1,Lu(n,fa(c,n.current)),vt=null;return}}catch(A){if(v!==null)throw vt=v,A;In=1,Lu(n,fa(c,n.current)),vt=null;return}i.flags&32768?(Tt||g===1?n=!0:Go||(Ct&536870912)!==0?n=!1:(ls=n=!0,(g===2||g===9||g===3||g===6)&&(g=Xr.current,g!==null&&g.tag===13&&(g.flags|=16384))),xp(i,n)):Wu(i)}function Wu(n){var i=n;do{if((i.flags&32768)!==0){xp(i,ls);return}n=i.return;var c=lE(i.alternate,i,_i);if(c!==null){vt=c;return}if(i=i.sibling,i!==null){vt=i;return}vt=i=n}while(i!==null);In===0&&(In=5)}function xp(n,i){do{var c=cE(n.alternate,n);if(c!==null){c.flags&=32767,vt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(n=n.sibling,n!==null)){vt=n;return}vt=n=c}while(n!==null);In=6,vt=null}function yp(n,i,c,g,v,A,O,z,W){n.cancelPendingCommit=null;do Ku();while(tr!==0);if((Vt&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(A=i.lanes|i.childLanes,A|=Nf,fn(n,c,A,O,z,W),n===ln&&(vt=ln=null,Ct=0),qo=i,ds=n,Ti=c,jh=A,Bh=v,op=g,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,vE(mr,function(){return Sp(),null})):(n.callbackNode=null,n.callbackPriority=0),g=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||g){g=K.T,K.T=null,v=q.p,q.p=2,O=Vt,Vt|=4;try{uE(n,i,c)}finally{Vt=O,q.p=v,K.T=g}}tr=1,bp(),wp(),vp()}}function bp(){if(tr===1){tr=0;var n=ds,i=qo,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var g=q.p;q.p=2;var v=Vt;Vt|=4;try{Jm(i,n);var A=Qh,O=L(n.containerInfo),z=A.focusedElem,W=A.selectionRange;if(O!==z&&z&&z.ownerDocument&&R(z.ownerDocument.documentElement,z)){if(W!==null&&U(z)){var ue=W.start,ye=W.end;if(ye===void 0&&(ye=ue),"selectionStart"in z)z.selectionStart=ue,z.selectionEnd=Math.min(ye,z.value.length);else{var Ee=z.ownerDocument||document,de=Ee&&Ee.defaultView||window;if(de.getSelection){var me=de.getSelection(),ze=z.textContent.length,tt=Math.min(W.start,ze),nn=W.end===void 0?tt:Math.min(W.end,ze);!me.extend&&tt>nn&&(O=nn,nn=tt,tt=O);var ae=T(z,tt),ee=T(z,nn);if(ae&&ee&&(me.rangeCount!==1||me.anchorNode!==ae.node||me.anchorOffset!==ae.offset||me.focusNode!==ee.node||me.focusOffset!==ee.offset)){var le=Ee.createRange();le.setStart(ae.node,ae.offset),me.removeAllRanges(),tt>nn?(me.addRange(le),me.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),me.addRange(le))}}}}for(Ee=[],me=z;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Ee.length;z++){var we=Ee[z];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}od=!!$h,Qh=$h=null}finally{Vt=v,q.p=g,K.T=c}}n.current=i,tr=2}}function wp(){if(tr===2){tr=0;var n=ds,i=qo,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var g=q.p;q.p=2;var v=Vt;Vt|=4;try{Wm(n,i.alternate,i)}finally{Vt=v,q.p=g,K.T=c}}tr=3}}function vp(){if(tr===4||tr===3){tr=0,wa();var n=ds,i=qo,c=Ti,g=op;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tr=5:(tr=0,qo=ds=null,Ep(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(us=null),$n(c),i=i.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Qt,i,void 0,(i.current.flags&128)===128)}catch{}if(g!==null){i=K.T,v=q.p,q.p=2,K.T=null;try{for(var A=n.onRecoverableError,O=0;O<g.length;O++){var z=g[O];A(z.value,{componentStack:z.stack})}}finally{K.T=i,q.p=v}}(Ti&3)!==0&&Ku(),Za(n),v=n.pendingLanes,(c&261930)!==0&&(v&42)!==0?n===Ph?dc++:(dc=0,Ph=n):dc=0,fc(0)}}function Ep(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ql(i)))}function Ku(){return bp(),wp(),vp(),Sp()}function Sp(){if(tr!==5)return!1;var n=ds,i=jh;jh=0;var c=$n(Ti),g=K.T,v=q.p;try{q.p=32>c?32:c,K.T=null,c=Bh,Bh=null;var A=ds,O=Ti;if(tr=0,qo=ds=null,Ti=0,(Vt&6)!==0)throw Error(o(331));var z=Vt;if(Vt|=4,ap(A.current),tp(A,A.current,O,c),Vt=z,fc(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Qt,A)}catch{}return!0}finally{q.p=v,K.T=g,Ep(n,i)}}function Ap(n,i,c){i=fa(c,i),i=ph(n.stateNode,i,2),n=as(n,i,2),n!==null&&(Jt(n,2),Za(n))}function Zt(n,i,c){if(n.tag===3)Ap(n,n,c);else for(;i!==null;){if(i.tag===3){Ap(i,n,c);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(us===null||!us.has(g))){n=fa(c,n),c=Cm(2),g=as(i,c,2),g!==null&&(_m(c,g,i,n),Jt(g,2),Za(g));break}}i=i.return}}function zh(n,i,c){var g=n.pingCache;if(g===null){g=n.pingCache=new hE;var v=new Set;g.set(i,v)}else v=g.get(i),v===void 0&&(v=new Set,g.set(i,v));v.has(c)||(Mh=!0,v.add(c),n=yE.bind(null,n,i,c),i.then(n,n))}function yE(n,i,c){var g=n.pingCache;g!==null&&g.delete(i),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,ln===n&&(Ct&c)===c&&(In===4||In===3&&(Ct&62914560)===Ct&&300>dn()-Vu?(Vt&2)===0&&Xo(n,0):kh|=c,Yo===Ct&&(Yo=0)),Za(n)}function Cp(n,i){i===0&&(i=Mt()),n=Ys(n,i),n!==null&&(Jt(n,i),Za(n))}function bE(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),Cp(n,c)}function wE(n,i){var c=0;switch(n.tag){case 31:case 13:var g=n.stateNode,v=n.memoizedState;v!==null&&(c=v.retryLane);break;case 19:g=n.stateNode;break;case 22:g=n.stateNode._retryCache;break;default:throw Error(o(314))}g!==null&&g.delete(i),Cp(n,c)}function vE(n,i){return za(n,i)}var Zu=null,Ko=null,Hh=!1,$u=!1,Vh=!1,hs=0;function Za(n){n!==Ko&&n.next===null&&(Ko===null?Zu=Ko=n:Ko=Ko.next=n),$u=!0,Hh||(Hh=!0,SE())}function fc(n,i){if(!Vh&&$u){Vh=!0;do for(var c=!1,g=Zu;g!==null;){if(n!==0){var v=g.pendingLanes;if(v===0)var A=0;else{var O=g.suspendedLanes,z=g.pingedLanes;A=(1<<31-dt(42|n)+1)-1,A&=v&~(O&~z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(c=!0,Rp(g,A))}else A=Ct,A=st(g,g===ln?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||St(g,A)||(c=!0,Rp(g,A));g=g.next}while(c);Vh=!1}}function EE(){_p()}function _p(){$u=Hh=!1;var n=0;hs!==0&&ME()&&(n=hs);for(var i=dn(),c=null,g=Zu;g!==null;){var v=g.next,A=Tp(g,i);A===0?(g.next=null,c===null?Zu=v:c.next=v,v===null&&(Ko=c)):(c=g,(n!==0||(A&3)!==0)&&($u=!0)),g=v}tr!==0&&tr!==5||fc(n),hs!==0&&(hs=0)}function Tp(n,i){for(var c=n.suspendedLanes,g=n.pingedLanes,v=n.expirationTimes,A=n.pendingLanes&-62914561;0<A;){var O=31-dt(A),z=1<<O,W=v[O];W===-1?((z&c)===0||(z&g)!==0)&&(v[O]=Cn(z,i)):W<=i&&(n.expiredLanes|=z),A&=~z}if(i=ln,c=Ct,c=st(n,n===i?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g=n.callbackNode,c===0||n===i&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)return g!==null&&g!==null&&Ue(g),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||St(n,c)){if(i=c&-c,i===n.callbackPriority)return i;switch(g!==null&&Ue(g),$n(c)){case 2:case 8:c=Ls;break;case 32:c=mr;break;case 268435456:c=oa;break;default:c=mr}return g=Np.bind(null,n),c=za(c,g),n.callbackPriority=i,n.callbackNode=c,i}return g!==null&&g!==null&&Ue(g),n.callbackPriority=2,n.callbackNode=null,2}function Np(n,i){if(tr!==0&&tr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Ku()&&n.callbackNode!==c)return null;var g=Ct;return g=st(n,n===ln?g:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g===0?null:(cp(n,g,i),Tp(n,dn()),n.callbackNode!=null&&n.callbackNode===c?Np.bind(null,n):null)}function Rp(n,i){if(Ku())return null;cp(n,i,!0)}function SE(){LE(function(){(Vt&6)!==0?za(Zn,EE):_p()})}function Gh(){if(hs===0){var n=ko;n===0&&(n=ii,ii<<=1,(ii&261888)===0&&(ii=256)),hs=n}return hs}function Op(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Gi(""+n)}function Ip(n,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,n.id&&c.setAttribute("form",n.id),i.parentNode.insertBefore(c,i),n=new FormData(n),c.parentNode.removeChild(c),n}function AE(n,i,c,g,v){if(i==="submit"&&c&&c.stateNode===v){var A=Op((v[Wt]||null).action),O=g.submitter;O&&(i=(i=O[Wt]||null)?Op(i.formAction):O.getAttribute("formAction"),i!==null&&(A=i,O=null));var z=new Qn("action","action",null,g,v);n.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(hs!==0){var W=O?Ip(v,O):new FormData(v);uh(c,{pending:!0,data:W,method:v.method,action:A},null,W)}}else typeof A=="function"&&(z.preventDefault(),W=O?Ip(v,O):new FormData(v),uh(c,{pending:!0,data:W,method:v.method,action:A},A,W))},currentTarget:v}]})}}for(var Yh=0;Yh<Vl.length;Yh++){var qh=Vl[Yh],CE=qh.toLowerCase(),_E=qh[0].toUpperCase()+qh.slice(1);Ta(CE,"on"+_E)}Ta(Ir,"onAnimationEnd"),Ta(lr,"onAnimationIteration"),Ta(qt,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(er,"onTransitionRun"),Ta(Cr,"onTransitionStart"),Ta($i,"onTransitionCancel"),Ta(hi,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function Dp(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var g=n[c],v=g.event;g=g.listeners;e:{var A=void 0;if(i)for(var O=g.length-1;0<=O;O--){var z=g[O],W=z.instance,ue=z.currentTarget;if(z=z.listener,W!==A&&v.isPropagationStopped())break e;A=z,v.currentTarget=ue;try{A(v)}catch(ye){fu(ye)}v.currentTarget=null,A=W}else for(O=0;O<g.length;O++){if(z=g[O],W=z.instance,ue=z.currentTarget,z=z.listener,W!==A&&v.isPropagationStopped())break e;A=z,v.currentTarget=ue;try{A(v)}catch(ye){fu(ye)}v.currentTarget=null,A=W}}}}function Et(n,i){var c=i[Pi];c===void 0&&(c=i[Pi]=new Set);var g=n+"__bubble";c.has(g)||(Mp(i,n,2,!1),c.add(g))}function Xh(n,i,c){var g=0;i&&(g|=4),Mp(c,n,g,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Wh(n){if(!n[Qu]){n[Qu]=!0,Se.forEach(function(c){c!=="selectionchange"&&(TE.has(c)||Xh(c,!1,n),Xh(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,Xh("selectionchange",!1,i))}}function Mp(n,i,c,g){switch(lx(i)){case 2:var v=t3;break;case 8:v=n3;break;default:v=c0}c=v.bind(null,i,c,n),v=void 0,!jl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),g?v!==void 0?n.addEventListener(i,c,{capture:!0,passive:v}):n.addEventListener(i,c,!0):v!==void 0?n.addEventListener(i,c,{passive:v}):n.addEventListener(i,c,!1)}function Kh(n,i,c,g,v){var A=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var z=g.stateNode.containerInfo;if(z===v)break;if(O===4)for(O=g.return;O!==null;){var W=O.tag;if((W===3||W===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;z!==null;){if(O=Tn(z),O===null)return;if(W=O.tag,W===5||W===6||W===26||W===27){g=A=O;continue e}z=z.parentNode}}g=g.return}tu(function(){var ue=A,ye=Ll(c),Ee=[];e:{var de=du.get(n);if(de!==void 0){var me=Qn,ze=n;switch(n){case"keypress":if(Va(c)===0)break e;case"keydown":case"keyup":me=Co;break;case"focusin":ze="focus",me=Ul;break;case"focusout":ze="blur",me=Ul;break;case"beforeblur":case"afterblur":me=Ul;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=So;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Cf;break;case Ir:case lr:case qt:me=gt;break;case hi:me=ci;break;case"scroll":case"scrollend":me=nu;break;case"wheel":me=_f;break;case"copy":case"cut":case"paste":me=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Yt;break;case"toggle":case"beforetoggle":me=zl}var tt=(i&4)!==0,nn=!tt&&(n==="scroll"||n==="scrollend"),ae=tt?de!==null?de+"Capture":null:de;tt=[];for(var ee=ue,le;ee!==null;){var we=ee;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||ae===null||(we=ct(ee,ae),we!=null&&tt.push(gc(ee,we,le))),nn)break;ee=ee.return}0<tt.length&&(de=new me(de,ze,null,c,ye),Ee.push({event:de,listeners:tt}))}}if((i&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",me=n==="mouseout"||n==="pointerout",de&&c!==Bs&&(ze=c.relatedTarget||c.fromElement)&&(Tn(ze)||ze[Fr]))break e;if((me||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,me?(ze=c.relatedTarget||c.toElement,me=ue,ze=ze?Tn(ze):null,ze!==null&&(nn=d(ze),tt=ze.tag,ze!==nn||tt!==5&&tt!==27&&tt!==6)&&(ze=null)):(me=null,ze=ue),me!==ze)){if(tt=Ht,we="onMouseLeave",ae="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(tt=Yt,we="onPointerLeave",ae="onPointerEnter",ee="pointer"),nn=me==null?de:Ui(me),le=ze==null?de:Ui(ze),de=new tt(we,ee+"leave",me,c,ye),de.target=nn,de.relatedTarget=le,we=null,Tn(ye)===ue&&(tt=new tt(ae,ee+"enter",ze,c,ye),tt.target=le,tt.relatedTarget=nn,we=tt),nn=we,me&&ze)t:{for(tt=NE,ae=me,ee=ze,le=0,we=ae;we;we=tt(we))le++;we=0;for(var Ze=ee;Ze;Ze=tt(Ze))we++;for(;0<le-we;)ae=tt(ae),le--;for(;0<we-le;)ee=tt(ee),we--;for(;le--;){if(ae===ee||ee!==null&&ae===ee.alternate){tt=ae;break t}ae=tt(ae),ee=tt(ee)}tt=null}else tt=null;me!==null&&kp(Ee,de,me,tt,!1),ze!==null&&nn!==null&&kp(Ee,nn,ze,tt,!0)}}e:{if(de=ue?Ui(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var jt=Yr;else if(Hl(de))if(uu)jt=f;else{jt=s;var Ye=a}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&an(ue.elementType)&&(jt=Yr):jt=l;if(jt&&(jt=jt(n,ue))){Gr(Ee,jt,c,ye);break e}Ye&&Ye(n,de,ue),n==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&V(de,"number",de.value)}switch(Ye=ue?Ui(ue):window,n){case"focusin":(Hl(Ye)||Ye.contentEditable==="true")&&(Z=Ye,J=ue,ie=null);break;case"focusout":ie=J=Z=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,Re(Ee,c,ye);break;case"selectionchange":if(G)break;case"keydown":case"keyup":Re(Ee,c,ye)}var mt;if(Fs)e:{switch(n){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else Zi?cu(n,c)&&(_t="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(_t="onCompositionStart");_t&&(lu&&c.locale!=="ko"&&(Zi||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Zi&&(mt=Yi()):(Ca=ye,_a="value"in Ca?Ca.value:Ca.textContent,Zi=!0)),Ye=Ju(ue,_t),0<Ye.length&&(_t=new iu(_t,n,null,c,ye),Ee.push({event:_t,listeners:Ye}),mt?_t.data=mt:(mt=Ki(c),mt!==null&&(_t.data=mt)))),(mt=ou?qa(n,c):To(n,c))&&(_t=Ju(ue,"onBeforeInput"),0<_t.length&&(Ye=new iu("onBeforeInput","beforeinput",null,c,ye),Ee.push({event:Ye,listeners:_t}),Ye.data=mt)),AE(Ee,n,ue,c,ye)}Dp(Ee,i)})}function gc(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Ju(n,i){for(var c=i+"Capture",g=[];n!==null;){var v=n,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=ct(n,c),v!=null&&g.unshift(gc(n,v,A)),v=ct(n,i),v!=null&&g.push(gc(n,v,A))),n.tag===3)return g;n=n.return}return[]}function NE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kp(n,i,c,g,v){for(var A=i._reactName,O=[];c!==null&&c!==g;){var z=c,W=z.alternate,ue=z.stateNode;if(z=z.tag,W!==null&&W===g)break;z!==5&&z!==26&&z!==27||ue===null||(W=ue,v?(ue=ct(c,A),ue!=null&&O.unshift(gc(c,ue,W))):v||(ue=ct(c,A),ue!=null&&O.push(gc(c,ue,W)))),c=c.return}O.length!==0&&n.push({event:i,listeners:O})}var RE=/\r\n?/g,OE=/\u0000|\uFFFD/g;function Lp(n){return(typeof n=="string"?n:""+n).replace(RE,`
`).replace(OE,"")}function jp(n,i){return i=Lp(i),Lp(n)===i}function tn(n,i,c,g,v,A){switch(c){case"children":typeof g=="string"?i==="body"||i==="textarea"&&g===""||Vi(n,g):(typeof g=="number"||typeof g=="bigint")&&i!=="body"&&Vi(n,""+g);break;case"className":zi(n,"class",g);break;case"tabIndex":zi(n,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(n,c,g);break;case"style":Ke(n,g,A);break;case"data":if(i!=="object"){zi(n,"data",g);break}case"src":case"href":if(g===""&&(i!=="a"||c!=="href")){n.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(c);break}g=Gi(""+g),n.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(c==="formAction"?(i!=="input"&&tn(n,i,"name",v.name,v,null),tn(n,i,"formEncType",v.formEncType,v,null),tn(n,i,"formMethod",v.formMethod,v,null),tn(n,i,"formTarget",v.formTarget,v,null)):(tn(n,i,"encType",v.encType,v,null),tn(n,i,"method",v.method,v,null),tn(n,i,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(c);break}g=Gi(""+g),n.setAttribute(c,g);break;case"onClick":g!=null&&(n.onclick=Rr);break;case"onScroll":g!=null&&Et("scroll",n);break;case"onScrollEnd":g!=null&&Et("scrollend",n);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"multiple":n.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":n.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){n.removeAttribute("xlink:href");break}c=Gi(""+g),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,""+g):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":g===!0?n.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,g):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?n.setAttribute(c,g):n.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?n.removeAttribute(c):n.setAttribute(c,g);break;case"popover":Et("beforetoggle",n),Et("toggle",n),Fi(n,"popover",g);break;case"xlinkActuate":Hr(n,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Hr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Hr(n,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Hr(n,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Hr(n,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Hr(n,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Hr(n,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Fi(n,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=eu.get(c)||c,Fi(n,c,g))}}function Zh(n,i,c,g,v,A){switch(c){case"style":Ke(n,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"children":typeof g=="string"?Vi(n,g):(typeof g=="number"||typeof g=="bigint")&&Vi(n,""+g);break;case"onScroll":g!=null&&Et("scroll",n);break;case"onScrollEnd":g!=null&&Et("scrollend",n);break;case"onClick":g!=null&&(n.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),i=c.slice(2,v?c.length-7:void 0),A=n[Wt]||null,A=A!=null?A[c]:null,typeof A=="function"&&n.removeEventListener(i,A,v),typeof g=="function")){typeof A!="function"&&A!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(i,g,v);break e}c in n?n[c]=g:g===!0?n.setAttribute(c,""):Fi(n,c,g)}}}function fr(n,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",n),Et("load",n);var g=!1,v=!1,A;for(A in c)if(c.hasOwnProperty(A)){var O=c[A];if(O!=null)switch(A){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:tn(n,i,A,O,c,null)}}v&&tn(n,i,"srcSet",c.srcSet,c,null),g&&tn(n,i,"src",c.src,c,null);return;case"input":Et("invalid",n);var z=A=O=v=null,W=null,ue=null;for(g in c)if(c.hasOwnProperty(g)){var ye=c[g];if(ye!=null)switch(g){case"name":v=ye;break;case"type":O=ye;break;case"checked":W=ye;break;case"defaultChecked":ue=ye;break;case"value":A=ye;break;case"defaultValue":z=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,i));break;default:tn(n,i,g,ye,c,null)}}oe(n,A,z,W,ue,O,v,!1);return;case"select":Et("invalid",n),g=O=A=null;for(v in c)if(c.hasOwnProperty(v)&&(z=c[v],z!=null))switch(v){case"value":A=z;break;case"defaultValue":O=z;break;case"multiple":g=z;default:tn(n,i,v,z,c,null)}i=A,c=O,n.multiple=!!g,i!=null?Ge(n,!!g,i,!1):c!=null&&Ge(n,!!g,c,!0);return;case"textarea":Et("invalid",n),A=v=g=null;for(O in c)if(c.hasOwnProperty(O)&&(z=c[O],z!=null))switch(O){case"value":g=z;break;case"defaultValue":v=z;break;case"children":A=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(91));break;default:tn(n,i,O,z,c,null)}Sr(n,g,v,A);return;case"option":for(W in c)if(c.hasOwnProperty(W)&&(g=c[W],g!=null))switch(W){case"selected":n.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:tn(n,i,W,g,c,null)}return;case"dialog":Et("beforetoggle",n),Et("toggle",n),Et("cancel",n),Et("close",n);break;case"iframe":case"object":Et("load",n);break;case"video":case"audio":for(g=0;g<hc.length;g++)Et(hc[g],n);break;case"image":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"embed":case"source":case"link":Et("error",n),Et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(g=c[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:tn(n,i,ue,g,c,null)}return;default:if(an(i)){for(ye in c)c.hasOwnProperty(ye)&&(g=c[ye],g!==void 0&&Zh(n,i,ye,g,c,void 0));return}}for(z in c)c.hasOwnProperty(z)&&(g=c[z],g!=null&&tn(n,i,z,g,c,null))}function IE(n,i,c,g){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,O=null,z=null,W=null,ue=null,ye=null;for(me in c){var Ee=c[me];if(c.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":W=Ee;default:g.hasOwnProperty(me)||tn(n,i,me,null,g,Ee)}}for(var de in g){var me=g[de];if(Ee=c[de],g.hasOwnProperty(de)&&(me!=null||Ee!=null))switch(de){case"type":A=me;break;case"name":v=me;break;case"checked":ue=me;break;case"defaultChecked":ye=me;break;case"value":O=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,i));break;default:me!==Ee&&tn(n,i,de,me,g,Ee)}}Hn(n,O,z,W,ue,ye,A,v);return;case"select":me=O=z=de=null;for(A in c)if(W=c[A],c.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":me=W;default:g.hasOwnProperty(A)||tn(n,i,A,null,g,W)}for(v in g)if(A=g[v],W=c[v],g.hasOwnProperty(v)&&(A!=null||W!=null))switch(v){case"value":de=A;break;case"defaultValue":z=A;break;case"multiple":O=A;default:A!==W&&tn(n,i,v,A,g,W)}i=z,c=O,g=me,de!=null?Ge(n,!!c,de,!1):!!g!=!!c&&(i!=null?Ge(n,!!c,i,!0):Ge(n,!!c,c?[]:"",!1));return;case"textarea":me=de=null;for(z in c)if(v=c[z],c.hasOwnProperty(z)&&v!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:tn(n,i,z,null,g,v)}for(O in g)if(v=g[O],A=c[O],g.hasOwnProperty(O)&&(v!=null||A!=null))switch(O){case"value":de=v;break;case"defaultValue":me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==A&&tn(n,i,O,v,g,A)}Bn(n,de,me);return;case"option":for(var ze in c)if(de=c[ze],c.hasOwnProperty(ze)&&de!=null&&!g.hasOwnProperty(ze))switch(ze){case"selected":n.selected=!1;break;default:tn(n,i,ze,null,g,de)}for(W in g)if(de=g[W],me=c[W],g.hasOwnProperty(W)&&de!==me&&(de!=null||me!=null))switch(W){case"selected":n.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:tn(n,i,W,de,g,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in c)de=c[tt],c.hasOwnProperty(tt)&&de!=null&&!g.hasOwnProperty(tt)&&tn(n,i,tt,null,g,de);for(ue in g)if(de=g[ue],me=c[ue],g.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,i));break;default:tn(n,i,ue,de,g,me)}return;default:if(an(i)){for(var nn in c)de=c[nn],c.hasOwnProperty(nn)&&de!==void 0&&!g.hasOwnProperty(nn)&&Zh(n,i,nn,void 0,g,de);for(ye in g)de=g[ye],me=c[ye],!g.hasOwnProperty(ye)||de===me||de===void 0&&me===void 0||Zh(n,i,ye,de,g,me);return}}for(var ae in c)de=c[ae],c.hasOwnProperty(ae)&&de!=null&&!g.hasOwnProperty(ae)&&tn(n,i,ae,null,g,de);for(Ee in g)de=g[Ee],me=c[Ee],!g.hasOwnProperty(Ee)||de===me||de==null&&me==null||tn(n,i,Ee,de,g,me)}function Bp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,c=performance.getEntriesByType("resource"),g=0;g<c.length;g++){var v=c[g],A=v.transferSize,O=v.initiatorType,z=v.duration;if(A&&z&&Bp(O)){for(O=0,z=v.responseEnd,g+=1;g<c.length;g++){var W=c[g],ue=W.startTime;if(ue>z)break;var ye=W.transferSize,Ee=W.initiatorType;ye&&Bp(Ee)&&(W=W.responseEnd,O+=ye*(W<z?1:(z-ue)/(W-ue)))}if(--g,i+=8*(A+O)/(v.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var $h=null,Qh=null;function ed(n){return n.nodeType===9?n:n.ownerDocument}function Pp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Jh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var e0=null;function ME(){var n=window.event;return n&&n.type==="popstate"?n===e0?!1:(e0=n,!0):(e0=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,LE=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(n){return zp.resolve(null).then(n).catch(jE)}:Fp;function jE(n){setTimeout(function(){throw n})}function gs(n){return n==="head"}function Hp(n,i){var c=i,g=0;do{var v=c.nextSibling;if(n.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(g===0){n.removeChild(v),Jo(i);return}g--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")g++;else if(c==="html")mc(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,mc(c);for(var A=c.firstChild;A;){var O=A.nextSibling,z=A.nodeName;A[js]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=O}}else c==="body"&&mc(n.ownerDocument.body);c=v}while(c);Jo(i)}function Vp(n,i){var c=n;n=0;do{var g=c.nextSibling;if(c.nodeType===1?i?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(i?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=g}while(c)}function t0(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":t0(c),Nr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function BE(n,i,c,g){for(;n.nodeType===1;){var v=c;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!g&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(g){if(!n[js])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(A=n.getAttribute("rel"),A==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(A!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(A=n.getAttribute("src"),(A!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===A)return n}else return n;if(n=xa(n.nextSibling),n===null)break}return null}function PE(n,i,c){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=xa(n.nextSibling),n===null))return null;return n}function Gp(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=xa(n.nextSibling),n===null))return null;return n}function n0(n){return n.data==="$?"||n.data==="$~"}function r0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function UE(n,i){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||c.readyState!=="loading")i();else{var g=function(){i(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),n._reactRetry=g}}function xa(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var a0=null;function Yp(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(i===0)return xa(n.nextSibling);i--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||i++}n=n.nextSibling}return null}function qp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(i===0)return n;i--}else c!=="/$"&&c!=="/&"||i++}n=n.previousSibling}return null}function Xp(n,i,c){switch(i=ed(c),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function mc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Nr(n)}var ya=new Map,Wp=new Set;function td(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=q.d;q.d={f:FE,r:zE,D:HE,C:VE,L:GE,m:YE,X:XE,S:qE,M:WE};function FE(){var n=Ni.f(),i=qu();return n||i}function zE(n){var i=zt(n);i!==null&&i.tag===5&&i.type==="form"?dm(i):Ni.r(n)}var Zo=typeof document>"u"?null:document;function Kp(n,i,c){var g=Zo;if(g&&typeof i=="string"&&i){var v=xt(i);v='link[rel="'+n+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Wp.has(v)||(Wp.add(v),n={rel:n,crossOrigin:c,href:i},g.querySelector(v)===null&&(i=g.createElement("link"),fr(i,"link",n),Nn(i),g.head.appendChild(i)))}}function HE(n){Ni.D(n),Kp("dns-prefetch",n,null)}function VE(n,i){Ni.C(n,i),Kp("preconnect",n,i)}function GE(n,i,c){Ni.L(n,i,c);var g=Zo;if(g&&n&&i){var v='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+xt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+xt(c.imageSizes)+'"]')):v+='[href="'+xt(n)+'"]';var A=v;switch(i){case"style":A=$o(n);break;case"script":A=Qo(n)}ya.has(A)||(n=C({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:n,as:i},c),ya.set(A,n),g.querySelector(v)!==null||i==="style"&&g.querySelector(pc(A))||i==="script"&&g.querySelector(xc(A))||(i=g.createElement("link"),fr(i,"link",n),Nn(i),g.head.appendChild(i)))}}function YE(n,i){Ni.m(n,i);var c=Zo;if(c&&n){var g=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+xt(g)+'"][href="'+xt(n)+'"]',A=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Qo(n)}if(!ya.has(A)&&(n=C({rel:"modulepreload",href:n},i),ya.set(A,n),c.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xc(A)))return}g=c.createElement("link"),fr(g,"link",n),Nn(g),c.head.appendChild(g)}}}function qE(n,i,c){Ni.S(n,i,c);var g=Zo;if(g&&n){var v=Er(g).hoistableStyles,A=$o(n);i=i||"default";var O=v.get(A);if(!O){var z={loading:0,preload:null};if(O=g.querySelector(pc(A)))z.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":i},c),(c=ya.get(A))&&i0(n,c);var W=O=g.createElement("link");Nn(W),fr(W,"link",n),W._p=new Promise(function(ue,ye){W.onload=ue,W.onerror=ye}),W.addEventListener("load",function(){z.loading|=1}),W.addEventListener("error",function(){z.loading|=2}),z.loading|=4,nd(O,i,g)}O={type:"stylesheet",instance:O,count:1,state:z},v.set(A,O)}}}function XE(n,i){Ni.X(n,i);var c=Zo;if(c&&n){var g=Er(c).hoistableScripts,v=Qo(n),A=g.get(v);A||(A=c.querySelector(xc(v)),A||(n=C({src:n,async:!0},i),(i=ya.get(v))&&s0(n,i),A=c.createElement("script"),Nn(A),fr(A,"link",n),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function WE(n,i){Ni.M(n,i);var c=Zo;if(c&&n){var g=Er(c).hoistableScripts,v=Qo(n),A=g.get(v);A||(A=c.querySelector(xc(v)),A||(n=C({src:n,async:!0,type:"module"},i),(i=ya.get(v))&&s0(n,i),A=c.createElement("script"),Nn(A),fr(A,"link",n),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(v,A))}}function Zp(n,i,c,g){var v=(v=ve.current)?td(v):null;if(!v)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=$o(c.href),c=Er(v).hoistableStyles,g=c.get(i),g||(g={type:"style",instance:null,count:0,state:null},c.set(i,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=$o(c.href);var A=Er(v).hoistableStyles,O=A.get(n);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(n,O),(A=v.querySelector(pc(n)))&&!A._p&&(O.instance=A,O.state.loading=5),ya.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ya.set(n,c),A||KE(v,n,c,O.state))),i&&g===null)throw Error(o(528,""));return O}if(i&&g!==null)throw Error(o(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qo(c),c=Er(v).hoistableScripts,g=c.get(i),g||(g={type:"script",instance:null,count:0,state:null},c.set(i,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function $o(n){return'href="'+xt(n)+'"'}function pc(n){return'link[rel="stylesheet"]['+n+"]"}function $p(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function KE(n,i,c,g){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?g.loading=1:(i=n.createElement("link"),g.preload=i,i.addEventListener("load",function(){return g.loading|=1}),i.addEventListener("error",function(){return g.loading|=2}),fr(i,"link",c),Nn(i),n.head.appendChild(i))}function Qo(n){return'[src="'+xt(n)+'"]'}function xc(n){return"script[async]"+n}function Qp(n,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var g=n.querySelector('style[data-href~="'+xt(c.href)+'"]');if(g)return i.instance=g,Nn(g),g;var v=C({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(n.ownerDocument||n).createElement("style"),Nn(g),fr(g,"style",v),nd(g,c.precedence,n),i.instance=g;case"stylesheet":v=$o(c.href);var A=n.querySelector(pc(v));if(A)return i.state.loading|=4,i.instance=A,Nn(A),A;g=$p(c),(v=ya.get(v))&&i0(g,v),A=(n.ownerDocument||n).createElement("link"),Nn(A);var O=A;return O._p=new Promise(function(z,W){O.onload=z,O.onerror=W}),fr(A,"link",g),i.state.loading|=4,nd(A,c.precedence,n),i.instance=A;case"script":return A=Qo(c.src),(v=n.querySelector(xc(A)))?(i.instance=v,Nn(v),v):(g=c,(v=ya.get(A))&&(g=C({},c),s0(g,v)),n=n.ownerDocument||n,v=n.createElement("script"),Nn(v),fr(v,"link",g),n.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(g=i.instance,i.state.loading|=4,nd(g,c.precedence,n));return i.instance}function nd(n,i,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,A=v,O=0;O<g.length;O++){var z=g[O];if(z.dataset.precedence===i)A=z;else if(A!==v)break}A?A.parentNode.insertBefore(n,A.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(n,i.firstChild))}function i0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function s0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var rd=null;function Jp(n,i,c){if(rd===null){var g=new Map,v=rd=new Map;v.set(c,g)}else v=rd,g=v.get(c),g||(g=new Map,v.set(c,g));if(g.has(n))return g;for(g.set(n,null),c=c.getElementsByTagName(n),v=0;v<c.length;v++){var A=c[v];if(!(A[js]||A[jn]||n==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(i)||"";O=n+O;var z=g.get(O);z?z.push(A):g.set(O,[A])}}return g}function ex(n,i,c){n=n.ownerDocument||n,n.head.insertBefore(c,i==="title"?n.querySelector("head > title"):null)}function ZE(n,i,c){if(c===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $E(n,i,c,g){if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=$o(g.href),A=i.querySelector(pc(v));if(A){i=A._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=ad.bind(n),i.then(n,n)),c.state.loading|=4,c.instance=A,Nn(A);return}A=i.ownerDocument||i,g=$p(g),(v=ya.get(v))&&i0(g,v),A=A.createElement("link"),Nn(A);var O=A;O._p=new Promise(function(z,W){O.onload=z,O.onerror=W}),fr(A,"link",g),c.instance=A}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,i),(i=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=ad.bind(n),i.addEventListener("load",c),i.addEventListener("error",c))}}var o0=0;function QE(n,i){return n.stylesheets&&n.count===0&&sd(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var g=setTimeout(function(){if(n.stylesheets&&sd(n,n.stylesheets),n.unsuspend){var A=n.unsuspend;n.unsuspend=null,A()}},6e4+i);0<n.imgBytes&&o0===0&&(o0=62500*DE());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&sd(n,n.stylesheets),n.unsuspend)){var A=n.unsuspend;n.unsuspend=null,A()}},(n.imgBytes>o0?50:800)+i);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var id=null;function sd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,id=new Map,i.forEach(JE,n),id=null,ad.call(n))}function JE(n,i){if(!(i.state.loading&4)){var c=id.get(n);if(c)var g=c.get(null);else{c=new Map,id.set(n,c);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var O=v[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),g=O)}g&&c.set(null,g)}v=i.instance,O=v.getAttribute("data-precedence"),A=c.get(O)||g,A===g&&c.set(null,v),c.set(O,v),this.count++,g=ad.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),A?A.parentNode.insertBefore(v,A.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),i.state.loading|=4}}var yc={$$typeof:F,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function e3(n,i,c,g,v,A,O,z,W){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function nx(n,i,c,g,v,A,O,z,W,ue,ye,Ee){return n=new e3(n,i,c,O,W,ue,ye,Ee,z),i=1,A===!0&&(i|=24),A=qr(3,null,null,i),n.current=A,A.stateNode=n,i=Ff(),i.refCount++,n.pooledCache=i,i.refCount++,A.memoizedState={element:g,isDehydrated:c,cache:i},Gf(A),n}function rx(n){return n?(n=Ro,n):Ro}function ax(n,i,c,g,v,A){v=rx(v),g.context===null?g.context=v:g.pendingContext=v,g=rs(i),g.payload={element:c},A=A===void 0?null:A,A!==null&&(g.callback=A),c=as(n,g,i),c!==null&&(jr(c,n,i),Zl(c,n,i))}function ix(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function l0(n,i){ix(n,i),(n=n.alternate)&&ix(n,i)}function sx(n){if(n.tag===13||n.tag===31){var i=Ys(n,67108864);i!==null&&jr(i,n,67108864),l0(n,67108864)}}function ox(n){if(n.tag===13||n.tag===31){var i=$r();i=Ln(i);var c=Ys(n,i);c!==null&&jr(c,n,i),l0(n,i)}}var od=!0;function t3(n,i,c,g){var v=K.T;K.T=null;var A=q.p;try{q.p=2,c0(n,i,c,g)}finally{q.p=A,K.T=v}}function n3(n,i,c,g){var v=K.T;K.T=null;var A=q.p;try{q.p=8,c0(n,i,c,g)}finally{q.p=A,K.T=v}}function c0(n,i,c,g){if(od){var v=u0(g);if(v===null)Kh(n,i,g,ld,c),cx(n,g);else if(a3(v,n,i,c,g))g.stopPropagation();else if(cx(n,g),i&4&&-1<r3.indexOf(n)){for(;v!==null;){var A=zt(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=Ur(A.pendingLanes);if(O!==0){var z=A;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var W=1<<31-dt(O);z.entanglements[1]|=W,O&=~W}Za(A),(Vt&6)===0&&(Gu=dn()+500,fc(0))}}break;case 31:case 13:z=Ys(A,2),z!==null&&jr(z,A,2),qu(),l0(A,2)}if(A=u0(g),A===null&&Kh(n,i,g,ld,c),A===v)break;v=A}v!==null&&g.stopPropagation()}else Kh(n,i,g,null,c)}}function u0(n){return n=Ll(n),d0(n)}var ld=null;function d0(n){if(ld=null,n=Tn(n),n!==null){var i=d(n);if(i===null)n=null;else{var c=i.tag;if(c===13){if(n=p(i),n!==null)return n;n=null}else if(c===31){if(n=b(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ld=n,null}function lx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Zn:return 2;case Ls:return 8;case mr:case kn:return 32;case oa:return 268435456;default:return 32}default:return 32}}var f0=!1,ms=null,ps=null,xs=null,bc=new Map,wc=new Map,ys=[],r3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cx(n,i){switch(n){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":bc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(i.pointerId)}}function vc(n,i,c,g,v,A){return n===null||n.nativeEvent!==A?(n={blockedOn:i,domEventName:c,eventSystemFlags:g,nativeEvent:A,targetContainers:[v]},i!==null&&(i=zt(i),i!==null&&sx(i)),n):(n.eventSystemFlags|=g,i=n.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),n)}function a3(n,i,c,g,v){switch(i){case"focusin":return ms=vc(ms,n,i,c,g,v),!0;case"dragenter":return ps=vc(ps,n,i,c,g,v),!0;case"mouseover":return xs=vc(xs,n,i,c,g,v),!0;case"pointerover":var A=v.pointerId;return bc.set(A,vc(bc.get(A)||null,n,i,c,g,v)),!0;case"gotpointercapture":return A=v.pointerId,wc.set(A,vc(wc.get(A)||null,n,i,c,g,v)),!0}return!1}function ux(n){var i=Tn(n.target);if(i!==null){var c=d(i);if(c!==null){if(i=c.tag,i===13){if(i=p(c),i!==null){n.blockedOn=i,Pe(n.priority,function(){ox(c)});return}}else if(i===31){if(i=b(c),i!==null){n.blockedOn=i,Pe(n.priority,function(){ox(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=u0(n.nativeEvent);if(c===null){c=n.nativeEvent;var g=new c.constructor(c.type,c);Bs=g,c.target.dispatchEvent(g),Bs=null}else return i=zt(c),i!==null&&sx(i),n.blockedOn=c,!1;i.shift()}return!0}function dx(n,i,c){cd(n)&&c.delete(i)}function i3(){f0=!1,ms!==null&&cd(ms)&&(ms=null),ps!==null&&cd(ps)&&(ps=null),xs!==null&&cd(xs)&&(xs=null),bc.forEach(dx),wc.forEach(dx)}function ud(n,i){n.blockedOn===i&&(n.blockedOn=null,f0||(f0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i3)))}var dd=null;function fx(n){dd!==n&&(dd=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dd===n&&(dd=null);for(var i=0;i<n.length;i+=3){var c=n[i],g=n[i+1],v=n[i+2];if(typeof g!="function"){if(d0(g||c)===null)continue;break}var A=zt(c);A!==null&&(n.splice(i,3),i-=3,uh(A,{pending:!0,data:v,method:c.method,action:g},g,v))}}))}function Jo(n){function i(W){return ud(W,n)}ms!==null&&ud(ms,n),ps!==null&&ud(ps,n),xs!==null&&ud(xs,n),bc.forEach(i),wc.forEach(i);for(var c=0;c<ys.length;c++){var g=ys[c];g.blockedOn===n&&(g.blockedOn=null)}for(;0<ys.length&&(c=ys[0],c.blockedOn===null);)ux(c),c.blockedOn===null&&ys.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var v=c[g],A=c[g+1],O=v[Wt]||null;if(typeof A=="function")O||fx(c);else if(O){var z=null;if(A&&A.hasAttribute("formAction")){if(v=A,O=A[Wt]||null)z=O.formAction;else if(d0(v)!==null)continue}else z=O.action;typeof z=="function"?c[g+1]=z:(c.splice(g,3),g-=3),fx(c)}}}function hx(){function n(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function i(){v!==null&&(v(),v=null),g||setTimeout(c,20)}function c(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(c,100),function(){g=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),v!==null&&(v(),v=null)}}}function h0(n){this._internalRoot=n}fd.prototype.render=h0.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var c=i.current,g=$r();ax(c,g,n,i,null,null)},fd.prototype.unmount=h0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ax(n.current,2,null,n,null,null),qu(),i[Fr]=null}};function fd(n){this._internalRoot=n}fd.prototype.unstable_scheduleHydration=function(n){if(n){var i=pr();n={blockedOn:null,target:n,priority:i};for(var c=0;c<ys.length&&i!==0&&i<ys[c].priority;c++);ys.splice(c,0,n),c===0&&ux(n)}};var gx=e.version;if(gx!=="19.2.3")throw Error(o(527,gx,"19.2.3"));q.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=x(i),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var s3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Qt=hd.inject(s3),Ne=hd}catch{}}return Sc.createRoot=function(n,i){if(!u(n))throw Error(o(299));var c=!1,g="",v=vm,A=Em,O=Sm;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(O=i.onRecoverableError)),i=nx(n,1,!1,null,null,c,g,null,v,A,O,hx),n[Fr]=i.current,Wh(n),new h0(i)},Sc.hydrateRoot=function(n,i,c){if(!u(n))throw Error(o(299));var g=!1,v="",A=vm,O=Em,z=Sm,W=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.formState!==void 0&&(W=c.formState)),i=nx(n,1,!0,i,c??null,g,v,W,A,O,z,hx),i.context=rx(null),c=i.current,g=$r(),g=Ln(g),v=rs(g),v.callback=null,as(c,v,g),c=g,i.current.lanes=c,Jt(i,c),Za(i),n[Fr]=i.current,Wh(n),new fd(i)},Sc.version="19.2.3",Sc}var Ax;function m3(){if(Ax)return p0.exports;Ax=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p0.exports=g3(),p0.exports}var p3=m3();const x3=ef(p3);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cx="popstate";function y3(t={}){function e(o,u){let{pathname:d,search:p,hash:b}=o.location;return Y0("",{pathname:d,search:p,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){return typeof u=="string"?u:Ic(u)}return w3(e,r,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ba(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b3(){return Math.random().toString(36).substring(2,10)}function _x(t,e){return{usr:t.state,key:t.key,idx:e}}function Y0(t,e,r=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sl(e):e,state:r,key:e&&e.key||o||b3()}}function Ic({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function w3(t,e,r,o={}){let{window:u=document.defaultView,v5Compat:d=!1}=o,p=u.history,b="POP",w=null,x=_();x==null&&(x=0,p.replaceState({...p.state,idx:x},""));function _(){return(p.state||{idx:null}).idx}function C(){b="POP";let B=_(),j=B==null?null:B-x;x=B,w&&w({action:b,location:I.location,delta:j})}function D(B,j){b="PUSH";let H=Y0(I.location,B,j);x=_()+1;let F=_x(H,x),Q=I.createHref(H);try{p.pushState(F,"",Q)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;u.location.assign(Q)}d&&w&&w({action:b,location:I.location,delta:1})}function M(B,j){b="REPLACE";let H=Y0(I.location,B,j);x=_();let F=_x(H,x),Q=I.createHref(H);p.replaceState(F,"",Q),d&&w&&w({action:b,location:I.location,delta:0})}function P(B){return v3(B)}let I={get action(){return b},get location(){return t(u,p)},listen(B){if(w)throw new Error("A history only accepts one active listener");return u.addEventListener(Cx,C),w=B,()=>{u.removeEventListener(Cx,C),w=null}},createHref(B){return e(u,B)},createURL:P,encodeLocation(B){let j=P(B);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:D,replace:M,go(B){return p.go(B)}};return I}function v3(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),vn(r,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Ic(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function l2(t,e,r="/"){return E3(t,e,r,!1)}function E3(t,e,r,o){let u=typeof e=="string"?Sl(e):e,d=Mi(u.pathname||"/",r);if(d==null)return null;let p=c2(t);S3(p);let b=null;for(let w=0;b==null&&w<p.length;++w){let x=k3(d);b=D3(p[w],x,o)}return b}function c2(t,e=[],r=[],o="",u=!1){let d=(p,b,w=u,x)=>{let _={relativePath:x===void 0?p.path||"":x,caseSensitive:p.caseSensitive===!0,childrenIndex:b,route:p};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(o)&&w)return;vn(_.relativePath.startsWith(o),`Absolute route path "${_.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(o.length)}let C=Di([o,_.relativePath]),D=r.concat(_);p.children&&p.children.length>0&&(vn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),c2(p.children,e,D,C,w)),!(p.path==null&&!p.index)&&e.push({path:C,score:O3(C,p.index),routesMeta:D})};return t.forEach((p,b)=>{var w;if(p.path===""||!((w=p.path)!=null&&w.includes("?")))d(p,b);else for(let x of u2(p.path))d(p,b,!0,x)}),e}function u2(t){let e=t.split("/");if(e.length===0)return[];let[r,...o]=e,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let p=u2(o.join("/")),b=[];return b.push(...p.map(w=>w===""?d:[d,w].join("/"))),u&&b.push(...p),b.map(w=>t.startsWith("/")&&w===""?"/":w)}function S3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:I3(e.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var A3=/^:[\w-]+$/,C3=3,_3=2,T3=1,N3=10,R3=-2,Tx=t=>t==="*";function O3(t,e){let r=t.split("/"),o=r.length;return r.some(Tx)&&(o+=R3),e&&(o+=_3),r.filter(u=>!Tx(u)).reduce((u,d)=>u+(A3.test(d)?C3:d===""?T3:N3),o)}function I3(t,e){return t.length===e.length&&t.slice(0,-1).every((o,u)=>o===e[u])?t[t.length-1]-e[e.length-1]:0}function D3(t,e,r=!1){let{routesMeta:o}=t,u={},d="/",p=[];for(let b=0;b<o.length;++b){let w=o[b],x=b===o.length-1,_=d==="/"?e:e.slice(d.length)||"/",C=Ld({path:w.relativePath,caseSensitive:w.caseSensitive,end:x},_),D=w.route;if(!C&&x&&r&&!o[o.length-1].route.index&&(C=Ld({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},_)),!C)return null;Object.assign(u,C.params),p.push({params:u,pathname:Di([d,C.pathname]),pathnameBase:P3(Di([d,C.pathnameBase])),route:D}),C.pathnameBase!=="/"&&(d=Di([d,C.pathnameBase]))}return p}function Ld(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=M3(t.path,t.caseSensitive,t.end),u=e.match(r);if(!u)return null;let d=u[0],p=d.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:o.reduce((x,{paramName:_,isOptional:C},D)=>{if(_==="*"){let P=b[D]||"";p=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}const M=b[D];return C&&!M?x[_]=void 0:x[_]=(M||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:p,pattern:t}}function M3(t,e=!1,r=!0){ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],u="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,b,w)=>(o.push({paramName:b,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),u+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":t!==""&&t!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),o]}function k3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ba(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}var d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L3=t=>d2.test(t);function j3(t,e="/"){let{pathname:r,search:o="",hash:u=""}=typeof t=="string"?Sl(t):t,d;if(r)if(L3(r))d=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?d=Nx(r.substring(1),"/"):d=Nx(r,e)}else d=e;return{pathname:d,search:U3(o),hash:F3(u)}}function Nx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function w0(t,e,r,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _1(t){let e=B3(t);return e.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase)}function T1(t,e,r,o=!1){let u;typeof t=="string"?u=Sl(t):(u={...t},vn(!u.pathname||!u.pathname.includes("?"),w0("?","pathname","search",u)),vn(!u.pathname||!u.pathname.includes("#"),w0("#","pathname","hash",u)),vn(!u.search||!u.search.includes("#"),w0("#","search","hash",u)));let d=t===""||u.pathname==="",p=d?"/":u.pathname,b;if(p==null)b=r;else{let C=e.length-1;if(!o&&p.startsWith("..")){let D=p.split("/");for(;D[0]==="..";)D.shift(),C-=1;u.pathname=D.join("/")}b=C>=0?e[C]:"/"}let w=j3(u,b),x=p&&p!=="/"&&p.endsWith("/"),_=(d||p===".")&&r.endsWith("/");return!w.pathname.endsWith("/")&&(x||_)&&(w.pathname+="/"),w}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),P3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,z3=class{constructor(t,e,r,o=!1){this.status=t,this.statusText=e||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function H3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function V3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function h2(t,e){let r=t;if(typeof r!="string"||!d2.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,u=!1;if(f2)try{let d=new URL(window.location.href),p=r.startsWith("//")?new URL(d.protocol+r):new URL(r),b=Mi(p.pathname,e);p.origin===d.origin&&b!=null?r=b+p.search+p.hash:u=!0}catch{ba(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g2=["POST","PUT","PATCH","DELETE"];new Set(g2);var G3=["GET",...g2];new Set(G3);var Al=N.createContext(null);Al.displayName="DataRouter";var tf=N.createContext(null);tf.displayName="DataRouterState";var Y3=N.createContext(!1),m2=N.createContext({isTransitioning:!1});m2.displayName="ViewTransition";var q3=N.createContext(new Map);q3.displayName="Fetchers";var X3=N.createContext(null);X3.displayName="Await";var sa=N.createContext(null);sa.displayName="Navigation";var Hc=N.createContext(null);Hc.displayName="Location";var Ua=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var N1=N.createContext(null);N1.displayName="RouteError";var p2="REACT_ROUTER_ERROR",W3="REDIRECT",K3="ROUTE_ERROR_RESPONSE";function Z3(t){if(t.startsWith(`${p2}:${W3}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $3(t){if(t.startsWith(`${p2}:${K3}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new z3(e.status,e.statusText,e.data)}catch{}}function Q3(t,{relative:e}={}){vn(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=N.useContext(sa),{hash:u,pathname:d,search:p}=Vc(t,{relative:e}),b=d;return r!=="/"&&(b=d==="/"?r:Di([r,d])),o.createHref({pathname:b,search:p,hash:u})}function Cl(){return N.useContext(Hc)!=null}function ji(){return vn(Cl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Hc).location}var x2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y2(t){N.useContext(sa).static||N.useLayoutEffect(t)}function po(){let{isDataRoute:t}=N.useContext(Ua);return t?hS():J3()}function J3(){vn(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Al),{basename:e,navigator:r}=N.useContext(sa),{matches:o}=N.useContext(Ua),{pathname:u}=ji(),d=JSON.stringify(_1(o)),p=N.useRef(!1);return y2(()=>{p.current=!0}),N.useCallback((w,x={})=>{if(ba(p.current,x2),!p.current)return;if(typeof w=="number"){r.go(w);return}let _=T1(w,JSON.parse(d),u,x.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Di([e,_.pathname])),(x.replace?r.replace:r.push)(_,x.state,x)},[e,r,d,u,t])}var eS=N.createContext(null);function tS(t){let e=N.useContext(Ua).outlet;return N.useMemo(()=>e&&N.createElement(eS.Provider,{value:t},e),[e,t])}function Vc(t,{relative:e}={}){let{matches:r}=N.useContext(Ua),{pathname:o}=ji(),u=JSON.stringify(_1(r));return N.useMemo(()=>T1(t,JSON.parse(u),o,e==="path"),[t,u,o,e])}function nS(t,e){return b2(t,e)}function b2(t,e,r,o,u){var H;vn(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=N.useContext(sa),{matches:p}=N.useContext(Ua),b=p[p.length-1],w=b?b.params:{},x=b?b.pathname:"/",_=b?b.pathnameBase:"/",C=b&&b.route;{let F=C&&C.path||"";v2(x,!C||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let D=ji(),M;if(e){let F=typeof e=="string"?Sl(e):e;vn(_==="/"||((H=F.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${F.pathname}" was given in the \`location\` prop.`),M=F}else M=D;let P=M.pathname||"/",I=P;if(_!=="/"){let F=_.replace(/^\//,"").split("/");I="/"+P.replace(/^\//,"").split("/").slice(F.length).join("/")}let B=l2(t,{pathname:I});ba(C||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ba(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=oS(B&&B.map(F=>Object.assign({},F,{params:Object.assign({},w,F.params),pathname:Di([_,d.encodeLocation?d.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:Di([_,d.encodeLocation?d.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),p,r,o,u);return e&&j?N.createElement(Hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},j):j}function rS(){let t=fS(),e=H3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:d},"ErrorBoundary")," or"," ",N.createElement("code",{style:d},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:u},r):null,p)}var aS=N.createElement(rS,null),w2=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=$3(t.digest);r&&(t=r)}let e=t!==void 0?N.createElement(Ua.Provider,{value:this.props.routeContext},N.createElement(N1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(iS,{error:t},e):e}};w2.contextType=Y3;var v0=new WeakMap;function iS({children:t,error:e}){let{basename:r}=N.useContext(sa);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=Z3(e.digest);if(o){let u=v0.get(e);if(u)throw u;let d=h2(o.location,r);if(f2&&!v0.get(e))if(d.isExternal||o.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:o.replace}));throw v0.set(e,p),p}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return t}function sS({routeContext:t,match:e,children:r}){let o=N.useContext(Al);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Ua.Provider,{value:t},r)}function oS(t,e=[],r=null,o=null,u=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,p=r==null?void 0:r.errors;if(p!=null){let _=d.findIndex(C=>C.route.id&&(p==null?void 0:p[C.route.id])!==void 0);vn(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),d=d.slice(0,Math.min(d.length,_+1))}let b=!1,w=-1;if(r)for(let _=0;_<d.length;_++){let C=d[_];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(w=_),C.route.id){let{loaderData:D,errors:M}=r,P=C.route.loader&&!D.hasOwnProperty(C.route.id)&&(!M||M[C.route.id]===void 0);if(C.route.lazy||P){b=!0,w>=0?d=d.slice(0,w+1):d=[d[0]];break}}}let x=r&&o?(_,C)=>{var D,M;o(_,{location:r.location,params:((M=(D=r.matches)==null?void 0:D[0])==null?void 0:M.params)??{},unstable_pattern:V3(r.matches),errorInfo:C})}:void 0;return d.reduceRight((_,C,D)=>{let M,P=!1,I=null,B=null;r&&(M=p&&C.route.id?p[C.route.id]:void 0,I=C.route.errorElement||aS,b&&(w<0&&D===0?(v2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,B=null):w===D&&(P=!0,B=C.route.hydrateFallbackElement||null)));let j=e.concat(d.slice(0,D+1)),H=()=>{let F;return M?F=I:P?F=B:C.route.Component?F=N.createElement(C.route.Component,null):C.route.element?F=C.route.element:F=_,N.createElement(sS,{match:C,routeContext:{outlet:_,matches:j,isDataRoute:r!=null},children:F})};return r&&(C.route.ErrorBoundary||C.route.errorElement||D===0)?N.createElement(w2,{location:r.location,revalidation:r.revalidation,component:I,error:M,children:H(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:x}):H()},null)}function R1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(t){let e=N.useContext(Al);return vn(e,R1(t)),e}function cS(t){let e=N.useContext(tf);return vn(e,R1(t)),e}function uS(t){let e=N.useContext(Ua);return vn(e,R1(t)),e}function O1(t){let e=uS(t),r=e.matches[e.matches.length-1];return vn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function dS(){return O1("useRouteId")}function fS(){var o;let t=N.useContext(N1),e=cS("useRouteError"),r=O1("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[r]}function hS(){let{router:t}=lS("useNavigate"),e=O1("useNavigate"),r=N.useRef(!1);return y2(()=>{r.current=!0}),N.useCallback(async(u,d={})=>{ba(r.current,x2),r.current&&(typeof u=="number"?await t.navigate(u):await t.navigate(u,{fromRouteId:e,...d}))},[t,e])}var Rx={};function v2(t,e,r){!e&&!Rx[t]&&(Rx[t]=!0,ba(!1,r))}N.memo(gS);function gS({routes:t,future:e,state:r,onError:o}){return b2(t,void 0,r,o,e)}function Cs({to:t,replace:e,state:r,relative:o}){vn(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=N.useContext(sa);ba(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=N.useContext(Ua),{pathname:p}=ji(),b=po(),w=T1(t,_1(d),p,o==="path"),x=JSON.stringify(w);return N.useEffect(()=>{b(JSON.parse(x),{replace:e,state:r,relative:o})},[b,x,o,e,r]),null}function mS(t){return tS(t.context)}function Br(t){vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:t="/",children:e=null,location:r,navigationType:o="POP",navigator:u,static:d=!1,unstable_useTransitions:p}){vn(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=t.replace(/^\/*/,"/"),w=N.useMemo(()=>({basename:b,navigator:u,static:d,unstable_useTransitions:p,future:{}}),[b,u,d,p]);typeof r=="string"&&(r=Sl(r));let{pathname:x="/",search:_="",hash:C="",state:D=null,key:M="default"}=r,P=N.useMemo(()=>{let I=Mi(x,b);return I==null?null:{location:{pathname:I,search:_,hash:C,state:D,key:M},navigationType:o}},[b,x,_,C,D,M,o]);return ba(P!=null,`<Router basename="${b}"> is not able to match the URL "${x}${_}${C}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:N.createElement(sa.Provider,{value:w},N.createElement(Hc.Provider,{children:e,value:P}))}function xS({children:t,location:e}){return nS(q0(t),e)}function q0(t,e=[]){let r=[];return N.Children.forEach(t,(o,u)=>{if(!N.isValidElement(o))return;let d=[...e,u];if(o.type===N.Fragment){r.push.apply(r,q0(o.props.children,d));return}vn(o.type===Br,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vn(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=q0(o.props.children,d)),r.push(p)}),r}var Rd="get",Od="application/x-www-form-urlencoded";function nf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yS(t){return nf(t)&&t.tagName.toLowerCase()==="button"}function bS(t){return nf(t)&&t.tagName.toLowerCase()==="form"}function wS(t){return nf(t)&&t.tagName.toLowerCase()==="input"}function vS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ES(t,e){return t.button===0&&(!e||e==="_self")&&!vS(t)}var md=null;function SS(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var AS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function E0(t){return t!=null&&!AS.has(t)?(ba(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):t}function CS(t,e){let r,o,u,d,p;if(bS(t)){let b=t.getAttribute("action");o=b?Mi(b,e):null,r=t.getAttribute("method")||Rd,u=E0(t.getAttribute("enctype"))||Od,d=new FormData(t)}else if(yS(t)||wS(t)&&(t.type==="submit"||t.type==="image")){let b=t.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=t.getAttribute("formaction")||b.getAttribute("action");if(o=w?Mi(w,e):null,r=t.getAttribute("formmethod")||b.getAttribute("method")||Rd,u=E0(t.getAttribute("formenctype"))||E0(b.getAttribute("enctype"))||Od,d=new FormData(b,t),!SS()){let{name:x,type:_,value:C}=t;if(_==="image"){let D=x?`${x}.`:"";d.append(`${D}x`,"0"),d.append(`${D}y`,"0")}else x&&d.append(x,C)}}else{if(nf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Rd,o=null,u=Od,p=t}return d&&u==="text/plain"&&(p=d,d=void 0),{action:o,method:r.toLowerCase(),encType:u,formData:d,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _S(t,e,r,o){let u=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:e&&Mi(u.pathname,e)==="/"?u.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function TS(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RS(t,e,r){let o=await Promise.all(t.map(async u=>{let d=e.routes[u.route.id];if(d){let p=await TS(d,r);return p.links?p.links():[]}return[]}));return MS(o.flat(1).filter(NS).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Ox(t,e,r,o,u,d){let p=(w,x)=>r[x]?w.route.id!==r[x].route.id:!0,b=(w,x)=>{var _;return r[x].pathname!==w.pathname||((_=r[x].route.path)==null?void 0:_.endsWith("*"))&&r[x].params["*"]!==w.params["*"]};return d==="assets"?e.filter((w,x)=>p(w,x)||b(w,x)):d==="data"?e.filter((w,x)=>{var C;let _=o.routes[w.route.id];if(!_||!_.hasLoader)return!1;if(p(w,x)||b(w,x))return!0;if(w.route.shouldRevalidate){let D=w.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((C=r[0])==null?void 0:C.params)||{},nextUrl:new URL(t,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function OS(t,e,{includeHydrateFallback:r}={}){return IS(t.map(o=>{let u=e.routes[o.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function IS(t){return[...new Set(t)]}function DS(t){let e={},r=Object.keys(t).sort();for(let o of r)e[o]=t[o];return e}function MS(t,e){let r=new Set;return new Set(e),t.reduce((o,u)=>{let d=JSON.stringify(DS(u));return r.has(d)||(r.add(d),o.push({key:d,link:u})),o},[])}function E2(){let t=N.useContext(Al);return I1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kS(){let t=N.useContext(tf);return I1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var D1=N.createContext(void 0);D1.displayName="FrameworkContext";function S2(){let t=N.useContext(D1);return I1(t,"You must render this element inside a <HydratedRouter> element"),t}function LS(t,e){let r=N.useContext(D1),[o,u]=N.useState(!1),[d,p]=N.useState(!1),{onFocus:b,onBlur:w,onMouseEnter:x,onMouseLeave:_,onTouchStart:C}=e,D=N.useRef(null);N.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let I=j=>{j.forEach(H=>{p(H.isIntersecting)})},B=new IntersectionObserver(I,{threshold:.5});return D.current&&B.observe(D.current),()=>{B.disconnect()}}},[t]),N.useEffect(()=>{if(o){let I=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(I)}}},[o]);let M=()=>{u(!0)},P=()=>{u(!1),p(!1)};return r?t!=="intent"?[d,D,{}]:[d,D,{onFocus:Ac(b,M),onBlur:Ac(w,P),onMouseEnter:Ac(x,M),onMouseLeave:Ac(_,P),onTouchStart:Ac(C,M)}]:[!1,D,{}]}function Ac(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function jS({page:t,...e}){let{router:r}=E2(),o=N.useMemo(()=>l2(r.routes,t,r.basename),[r.routes,t,r.basename]);return o?N.createElement(PS,{page:t,matches:o,...e}):null}function BS(t){let{manifest:e,routeModules:r}=S2(),[o,u]=N.useState([]);return N.useEffect(()=>{let d=!1;return RS(t,e,r).then(p=>{d||u(p)}),()=>{d=!0}},[t,e,r]),o}function PS({page:t,matches:e,...r}){let o=ji(),{future:u,manifest:d,routeModules:p}=S2(),{basename:b}=E2(),{loaderData:w,matches:x}=kS(),_=N.useMemo(()=>Ox(t,e,x,d,o,"data"),[t,e,x,d,o]),C=N.useMemo(()=>Ox(t,e,x,d,o,"assets"),[t,e,x,d,o]),D=N.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let I=new Set,B=!1;if(e.forEach(H=>{var Q;let F=d.routes[H.route.id];!F||!F.hasLoader||(!_.some(ce=>ce.route.id===H.route.id)&&H.route.id in w&&((Q=p[H.route.id])!=null&&Q.shouldRevalidate)||F.hasClientLoader?B=!0:I.add(H.route.id))}),I.size===0)return[];let j=_S(t,b,u.unstable_trailingSlashAwareDataRequests,"data");return B&&I.size>0&&j.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[j.pathname+j.search]},[b,u.unstable_trailingSlashAwareDataRequests,w,o,d,_,e,t,p]),M=N.useMemo(()=>OS(C,d),[C,d]),P=BS(C);return N.createElement(N.Fragment,null,D.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),M.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),P.map(({key:I,link:B})=>N.createElement("link",{key:I,nonce:r.nonce,...B})))}function US(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var FS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FS&&(window.__reactRouterVersion="7.12.0")}catch{}function zS({basename:t,children:e,unstable_useTransitions:r,window:o}){let u=N.useRef();u.current==null&&(u.current=y3({window:o,v5Compat:!0}));let d=u.current,[p,b]=N.useState({action:d.action,location:d.location}),w=N.useCallback(x=>{r===!1?b(x):N.startTransition(()=>b(x))},[r]);return N.useLayoutEffect(()=>d.listen(w),[d,w]),N.createElement(pS,{basename:t,children:e,location:p.location,navigationType:p.action,navigator:d,unstable_useTransitions:r})}var A2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M1=N.forwardRef(function({onClick:e,discover:r="render",prefetch:o="none",relative:u,reloadDocument:d,replace:p,state:b,target:w,to:x,preventScrollReset:_,viewTransition:C,unstable_defaultShouldRevalidate:D,...M},P){let{basename:I,unstable_useTransitions:B}=N.useContext(sa),j=typeof x=="string"&&A2.test(x),H=h2(x,I);x=H.to;let F=Q3(x,{relative:u}),[Q,ce,se]=LS(o,M),Y=YS(x,{replace:p,state:b,target:w,preventScrollReset:_,relative:u,viewTransition:C,unstable_defaultShouldRevalidate:D,unstable_useTransitions:B});function X(De){e&&e(De),De.defaultPrevented||Y(De)}let ne=N.createElement("a",{...M,...se,href:H.absoluteURL||F,onClick:H.isExternal||d?e:X,ref:US(P,ce),target:w,"data-discover":!j&&r==="render"?"true":void 0});return Q&&!j?N.createElement(N.Fragment,null,ne,N.createElement(jS,{page:F})):ne});M1.displayName="Link";var HS=N.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:o="",end:u=!1,style:d,to:p,viewTransition:b,children:w,...x},_){let C=Vc(p,{relative:x.relative}),D=ji(),M=N.useContext(tf),{navigator:P,basename:I}=N.useContext(sa),B=M!=null&&ZS(C)&&b===!0,j=P.encodeLocation?P.encodeLocation(C).pathname:C.pathname,H=D.pathname,F=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;r||(H=H.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&I&&(F=Mi(F,I)||F);const Q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ce=H===j||!u&&H.startsWith(j)&&H.charAt(Q)==="/",se=F!=null&&(F===j||!u&&F.startsWith(j)&&F.charAt(j.length)==="/"),Y={isActive:ce,isPending:se,isTransitioning:B},X=ce?e:void 0,ne;typeof o=="function"?ne=o(Y):ne=[o,ce?"active":null,se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let De=typeof d=="function"?d(Y):d;return N.createElement(M1,{...x,"aria-current":X,className:ne,ref:_,style:De,to:p,viewTransition:b},typeof w=="function"?w(Y):w)});HS.displayName="NavLink";var VS=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:o,replace:u,state:d,method:p=Rd,action:b,onSubmit:w,relative:x,preventScrollReset:_,viewTransition:C,unstable_defaultShouldRevalidate:D,...M},P)=>{let{unstable_useTransitions:I}=N.useContext(sa),B=WS(),j=KS(b,{relative:x}),H=p.toLowerCase()==="get"?"get":"post",F=typeof b=="string"&&A2.test(b),Q=ce=>{if(w&&w(ce),ce.defaultPrevented)return;ce.preventDefault();let se=ce.nativeEvent.submitter,Y=(se==null?void 0:se.getAttribute("formmethod"))||p,X=()=>B(se||ce.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:u,state:d,relative:x,preventScrollReset:_,viewTransition:C,unstable_defaultShouldRevalidate:D});I&&r!==!1?N.startTransition(()=>X()):X()};return N.createElement("form",{ref:P,method:H,action:j,onSubmit:o?w:Q,...M,"data-discover":!F&&t==="render"?"true":void 0})});VS.displayName="Form";function GS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(t){let e=N.useContext(Al);return vn(e,GS(t)),e}function YS(t,{target:e,replace:r,state:o,preventScrollReset:u,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w}={}){let x=po(),_=ji(),C=Vc(t,{relative:d});return N.useCallback(D=>{if(ES(D,e)){D.preventDefault();let M=r!==void 0?r:Ic(_)===Ic(C),P=()=>x(t,{replace:M,state:o,preventScrollReset:u,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:b});w?N.startTransition(()=>P()):P()}},[_,x,C,r,o,e,t,u,d,p,b,w])}var qS=0,XS=()=>`__${String(++qS)}__`;function WS(){let{router:t}=C2("useSubmit"),{basename:e}=N.useContext(sa),r=dS(),o=t.fetch,u=t.navigate;return N.useCallback(async(d,p={})=>{let{action:b,method:w,encType:x,formData:_,body:C}=CS(d,e);if(p.navigate===!1){let D=p.fetcherKey||XS();await o(D,r,p.action||b,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:_,body:C,formMethod:p.method||w,formEncType:p.encType||x,flushSync:p.flushSync})}else await u(p.action||b,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:_,body:C,formMethod:p.method||w,formEncType:p.encType||x,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,u,e,r])}function KS(t,{relative:e}={}){let{basename:r}=N.useContext(sa),o=N.useContext(Ua);vn(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),d={...Vc(t||".",{relative:e})},p=ji();if(t==null){d.search=p.search;let b=new URLSearchParams(d.search),w=b.getAll("index");if(w.some(_=>_==="")){b.delete("index"),w.filter(C=>C).forEach(C=>b.append("index",C));let _=b.toString();d.search=_?`?${_}`:""}}return(!t||t===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Di([r,d.pathname])),Ic(d)}function ZS(t,{relative:e}={}){let r=N.useContext(m2);vn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=C2("useViewTransitionState"),u=Vc(t,{relative:e});if(!r.isTransitioning)return!1;let d=Mi(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=Mi(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Ld(u.pathname,p)!=null||Ld(u.pathname,d)!=null}var Gc=o2();const _2=ef(Gc);var Ja=function(){return Ja=Object.assign||function(e){for(var r,o=1,u=arguments.length;o<u;o++){r=arguments[o];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(e[d]=r[d])}return e},Ja.apply(this,arguments)};function _l(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(t);u<o.length;u++)e.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(t,o[u])&&(r[o[u]]=t[o[u]]);return r}function $S(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})}function QS(t,e,r){if(r||arguments.length===2)for(var o=0,u=e.length,d;o<u;o++)(d||!(o in e))&&(d||(d=Array.prototype.slice.call(e,0,o)),d[o]=e[o]);return t.concat(d||Array.prototype.slice.call(e))}const JS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class k1 extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}}class eA extends k1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ix extends k1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dx extends k1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var X0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(X0||(X0={}));class tA{constructor(e,{headers:r={},customFetch:o,region:u=X0.Any}={}){this.url=e,this.headers=r,this.region=u,this.fetch=JS(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $S(this,arguments,void 0,function*(r,o={}){var u;let d,p;try{const{headers:b,method:w,body:x,signal:_,timeout:C}=o;let D={},{region:M}=o;M||(M=this.region);const P=new URL(`${this.url}/${r}`);M&&M!=="any"&&(D["x-region"]=M,P.searchParams.set("forceFunctionRegion",M));let I;x&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(D["Content-Type"]="application/octet-stream",I=x):typeof x=="string"?(D["Content-Type"]="text/plain",I=x):typeof FormData<"u"&&x instanceof FormData?I=x:(D["Content-Type"]="application/json",I=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?I=JSON.stringify(x):I=x;let B=_;C&&(p=new AbortController,d=setTimeout(()=>p.abort(),C),_?(B=p.signal,_.addEventListener("abort",()=>p.abort())):B=p.signal);const j=yield this.fetch(P.toString(),{method:w||"POST",headers:Object.assign(Object.assign(Object.assign({},D),this.headers),b),body:I,signal:B}).catch(ce=>{throw new eA(ce)}),H=j.headers.get("x-relay-error");if(H&&H==="true")throw new Ix(j);if(!j.ok)throw new Dx(j);let F=((u=j.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return F==="application/json"?Q=yield j.json():F==="application/octet-stream"||F==="application/pdf"?Q=yield j.blob():F==="text/event-stream"?Q=j:F==="multipart/form-data"?Q=yield j.formData():Q=yield j.text(),{data:Q,error:null,response:j}}catch(b){return{data:null,error:b,response:b instanceof Dx||b instanceof Ix?b.context:void 0}}finally{d&&clearTimeout(d)}})}}var nA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},rA=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let p=null,b=null,w=null,x=d.status,_=d.statusText;if(d.ok){var C,D;if(r.method!=="HEAD"){var M;const j=await d.text();j===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((M=r.headers.get("Accept"))===null||M===void 0)&&M.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const I=(C=r.headers.get("Prefer"))===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),B=(D=d.headers.get("content-range"))===null||D===void 0?void 0:D.split("/");I&&B&&B.length>1&&(w=parseInt(B[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,x=406,_="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var P;const I=await d.text();try{p=JSON.parse(I),Array.isArray(p)&&d.status===404&&(b=[],p=null,x=200,_="OK")}catch{d.status===404&&I===""?(x=204,_="No Content"):p={message:I}}if(p&&r.isMaybeSingle&&(!(p==null||(P=p.details)===null||P===void 0)&&P.includes("0 rows"))&&(p=null,x=200,_="OK"),p&&r.shouldThrowOnError)throw new nA(p)}return{error:p,data:b,count:w,status:x,statusText:_}});return this.shouldThrowOnError||(u=u.catch(d=>{var p;let b="";const w=d==null?void 0:d.cause;if(w){var x,_,C,D;const P=(x=w==null?void 0:w.message)!==null&&x!==void 0?x:"",I=(_=w==null?void 0:w.code)!==null&&_!==void 0?_:"";b=`${(C=d==null?void 0:d.name)!==null&&C!==void 0?C:"FetchError"}: ${d==null?void 0:d.message}`,b+=`

Caused by: ${(D=w==null?void 0:w.name)!==null&&D!==void 0?D:"Error"}: ${P}`,I&&(b+=` (${I})`),w!=null&&w.stack&&(b+=`
${w.stack}`)}else{var M;b=(M=d==null?void 0:d.stack)!==null&&M!==void 0?M:""}return{error:{message:`${(p=d==null?void 0:d.name)!==null&&p!==void 0?p:"FetchError"}: ${d==null?void 0:d.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(t,e)}returns(){return this}overrideTypes(){return this}},aA=class extends rA{select(t){let e=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:o=r}={}){const u=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(d,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:u=!1,format:d="text"}={}){var p;const b=[t?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${w}"; options=${b};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mx=new RegExp("[,()]");var dl=class extends aA{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(o=>typeof o=="string"&&Mx.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(o=>typeof o=="string"&&Mx.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${u}fts${d}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},iA=class{constructor(t,{headers:e={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:o}=e??{},u=r?"HEAD":"GET";let d=!1;const p=(t??"*").split("").map(x=>/\s/.test(x)&&!d?"":(x==='"'&&(d=!d),x)).join(""),{url:b,headers:w}=this.cloneRequestState();return b.searchParams.set("select",p),o&&w.append("Prefer",`count=${o}`),new dl({method:u,url:b,headers:w,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var o;const u="POST",{url:d,headers:p}=this.cloneRequestState();if(e&&p.append("Prefer",`count=${e}`),r||p.append("Prefer","missing=default"),Array.isArray(t)){const b=t.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(b.length>0){const w=[...new Set(b)].map(x=>`"${x}"`);d.searchParams.set("columns",w.join(","))}}return new dl({method:u,url:d,headers:p,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:u=!0}={}){var d;const p="POST",{url:b,headers:w}=this.cloneRequestState();if(w.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&b.searchParams.set("on_conflict",e),o&&w.append("Prefer",`count=${o}`),u||w.append("Prefer","missing=default"),Array.isArray(t)){const x=t.reduce((_,C)=>_.concat(Object.keys(C)),[]);if(x.length>0){const _=[...new Set(x)].map(C=>`"${C}"`);b.searchParams.set("columns",_.join(","))}}return new dl({method:p,url:b,headers:w,schema:this.schema,body:t,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(t,{count:e}={}){var r;const o="PATCH",{url:u,headers:d}=this.cloneRequestState();return e&&d.append("Prefer",`count=${e}`),new dl({method:o,url:u,headers:d,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new dl({method:r,url:o,headers:u,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},sA=class T2{constructor(e,{headers:r={},schema:o,fetch:u}={}){this.url=e,this.headers=new Headers(r),this.schemaName=o,this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iA(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new T2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:o=!1,get:u=!1,count:d}={}){var p;let b;const w=new URL(`${this.url}/rpc/${e}`);let x;const _=M=>M!==null&&typeof M=="object"&&(!Array.isArray(M)||M.some(_)),C=o&&Object.values(r).some(_);C?(b="POST",x=r):o||u?(b=o?"HEAD":"GET",Object.entries(r).filter(([M,P])=>P!==void 0).map(([M,P])=>[M,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([M,P])=>{w.searchParams.append(M,P)})):(b="POST",x=r);const D=new Headers(this.headers);return C?D.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&D.set("Prefer",`count=${d}`),new dl({method:b,url:w,headers:D,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class oA{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const o=r.versions;if(o&&o.node){const u=o.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const o=this.getWebSocketConstructor();return new o(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lA="2.90.1",cA=`realtime-js/${lA}`,N2="1.0.0",uA="2.0.0",kx=N2,W0=1e4,dA=1e3,fA=100;var As;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(As||(As={}));var rr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rr||(rr={}));var Ma;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ma||(Ma={}));var K0;(function(t){t.websocket="websocket"})(K0||(K0={}));var lo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lo||(lo={}));class hA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,o;const u=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(e){var r,o;const u=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(e,r,o){var u,d;const p=e.topic,b=(u=e.ref)!==null&&u!==void 0?u:"",w=(d=e.join_ref)!==null&&d!==void 0?d:"",x=e.payload.event,_=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},C=Object.keys(_).length===0?"":JSON.stringify(_);if(w.length>255)throw new Error(`joinRef length ${w.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(C.length>255)throw new Error(`metadata length ${C.length} exceeds maximum of 255`);const D=this.USER_BROADCAST_PUSH_META_LENGTH+w.length+b.length+p.length+x.length+C.length,M=new ArrayBuffer(this.HEADER_LENGTH+D);let P=new DataView(M),I=0;P.setUint8(I++,this.KINDS.userBroadcastPush),P.setUint8(I++,w.length),P.setUint8(I++,b.length),P.setUint8(I++,p.length),P.setUint8(I++,x.length),P.setUint8(I++,C.length),P.setUint8(I++,r),Array.from(w,j=>P.setUint8(I++,j.charCodeAt(0))),Array.from(b,j=>P.setUint8(I++,j.charCodeAt(0))),Array.from(p,j=>P.setUint8(I++,j.charCodeAt(0))),Array.from(x,j=>P.setUint8(I++,j.charCodeAt(0))),Array.from(C,j=>P.setUint8(I++,j.charCodeAt(0)));var B=new Uint8Array(M.byteLength+o.byteLength);return B.set(new Uint8Array(M),0),B.set(new Uint8Array(o),M.byteLength),B.buffer}decode(e,r){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return r(o)}if(typeof e=="string"){const o=JSON.parse(e),[u,d,p,b,w]=o;return r({join_ref:u,ref:d,topic:p,event:b,payload:w})}return r({})}_binaryDecode(e){const r=new DataView(e),o=r.getUint8(0),u=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,u)}}_decodeUserBroadcast(e,r,o){const u=r.getUint8(1),d=r.getUint8(2),p=r.getUint8(3),b=r.getUint8(4);let w=this.HEADER_LENGTH+4;const x=o.decode(e.slice(w,w+u));w=w+u;const _=o.decode(e.slice(w,w+d));w=w+d;const C=o.decode(e.slice(w,w+p));w=w+p;const D=e.slice(w,e.byteLength),M=b===this.JSON_ENCODING?JSON.parse(o.decode(D)):D,P={type:this.BROADCAST_EVENT,event:_,payload:M};return p>0&&(P.meta=JSON.parse(C)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>r.includes(o)))}}class R2{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(un||(un={}));const Lx=(t,e,r={})=>{var o;const u=(o=r.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((d,p)=>(d[p]=gA(p,t,e,u),d),{}):{}},gA=(t,e,r,o)=>{const u=e.find(b=>b.name===t),d=u==null?void 0:u.type,p=r[t];return d&&!o.includes(d)?O2(d,p):Z0(p)},O2=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return yA(e,r)}switch(t){case un.bool:return mA(e);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return pA(e);case un.json:case un.jsonb:return xA(e);case un.timestamp:return bA(e);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return Z0(e);default:return Z0(e)}},Z0=t=>t,mA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},yA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,o=t[r];if(t[0]==="{"&&o==="}"){let d;const p=t.slice(1,r);try{d=JSON.parse("["+p+"]")}catch{d=p?p.split(","):[]}return d.map(b=>O2(e,b))}return t},bA=t=>typeof t=="string"?t.replace(" ","T"):t,I2=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class S0{constructor(e,r,o={},u=W0){this.channel=e,this.event=r,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var o;return this._hasReceived(e)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jx||(jx={}));class Rc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:d,onLeave:p,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,u,d,p),this.pendingDiffs.forEach(w=>{this.state=Rc.syncDiff(this.state,w,d,p)}),this.pendingDiffs=[],b()}),this.channel._on(o.diff,{},u=>{const{onJoin:d,onLeave:p,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Rc.syncDiff(this.state,u,d,p),b())}),this.onJoin((u,d,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:p})}),this.onLeave((u,d,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,o,u){const d=this.cloneDeep(e),p=this.transformState(r),b={},w={};return this.map(d,(x,_)=>{p[x]||(w[x]=_)}),this.map(p,(x,_)=>{const C=d[x];if(C){const D=_.map(B=>B.presence_ref),M=C.map(B=>B.presence_ref),P=_.filter(B=>M.indexOf(B.presence_ref)<0),I=C.filter(B=>D.indexOf(B.presence_ref)<0);P.length>0&&(b[x]=P),I.length>0&&(w[x]=I)}else b[x]=_}),this.syncDiff(d,{joins:b,leaves:w},o,u)}static syncDiff(e,r,o,u){const{joins:d,leaves:p}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(d,(b,w)=>{var x;const _=(x=e[b])!==null&&x!==void 0?x:[];if(e[b]=this.cloneDeep(w),_.length>0){const C=e[b].map(M=>M.presence_ref),D=_.filter(M=>C.indexOf(M.presence_ref)<0);e[b].unshift(...D)}o(b,_,w)}),this.map(p,(b,w)=>{let x=e[b];if(!x)return;const _=w.map(C=>C.presence_ref);x=x.filter(C=>_.indexOf(C.presence_ref)<0),e[b]=x,u(b,x,w),x.length===0&&delete e[b]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(o=>r(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,o)=>{const u=e[o];return"metas"in u?r[o]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[o]=u,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bx||(Bx={}));var Oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oc||(Oc={}));var Oi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Oi||(Oi={}));class ml{constructor(e,r={config:{}},o){var u,d;if(this.topic=e,this.params=r,this.socket=o,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new S0(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new R2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(p,b)=>{this._trigger(this._replyEventName(b),p)}),this.presence=new Rc(this),this.broadcastEndpointURL=I2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var o,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:p,presence:b,private:w}}=this.params,x=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(M=>M.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[Oc.PRESENCE]&&this.bindings[Oc.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,C={},D={broadcast:p,presence:Object.assign(Object.assign({},b),{enabled:_}),postgres_changes:x,private:w};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(M=>e==null?void 0:e(Oi.CHANNEL_ERROR,M)),this._onClose(()=>e==null?void 0:e(Oi.CLOSED)),this.updateJoinPayload(Object.assign({config:D},C)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:M})=>{var P;if(this.socket._isManualToken()||this.socket.setAuth(),M===void 0){e==null||e(Oi.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,B=(P=I==null?void 0:I.length)!==null&&P!==void 0?P:0,j=[];for(let H=0;H<B;H++){const F=I[H],{filter:{event:Q,schema:ce,table:se,filter:Y}}=F,X=M&&M[H];if(X&&X.event===Q&&ml.isFilterValueEqual(X.schema,ce)&&ml.isFilterValueEqual(X.table,se)&&ml.isFilterValueEqual(X.filter,Y))j.push(Object.assign(Object.assign({},F),{id:X.id}));else{this.unsubscribe(),this.state=rr.errored,e==null||e(Oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Oi.SUBSCRIBED);return}}).receive("error",M=>{this.state=rr.errored,e==null||e(Oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(M).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,o){return this.state===rr.joined&&e===Oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,o)}async httpSend(e,r,o={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(b.status===202)return{success:!0};let w=b.statusText;try{const x=await b.json();w=x.error||x.message||w}catch{}return Promise.reject(new Error(w))}async send(e,r={}){var o,u;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:p}=e,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const w={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:p,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,w,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=x.body)===null||u===void 0?void 0:u.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var p,b,w;const x=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((w=(b=(p=this.params)===null||p===void 0?void 0:p.config)===null||b===void 0?void 0:b.broadcast)===null||w===void 0)&&w.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new S0(this,Ma.leave,{},e),o.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(e,r,o){const u=new AbortController,d=setTimeout(()=>u.abort(),o),p=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(d),p}_push(e,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new S0(this,e,r,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,o){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,o){var u,d;const p=e.toLocaleLowerCase(),{close:b,error:w,leave:x,join:_}=Ma;if(o&&[b,w,x,_].indexOf(p)>=0&&o!==this._joinRef())return;let D=this._onMessage(p,r,o);if(r&&!D)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(M=>{var P,I,B;return((P=M.filter)===null||P===void 0?void 0:P.event)==="*"||((B=(I=M.filter)===null||I===void 0?void 0:I.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===p}).map(M=>M.callback(D,o)):(d=this.bindings[p])===null||d===void 0||d.filter(M=>{var P,I,B,j,H,F,Q,ce;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in M){const se=M.id,Y=(P=M.filter)===null||P===void 0?void 0:P.event;return se&&((I=r.ids)===null||I===void 0?void 0:I.includes(se))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))&&(!(!((j=M.filter)===null||j===void 0)&&j.table)||M.filter.table===((H=r.data)===null||H===void 0?void 0:H.table))}else{const se=(Q=(F=M==null?void 0:M.filter)===null||F===void 0?void 0:F.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return se==="*"||se===((ce=r==null?void 0:r.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase())}else return M.type.toLocaleLowerCase()===p}).map(M=>{if(typeof D=="object"&&"ids"in D){const P=D.data,{schema:I,table:B,commit_timestamp:j,type:H,errors:F}=P;D=Object.assign(Object.assign({},{schema:I,table:B,commit_timestamp:j,eventType:H,new:{},old:{},errors:F}),this._getPayloadRecords(P))}M.callback(D,o)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,o){const u=e.toLocaleLowerCase(),d={type:u,filter:r,callback:o};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(e,r){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&ml.isEqual(u.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(e[o]!==r[o])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ma.close,{},e)}_onError(e){this._on(Ma.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Lx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Lx(e.columns,e.old_record)),r}}const A0=()=>{},pd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wA=[1e3,2e3,5e3,1e4],vA=1e4,EA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SA{constructor(e,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=W0,this.transport=null,this.heartbeatIntervalMs=pd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=A0,this.ref=0,this.reconnectTimer=null,this.vsn=kx,this.logger=A0,this.conn=null,this.sendBuffer=[],this.serializer=new hA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((o=r==null?void 0:r.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${K0.websocket}`,this.httpEndpoint=I2(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,o){this.logger(e,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case As.connecting:return lo.Connecting;case As.open:return lo.Open;case As.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const o=`realtime:${e}`,u=this.getChannels().find(d=>d.topic===o);if(u)return u;{const d=new ml(`realtime:${e}`,r,this);return this.channels.push(d),d}}push(e){const{topic:r,event:o,payload:u,ref:d}=e,p=()=>{this.encode(e,b=>{var w;(w=this.conn)===null||w===void 0||w.send(b)})};this.log("push",`${r} ${o} (${d})`,u),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(dA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",x)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:u,payload:d,ref:p}=r,b=p?`(${p})`:"",w=d.status||"";this.log("receive",`${w} ${o} ${u} ${b}`.trim(),d),this.channels.filter(x=>x._isMember(o)).forEach(x=>x._trigger(u,d,p)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===As.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===As.open||this.conn.readyState===As.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ma.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const o=e.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${e}${o}${u}`}_workerObjectUrl(e){let r;if(e)r=e;else{const o=new Blob([EA],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,o=!1;if(e)r=e,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const d={access_token:r,version:cA};r&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ma.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(r)}catch(u){this.log("error",`error in ${e} callback`,u)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new R2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,o,u,d,p,b,w,x,_,C,D,M;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:W0,this.heartbeatIntervalMs=(u=e==null?void 0:e.heartbeatIntervalMs)!==null&&u!==void 0?u:pd.HEARTBEAT_INTERVAL,this.worker=(d=e==null?void 0:e.worker)!==null&&d!==void 0?d:!1,this.accessToken=(p=e==null?void 0:e.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(b=e==null?void 0:e.heartbeatCallback)!==null&&b!==void 0?b:A0,this.vsn=(w=e==null?void 0:e.vsn)!==null&&w!==void 0?w:kx,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=e==null?void 0:e.reconnectAfterMs)!==null&&x!==void 0?x:(P=>wA[P-1]||vA),this.vsn){case N2:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:((P,I)=>I(JSON.stringify(P))),this.decode=(C=e==null?void 0:e.decode)!==null&&C!==void 0?C:((P,I)=>I(JSON.parse(P)));break;case uA:this.encode=(D=e==null?void 0:e.encode)!==null&&D!==void 0?D:this.serializer.encode.bind(this.serializer),this.decode=(M=e==null?void 0:e.decode)!==null&&M!==void 0?M:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Dc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function AA(t,e,r){const o=new URL(e,t);if(r)for(const[u,d]of Object.entries(r))d!==void 0&&o.searchParams.set(u,d);return o.toString()}async function CA(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function _A(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:u,body:d,headers:p}){const b=AA(t.baseUrl,o,u),w=await CA(t.auth),x=await e(b,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...w,...p},body:d?JSON.stringify(d):void 0}),_=await x.text(),C=(x.headers.get("content-type")||"").includes("application/json"),D=C&&_?JSON.parse(_):_;if(!x.ok){const M=C?D:void 0,P=M==null?void 0:M.error;throw new Dc((P==null?void 0:P.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:P==null?void 0:P.type,icebergCode:P==null?void 0:P.code,details:M})}return{status:x.status,headers:x.headers,data:D}}}}function xd(t){return t.join("")}var TA=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:xd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xd(t.namespace)}`}),!0}catch(e){if(e instanceof Dc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Dc&&r.status===409)return;throw r}}};function el(t){return t.join("")}var NA=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${el(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Dc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Dc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},RA=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=_A({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new TA(this.client,e),this.tableOps=new NA(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},rf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var OA=class extends rf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$0=class extends rf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const L1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IA=()=>Response,Q0=t=>{if(Array.isArray(t))return t.map(r=>Q0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,o])=>{const u=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));e[u]=Q0(o)}),e},DA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function kA(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(Mc(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LA(t){var e=kA(t,"string");return Mc(e)=="symbol"?e:e+""}function jA(t,e,r){return(e=LA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,o)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(r),!0).forEach(function(o){jA(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}const C0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},BA=async(t,e,r)=>{t instanceof await IA()&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const u=t.status||500,d=(o==null?void 0:o.statusCode)||u+"";e(new OA(C0(o),u,d))}).catch(o=>{e(new $0(C0(o),o))}):e(new $0(C0(t),t))},PA=(t,e,r,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?u:(DA(o)?(u.headers=at({"Content-Type":"application/json"},e==null?void 0:e.headers),u.body=JSON.stringify(o)):u.body=o,e!=null&&e.duplex&&(u.duplex=e.duplex),at(at({},u),r))};async function Yc(t,e,r,o,u,d){return new Promise((p,b)=>{t(r,PA(e,o,u,d)).then(w=>{if(!w.ok)throw w;return o!=null&&o.noResolveJson?w:w.json()}).then(w=>p(w)).catch(w=>BA(w,b,o))})}async function kc(t,e,r,o){return Yc(t,"GET",e,r,o)}async function Da(t,e,r,o,u){return Yc(t,"POST",e,o,u,r)}async function J0(t,e,r,o,u){return Yc(t,"PUT",e,o,u,r)}async function UA(t,e,r,o){return Yc(t,"HEAD",e,at(at({},r),{},{noResolveJson:!0}),o)}async function j1(t,e,r,o,u){return Yc(t,"DELETE",e,o,u,r)}var FA=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Sn(e))return{data:null,error:e};throw e}}};let D2;D2=Symbol.toStringTag;var zA=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[D2]="BlobDownloadBuilder",this.promise=null}asStream(){return new FA(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Sn(e))return{data:null,error:e};throw e}}};const HA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ux={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var VA=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=L1(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,o){var u=this;try{let d;const p=at(at({},Ux),o);let b=at(at({},u.headers),t==="POST"&&{"x-upsert":String(p.upsert)});const w=p.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),w&&d.append("metadata",u.encodeMetadata(w)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",p.cacheControl),w&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(w))):(d=r,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType,w&&(b["x-metadata"]=u.toBase64(u.encodeMetadata(w))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!p.duplex&&(p.duplex="half")),o!=null&&o.headers&&(b=at(at({},b),o.headers));const x=u._removeEmptyFolders(e),_=u._getFinalPath(x),C=await(t=="PUT"?J0:Da)(u.fetch,`${u.url}/object/${_}`,d,at({headers:b},p!=null&&p.duplex?{duplex:p.duplex}:{}));return{data:{path:x,id:C.Id,fullPath:C.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Sn(d))return{data:null,error:d};throw d}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,o){var u=this;const d=u._removeEmptyFolders(t),p=u._getFinalPath(d),b=new URL(u.url+`/object/upload/sign/${p}`);b.searchParams.set("token",e);try{let w;const x=at({upsert:Ux.upsert},o),_=at(at({},u.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&r instanceof Blob?(w=new FormData,w.append("cacheControl",x.cacheControl),w.append("",r)):typeof FormData<"u"&&r instanceof FormData?(w=r,w.append("cacheControl",x.cacheControl)):(w=r,_["cache-control"]=`max-age=${x.cacheControl}`,_["content-type"]=x.contentType),{data:{path:d,fullPath:(await J0(u.fetch,b.toString(),w,{headers:_})).Key},error:null}}catch(w){if(u.shouldThrowOnError)throw w;if(Sn(w))return{data:null,error:w};throw w}}async createSignedUploadUrl(t,e){var r=this;try{let o=r._getFinalPath(t);const u=at({},r.headers);e!=null&&e.upsert&&(u["x-upsert"]="true");const d=await Da(r.fetch,`${r.url}/object/upload/sign/${o}`,{},{headers:u}),p=new URL(r.url+d.url),b=p.searchParams.get("token");if(!b)throw new rf("No token returned by API");return{data:{signedUrl:p.toString(),path:t,token:b},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Sn(o))return{data:null,error:o};throw o}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var o=this;try{return{data:await Da(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Sn(u))return{data:null,error:u};throw u}}async copy(t,e,r){var o=this;try{return{data:{path:(await Da(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:o.headers})).Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Sn(u))return{data:null,error:u};throw u}}async createSignedUrl(t,e,r){var o=this;try{let u=o._getFinalPath(t),d=await Da(o.fetch,`${o.url}/object/sign/${u}`,at({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:o.headers});const p=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${o.url}${d.signedURL}${p}`)},{data:d,error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Sn(u))return{data:null,error:u};throw u}}async createSignedUrls(t,e,r){var o=this;try{const u=await Da(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(p=>at(at({},p),{},{signedUrl:p.signedURL?encodeURI(`${o.url}${p.signedURL}${d}`):null})),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Sn(u))return{data:null,error:u};throw u}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),u=o?`?${o}`:"",d=this._getFinalPath(t),p=()=>kc(this.fetch,`${this.url}/${r}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new zA(p,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Q0(await kc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Sn(o))return{data:null,error:o};throw o}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await UA(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Sn(o)&&o instanceof $0){const u=o.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const r=this._getFinalPath(t),o=[],u=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";u!==""&&o.push(u);const d=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});p!==""&&o.push(p);let b=o.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${b}`)}}}async remove(t){var e=this;try{return{data:await j1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async list(t,e,r){var o=this;try{const u=at(at(at({},HA),e),{},{prefix:t||""});return{data:await Da(o.fetch,`${o.url}/object/list/${o.bucketId}`,u,{headers:o.headers},r),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Sn(u))return{data:null,error:u};throw u}}async listV2(t,e){var r=this;try{const o=at({},t);return{data:await Da(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,o,{headers:r.headers},e),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Sn(o))return{data:null,error:o};throw o}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const M2="2.90.1",k2={"X-Client-Info":`storage-js/${M2}`};var GA=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1;const u=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=at(at({},k2),e),this.fetch=L1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await kc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await kc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Da(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Sn(o))return{data:null,error:o};throw o}}async updateBucket(t,e){var r=this;try{return{data:await J0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Sn(o))return{data:null,error:o};throw o}}async emptyBucket(t){var e=this;try{return{data:await Da(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await j1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},YA=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=at(at({},k2),e),this.fetch=L1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Da(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const o=r.toString(),u=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await kc(e.fetch,u,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await j1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!MA(t))throw new rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new RA({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(u,d){const p=u[d];return typeof p!="function"?p:async(...b)=>{try{return{data:await p.apply(u,b),error:null}}catch(w){if(o)throw w;return{data:null,error:w}}}}})}};const B1={"X-Client-Info":`storage-js/${M2}`,"Content-Type":"application/json"};var L2=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function na(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var _0=class extends L2{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qA=class extends L2{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const P1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WA=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t.status||500,u=t;if(typeof u.json=="function")u.json().then(d=>{const p=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||o+"";e(new _0(Fx(d),o,p))}).catch(()=>{const d=o+"";e(new _0(u.statusText||`HTTP ${o} error`,o,d))});else{const d=o+"";e(new _0(u.statusText||`HTTP ${o} error`,o,d))}}else e(new qA(Fx(t),t))},KA=(t,e,r,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return o?(XA(o)?(u.headers=at({"Content-Type":"application/json"},e==null?void 0:e.headers),u.body=JSON.stringify(o)):u.body=o,at(at({},u),r)):u};async function ZA(t,e,r,o,u,d){return new Promise((p,b)=>{t(r,KA(e,o,u,d)).then(w=>{if(!w.ok)throw w;if(o!=null&&o.noResolveJson)return w;const x=w.headers.get("content-type");return!x||!x.includes("application/json")?{}:w.json()}).then(w=>p(w)).catch(w=>WA(w,b,o))})}async function ra(t,e,r,o,u){return ZA(t,"POST",e,o,u,r)}var $A=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=at(at({},B1),e),this.fetch=P1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await ra(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(na(o))return{data:null,error:o};throw o}}async listIndexes(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await ra(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(na(o))return{data:null,error:o};throw o}}},QA=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=at(at({},B1),e),this.fetch=P1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ra(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ra(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ra(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}},JA=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=at(at({},B1),e),this.fetch=P1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await ra(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ra(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(na(r))return{data:null,error:r};throw r}}},eC=class extends JA{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new tC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},tC=class extends $A{constructor(t,e,r,o){super(t,e,o),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new nC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nC=class extends QA{constructor(t,e,r,o,u){super(t,e,u),this.vectorBucketName=r,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,at(at({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rC=class extends GA{constructor(t,e={},r,o){super(t,e,r,o)}from(t){return new VA(this.url,this.headers,t,this.fetch)}get vectors(){return new eC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YA(this.url+"/iceberg",this.headers,this.fetch)}};const j2="2.90.1",fl=30*1e3,e1=3,T0=e1*fl,aC="http://localhost:9999",iC="supabase.auth.token",sC={"X-Client-Info":`gotrue-js/${j2}`},t1="X-Supabase-Api-Version",B2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lC=600*1e3;class Lc extends Error{constructor(e,r,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cC extends Lc{constructor(e,r,o){super(e,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function uC(t){return Xe(t)&&t.name==="AuthApiError"}class co extends Lc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bi extends Lc{constructor(e,r,o,u){super(e,o,u),this.name=r,this.status=o}}class Qr extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dC(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class tl extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yd extends Bi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bd extends Bi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fC(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class zx extends Bi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hC extends Bi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class n1 extends Bi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function N0(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class Hx extends Bi{constructor(e,r,o){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class r1 extends Bi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vx=` 	
\r=`.split(""),gC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vx.length;e+=1)t[Vx[e].charCodeAt(0)]=-2;for(let e=0;e<jd.length;e+=1)t[jd[e].charCodeAt(0)]=e;return t})();function Gx(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(jd[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(jd[o]),e.queuedBits-=6}}function P2(t,e,r){const o=gC[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yx(t){const e=[],r=p=>{e.push(String.fromCodePoint(p))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=p=>{xC(p,o,r)};for(let p=0;p<t.length;p+=1)P2(t.charCodeAt(p),u,d);return e.join("")}function mC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pC(t,e){for(let r=0;r<t.length;r+=1){let o=t.charCodeAt(r);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(t.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}mC(o,e)}}function xC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xl(t){const e=[],r={queue:0,queuedBits:0},o=u=>{e.push(u)};for(let u=0;u<t.length;u+=1)P2(t.charCodeAt(u),r,o);return new Uint8Array(e)}function yC(t){const e=[];return pC(t,r=>e.push(r)),new Uint8Array(e)}function uo(t){const e=[],r={queue:0,queuedBits:0},o=u=>{e.push(u)};return t.forEach(u=>Gx(u,r,o)),Gx(null,r,o),e.join("")}function bC(t){return Math.round(Date.now()/1e3)+t}function wC(){return Symbol("auth-callback")}const gr=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},U2=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function vC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,d)=>{e[d]=u})}catch{}return r.searchParams.forEach((o,u)=>{e[u]=o}),e}const F2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},io=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hr=async(t,e)=>{await t.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}af.promiseConstructor=Promise;function R0(t){const e=t.split(".");if(e.length!==3)throw new r1("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!oC.test(e[o]))throw new r1("JWT not in base64url format");return{header:JSON.parse(Yx(e[0])),payload:JSON.parse(Yx(e[1])),signature:xl(e[2]),raw:{header:e[0],payload:e[1]}}}async function SC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AC(t,e){return new Promise((o,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const p=await t(d);if(!e(d,null,p)){o(p);return}}catch(p){if(!e(d,p)){u(p);return}}})()})}function CC(t){return("0"+t.toString(16)).substr(-2)}function _C(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let u="";for(let d=0;d<56;d++)u+=r.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(e),Array.from(e,CC).join("")}async function TC(t){const r=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(o);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function NC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await TC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(t,e,r=!1){const o=_C();let u=o;r&&(u+="/PASSWORD_RECOVERY"),await hl(t,`${e}-code-verifier`,u);const d=await NC(o);return[d,o===d?"plain":"s256"]}const RC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OC(t){const e=t.headers.get(t1);if(!e||!e.match(RC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(t){if(!MC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function O0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kC(t,e){return new Proxy(t,{get:(r,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,u)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,o,u)}})}function qx(t){return JSON.parse(JSON.stringify(t))}const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LC=[502,503,504];async function Xx(t){var e;if(!EC(t))throw new n1(oo(t),0);if(LC.includes(t.status))throw new n1(oo(t),t.status);let r;try{r=await t.json()}catch(d){throw new co(oo(d),d)}let o;const u=OC(t);if(u&&u.getTime()>=B2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new Hx(oo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,p)=>d&&typeof p=="string",!0))throw new Hx(oo(r),t.status,r.weak_password.reasons);throw new cC(oo(r),t.status||500,o)}const jC=(t,e,r,o)=>{const u={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),r))};async function rt(t,e,r,o){var u;const d=Object.assign({},o==null?void 0:o.headers);d[t1]||(d[t1]=B2["2024-01-01"].name),o!=null&&o.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const p=(u=o==null?void 0:o.query)!==null&&u!==void 0?u:{};o!=null&&o.redirectTo&&(p.redirect_to=o.redirectTo);const b=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",w=await BC(t,e,r+b,{headers:d,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(w):{data:Object.assign({},w),error:null}}async function BC(t,e,r,o,u,d){const p=jC(e,o,u,d);let b;try{b=await t(r,Object.assign({},p))}catch(w){throw console.error(w),new n1(oo(w),0)}if(b.ok||await Xx(b),o!=null&&o.noResolveJson)return b;try{return await b.json()}catch(w){await Xx(w)}}function Oa(t){var e;let r=null;FC(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bC(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:o},error:null}}function Wx(t){const e=Oa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _s(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PC(t){return{data:t,error:null}}function UC(t){const{action_link:e,email_otp:r,hashed_token:o,redirect_to:u,verification_type:d}=t,p=_l(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:e,email_otp:r,hashed_token:o,redirect_to:u,verification_type:d},w=Object.assign({},p);return{data:{properties:b,user:w},error:null}}function Kx(t){return t}function FC(t){return t.access_token&&t.refresh_token&&t.expires_in}const I0=["global","local","others"];class zC{constructor({url:e="",headers:r={},fetch:o}){this.url=e,this.headers=r,this.fetch=F2(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=I0[0]){if(I0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${I0.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Xe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_s})}catch(o){if(Xe(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:r}=e,o=_l(e,["options"]),u=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(u.new_email=o==null?void 0:o.newEmail,delete u.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:UC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_s})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,o,u,d,p,b,w;try{const x={nextPage:null,lastPage:0,total:0},_=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=e==null?void 0:e.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Kx});if(_.error)throw _.error;const C=await _.json(),D=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,M=(w=(b=_.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&w!==void 0?w:[];return M.length>0&&(M.forEach(P=>{const I=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(P.split(";")[1].split("=")[1]);x[`${B}Page`]=I}),x.total=parseInt(D)),{data:Object.assign(Object.assign({},C),x),error:null}}catch(x){if(Xe(x))return{data:{users:[]},error:x};throw x}}async getUserById(e){rl(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_s})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rl(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_s})}catch(o){if(Xe(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,r=!1){rl(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_s})}catch(o){if(Xe(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){rl(e.userId);try{const{data:r,error:o}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:o}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rl(e.userId),rl(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,o,u,d,p,b,w;try{const x={nextPage:null,lastPage:0,total:0},_=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=e==null?void 0:e.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Kx});if(_.error)throw _.error;const C=await _.json(),D=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,M=(w=(b=_.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&w!==void 0?w:[];return M.length>0&&(M.forEach(P=>{const I=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(P.split(";")[1].split("=")[1]);x[`${B}Page`]=I}),x.total=parseInt(D)),{data:Object.assign(Object.assign({},C),x),error:null}}catch(x){if(Xe(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Xe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}function Zx(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const al={debug:!!(globalThis&&U2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HC extends z2{}async function VC(t,e,r){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),al.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,u.name);try{return await r()}finally{al.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,u.name)}}else{if(e===0)throw al.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(al.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function GC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function H2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function YC(t){return parseInt(t,16)}function qC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function XC(t){var e;const{chainId:r,domain:o,expirationTime:u,issuedAt:d=new Date,nonce:p,notBefore:b,requestId:w,resources:x,scheme:_,uri:C,version:D}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!C)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(D!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${D}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const M=H2(t.address),P=_?`${_}://${o}`:o,I=t.statement?`${t.statement}
`:"",B=`${P} wants you to sign in with your Ethereum account:
${M}

${I}`;let j=`URI: ${C}
Version: ${D}
Chain ID: ${r}${p?`
Nonce: ${p}`:""}
Issued At: ${d.toISOString()}`;if(u&&(j+=`
Expiration Time: ${u.toISOString()}`),b&&(j+=`
Not Before: ${b.toISOString()}`),w&&(j+=`
Request ID: ${w}`),x){let H=`
Resources:`;for(const F of x){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);H+=`
- ${F}`}j+=H}return`${B}
${j}`}class Wn extends Error{constructor({message:e,code:r,cause:o,name:u}){var d;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(d=u??(o instanceof Error?o.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Bd extends Wn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function WC({error:t,options:e}){var r,o,u;const{publicKey:d}=e;if(!d)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Wn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Wn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Wn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Wn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return d.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new Wn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Wn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const p=window.location.hostname;if(V2(p)){if(d.rp.id!==p)return new Wn({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Wn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Wn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KC({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Wn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(V2(o)){if(r.rpId!==o)return new Wn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Wn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ZC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $C=new ZC;function QC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:o}=t,u=_l(t,["challenge","user","excludeCredentials"]),d=xl(e).buffer,p=Object.assign(Object.assign({},r),{id:xl(r.id).buffer}),b=Object.assign(Object.assign({},u),{challenge:d,user:p});if(o&&o.length>0){b.excludeCredentials=new Array(o.length);for(let w=0;w<o.length;w++){const x=o[w];b.excludeCredentials[w]=Object.assign(Object.assign({},x),{id:xl(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return b}function JC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,o=_l(t,["challenge","allowCredentials"]),u=xl(e).buffer,d=Object.assign(Object.assign({},o),{challenge:u});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const b=r[p];d.allowCredentials[p]=Object.assign(Object.assign({},b),{id:xl(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return d}function e_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:uo(new Uint8Array(t.response.attestationObject)),clientDataJSON:uo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,o=t.getClientExtensionResults(),u=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uo(new Uint8Array(u.authenticatorData)),clientDataJSON:uo(new Uint8Array(u.clientDataJSON)),signature:uo(new Uint8Array(u.signature)),userHandle:u.userHandle?uo(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $x(){var t,e;return!!(gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function n_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bd("Browser returned unexpected credential type",e)}:{data:null,error:new Bd("Empty credential response",e)}}catch(e){return{data:null,error:WC({error:e,options:t})}}}async function r_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bd("Browser returned unexpected credential type",e)}:{data:null,error:new Bd("Empty credential response",e)}}catch(e){return{data:null,error:KC({error:e,options:t})}}}const a_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},i_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pd(...t){const e=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of t)if(u)for(const d in u){const p=u[d];if(p!==void 0)if(Array.isArray(p))o[d]=p;else if(r(p))o[d]=p;else if(e(p)){const b=o[d];e(b)?o[d]=Pd(b,p):o[d]=Pd(p)}else o[d]=p}return o}function s_(t,e){return Pd(a_,t,e||{})}function o_(t,e){return Pd(i_,t,e||{})}class l_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:o,signal:u},d){try{const{data:p,error:b}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!p)return{data:null,error:b};const w=u??$C.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:x}=p.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${o}`),x.displayName||(x.displayName=x.name)}switch(p.webauthn.type){case"create":{const x=s_(p.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:_,error:C}=await n_({publicKey:x,signal:w});return _?{data:{factorId:e,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:C}}case"request":{const x=o_(p.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:_,error:C}=await r_(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:x,signal:w}));return _?{data:{factorId:e,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:C}}}}catch(p){return Xe(p)?{data:null,error:p}:{data:null,error:new co("Unexpected error in challenge",p)}}}async _verify({challengeId:e,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new Lc("rpId is required for WebAuthn authentication")};try{if(!$x())return{data:null,error:new co("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:o},signal:u},{request:d});if(!p)return{data:null,error:b};const{webauthn:w}=p;return this._verify({factorId:e,challengeId:p.challengeId,webauthn:{type:w.type,rpId:r,rpOrigins:o,credential_response:w.credential_response}})}catch(p){return Xe(p)?{data:null,error:p}:{data:null,error:new co("Unexpected error in authenticate",p)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!r)return{data:null,error:new Lc("rpId is required for WebAuthn registration")};try{if(!$x())return{data:null,error:new co("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this._enroll({friendlyName:e});if(!p)return await this.client.mfa.listFactors().then(_=>{var C;return(C=_.data)===null||C===void 0?void 0:C.all.find(D=>D.factor_type==="webauthn"&&D.friendly_name===e&&D.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:b};const{data:w,error:x}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:u},{create:d});return w?this._verify({factorId:p.id,challengeId:w.challengeId,webauthn:{rpId:r,rpOrigins:o,type:w.webauthn.type,credential_response:w.webauthn.credential_response}}):{data:null,error:x}}catch(p){return Xe(p)?{data:null,error:p}:{data:null,error:new co("Unexpected error in register",p)}}}}GC();const c_={url:aC,storageKey:iC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Qx(t,e,r){return await r()}const il={};class jc{get jwks(){var e,r;return(r=(e=il[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=il[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){il[this.storageKey]=Object.assign(Object.assign({},il[this.storageKey]),{cachedAt:e})}constructor(e){var r,o,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},c_),e);if(this.storageKey=d.storageKey,this.instanceID=(r=jc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&gr()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new zC({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=F2(d.fetch),this.lock=d.lock||Qx,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&gr()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=VC:this.lock=Qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:U2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zx(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Zx(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${j2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},o="none";if(gr()&&(r=vC(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),gr()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:d}=await this._getSessionFromURL(r,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),fC(d)){const w=(e=d.details)===null||e===void 0?void 0:e.code;if(w==="identity_already_exists"||w==="identity_not_found"||w==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:p,redirectType:b}=u;return this._debug("#_initialize()","detected session in URL",p,"redirect type",b),await this._saveSession(p),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xe(r)?this._returnResult({error:r}):this._returnResult({error:new co("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,o,u;try{const d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=e==null?void 0:e.options)===null||u===void 0?void 0:u.captchaToken}},xform:Oa}),{data:p,error:b}=d;if(b||!p)return this._returnResult({data:{user:null,session:null},error:b});const w=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(d){if(Xe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(e){var r,o,u;try{let d;if("email"in e){const{email:_,password:C,options:D}=e;let M=null,P=null;this.flowType==="pkce"&&([M,P]=await nl(this.storage,this.storageKey)),d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:D==null?void 0:D.emailRedirectTo,body:{email:_,password:C,data:(r=D==null?void 0:D.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:D==null?void 0:D.captchaToken},code_challenge:M,code_challenge_method:P},xform:Oa})}else if("phone"in e){const{phone:_,password:C,options:D}=e;d=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:C,data:(o=D==null?void 0:D.data)!==null&&o!==void 0?o:{},channel:(u=D==null?void 0:D.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:D==null?void 0:D.captchaToken}},xform:Oa})}else throw new yd("You must provide either an email or phone number and a password");const{data:p,error:b}=d;if(b||!p)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const w=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(d){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(e){try{let r;if("email"in e){const{email:d,password:p,options:b}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:p,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Wx})}else if("phone"in e){const{phone:d,password:p,options:b}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:p,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Wx})}else throw new yd("You must provide either an email or phone number and a password");const{data:o,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new tl;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,o,u,d;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=e.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,o,u,d,p,b,w,x,_,C,D;let M,P;if("message"in e)M=e.message,P=e.signature;else{const{chain:I,wallet:B,statement:j,options:H}=e;let F;if(gr())if(typeof B=="object")F=B;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")F=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=B}const Q=new URL((r=H==null?void 0:H.url)!==null&&r!==void 0?r:window.location.href),ce=await F.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=H2(ce[0]);let Y=(o=H==null?void 0:H.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Y){const ne=await F.request({method:"eth_chainId"});Y=YC(ne)}const X={domain:Q.host,address:se,statement:j,uri:Q.href,version:"1",chainId:Y,nonce:(u=H==null?void 0:H.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(p=(d=H==null?void 0:H.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(b=H==null?void 0:H.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(w=H==null?void 0:H.signInWithEthereum)===null||w===void 0?void 0:w.notBefore,requestId:(x=H==null?void 0:H.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(_=H==null?void 0:H.signInWithEthereum)===null||_===void 0?void 0:_.resources};M=XC(X),P=await F.request({method:"personal_sign",params:[qC(M),se]})}try{const{data:I,error:B}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:M,signature:P},!((C=e.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(D=e.options)===null||D===void 0?void 0:D.captchaToken}}:null),xform:Oa});if(B)throw B;if(!I||!I.session||!I.user){const j=new tl;return this._returnResult({data:{user:null,session:null},error:j})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:B})}catch(I){if(Xe(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async signInWithSolana(e){var r,o,u,d,p,b,w,x,_,C,D,M;let P,I;if("message"in e)P=e.message,I=e.signature;else{const{chain:B,wallet:j,statement:H,options:F}=e;let Q;if(gr())if(typeof j=="object")Q=j;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))Q=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=j}const ce=new URL((r=F==null?void 0:F.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const se=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F==null?void 0:F.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),H?{statement:H}:null));let Y;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")Y=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)Y=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)P=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),I=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ce.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(u=(o=F==null?void 0:F.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=F==null?void 0:F.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((p=F==null?void 0:F.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((b=F==null?void 0:F.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((w=F==null?void 0:F.signInWithSolana)===null||w===void 0)&&w.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((x=F==null?void 0:F.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((C=(_=F==null?void 0:F.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||C===void 0)&&C.length?["Resources",...F.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const se=await Q.signMessage(new TextEncoder().encode(P),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=se}}try{const{data:B,error:j}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:uo(I)},!((D=e.options)===null||D===void 0)&&D.captchaToken?{gotrue_meta_security:{captcha_token:(M=e.options)===null||M===void 0?void 0:M.captchaToken}}:null),xform:Oa});if(j)throw j;if(!B||!B.session||!B.user){const H=new tl;return this._returnResult({data:{user:null,session:null},error:H})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:j})}catch(B){if(Xe(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(e){const r=await io(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new hC;const{data:d,error:p}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Oa});if(await hr(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!d||!d.session||!d.user){const b=new tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:p})}catch(d){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(e){try{const{options:r,provider:o,token:u,access_token:d,nonce:p}=e,b=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:d,nonce:p,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Oa}),{data:w,error:x}=b;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!w||!w.session||!w.user){const _=new tl;return this._returnResult({data:{user:null,session:null},error:_})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:w,error:x})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,o,u,d,p;try{if("email"in e){const{email:b,options:w}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await nl(this.storage,this.storageKey));const{error:C}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},create_user:(o=w==null?void 0:w.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:_},redirectTo:w==null?void 0:w.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:C})}if("phone"in e){const{phone:b,options:w}=e,{data:x,error:_}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(u=w==null?void 0:w.data)!==null&&u!==void 0?u:{},create_user:(d=w==null?void 0:w.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},channel:(p=w==null?void 0:w.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:_})}throw new yd("You must provide either an email or phone number.")}catch(b){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(e){var r,o;try{let u,d;"options"in e&&(u=(r=e.options)===null||r===void 0?void 0:r.redirectTo,d=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:p,error:b}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Oa});if(b)throw b;if(!p)throw new Error("An error occurred on token verification.");const w=p.session,x=p.user;return w!=null&&w.access_token&&(await this._saveSession(w),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",w)),this._returnResult({data:{user:x,session:w},error:null})}catch(u){if(Xe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(e){var r,o,u,d,p;try{let b=null,w=null;this.flowType==="pkce"&&([b,w]=await nl(this.storage,this.storageKey));const x=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=e==null?void 0:e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:w}),headers:this.headers,xform:PC});return!((d=x.data)===null||d===void 0)&&d.url&&gr()&&!(!((p=e.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(b){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new Qr;const{error:u}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(e){if(Xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:o,type:u,options:d}=e,{error:p}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in e){const{phone:o,type:u,options:d}=e,{data:p,error:b}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new yd("You must provide either an email or phone number and a type")}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await io(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<T0:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const p=await io(this.userStorage,this.storageKey+"-user");p!=null&&p.user?e.user=p.user:e.user=O0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};e.user=kC(e.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_s}):await this._useSession(async r=>{var o,u,d;const{data:p,error:b}=r;if(b)throw b;return!(!((o=p.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:_s})})}catch(r){if(Xe(r))return dC(r)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async o=>{const{data:u,error:d}=o;if(d)throw d;if(!u.session)throw new Qr;const p=u.session;let b=null,w=null;this.flowType==="pkce"&&e.email!=null&&([b,w]=await nl(this.storage,this.storageKey));const{data:x,error:_}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:b,code_challenge_method:w}),jwt:p.access_token,xform:_s});if(_)throw _;return p.user=x.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(o){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qr;const r=Date.now()/1e3;let o=r,u=!0,d=null;const{payload:p}=R0(e.access_token);if(p.exp&&(o=p.exp,u=o<=r),u){const{data:b,error:w}=await this._callRefreshToken(e.refresh_token);if(w)return this._returnResult({data:{user:null,session:null},error:w});if(!b)return{data:{user:null,session:null},error:null};d=b}else{const{data:b,error:w}=await this._getUser(e.access_token);if(w)throw w;d={access_token:e.access_token,refresh_token:e.refresh_token,user:b.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var o;if(!e){const{data:p,error:b}=r;if(b)throw b;e=(o=p.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Qr;const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!gr())throw new bd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zx("No code detected.");const{data:H,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:d,refresh_token:p,expires_in:b,expires_at:w,token_type:x}=e;if(!d||!b||!p||!x)throw new bd("No session defined in URL");const _=Math.round(Date.now()/1e3),C=parseInt(b);let D=_+C;w&&(D=parseInt(w));const M=D-_;M*1e3<=fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${M}s, should have been closer to ${C}s`);const P=D-C;_-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,D,_):_-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,D,_);const{data:I,error:B}=await this._getUser(d);if(B)throw B;const j={provider_token:o,provider_refresh_token:u,access_token:d,expires_in:C,expires_at:D,refresh_token:p,token_type:x,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(o){if(Xe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await io(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:u,error:d}=r;if(d)return this._returnResult({error:d});const p=(o=u.session)===null||o===void 0?void 0:o.access_token;if(p){const{error:b}=await this.admin.signOut(p,e);if(b&&!(uC(b)&&(b.status===404||b.status===401||b.status===403)))return this._returnResult({error:b})}return e!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=wC(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async r=>{var o,u;try{const{data:{session:d},error:p}=r;if(p)throw p;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",e,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(e))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",d),console.error(d)}})}async resetPasswordForEmail(e,r={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await nl(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var e;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:o,error:u}=await this._useSession(async d=>{var p,b,w,x,_;const{data:C,error:D}=d;if(D)throw D;const M=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(p=e.options)===null||p===void 0?void 0:p.redirectTo,scopes:(b=e.options)===null||b===void 0?void 0:b.scopes,queryParams:(w=e.options)===null||w===void 0?void 0:w.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",M,{headers:this.headers,jwt:(_=(x=C.session)===null||x===void 0?void 0:x.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return gr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Xe(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var o;try{const{error:u,data:{session:d}}=r;if(u)throw u;const{options:p,provider:b,token:w,access_token:x,nonce:_}=e,C=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=d==null?void 0:d.access_token)!==null&&o!==void 0?o:void 0,body:{provider:b,id_token:w,access_token:x,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Oa}),{data:D,error:M}=C;return M?this._returnResult({data:{user:null,session:null},error:M}):!D||!D.session||!D.user?this._returnResult({data:{user:null,session:null},error:new tl}):(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("USER_UPDATED",D.session)),this._returnResult({data:D,error:M}))}catch(u){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Xe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var o,u;const{data:d,error:p}=r;if(p)throw p;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await AC(async u=>(u>0&&await SC(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oa})),(u,d)=>{const p=200*Math.pow(2,u);return d&&N0(d)&&Date.now()+p-o<fl})}catch(o){if(this._debug(r,"error",o),Xe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),gr()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await io(this.storage,this.storageKey);if(u&&this.userStorage){let p=await io(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:u.user},await hl(this.userStorage,this.storageKey+"-user",p)),u.user=(e=p==null?void 0:p.user)!==null&&e!==void 0?e:O0()}else if(u&&!u.user&&!u.user){const p=await io(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(u.user=p.user,await hr(this.storage,this.storageKey+"-user"),await hl(this.storage,this.storageKey,u)):u.user=O0()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const d=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<T0;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${T0}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:p}=await this._callRefreshToken(u.refresh_token);p&&(console.error(p),N0(p)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:b}=await this._getUser(u.access_token);!b&&(p!=null&&p.user)?(u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(o,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var r,o;if(!e)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new af;const{data:d,error:p}=await this._refreshAccessToken(e);if(p)throw p;if(!d.session)throw new Qr;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const b={data:d.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(d){if(this._debug(u,"error",d),Xe(d)){const p={data:null,error:d};return N0(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(p),p}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(e,r,o=!0){const u=`#_notifyAllSubscribers(${e})`;this._debug(u,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});const d=[],p=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(e,r)}catch(w){d.push(w)}});if(await Promise.all(p),d.length>0){for(let b=0;b<d.length;b+=1)console.error(d[b]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await hl(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const d=qx(u);await hl(this.storage,this.storageKey,d)}else{const u=qx(r);await hl(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-e)/fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${fl}ms, refresh threshold is ${e1} ticks`),u<=e1&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof z2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,o){const u=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,p]=await nl(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(p)}`});u.push(b.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);u.push(d.toString())}return o!=null&&o.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${u.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var o;const{data:u,error:d}=r;return d?this._returnResult({data:null,error:d}):await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var o,u;const{data:d,error:p}=r;if(p)return this._returnResult({data:null,error:p});const b=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:w,error:x}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return x?this._returnResult({data:null,error:x}):(e.factorType==="totp"&&w.type==="totp"&&(!((u=w==null?void 0:w.totp)===null||u===void 0)&&u.qr_code)&&(w.totp.qr_code=`data:image/svg+xml;utf-8,${w.totp.qr_code}`),this._returnResult({data:w,error:null}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?e_(e.webauthn.credential_response):t_(e.webauthn.credential_response)})}:{code:e.code}),{data:b,error:w}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:p,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return w?this._returnResult({data:null,error:w}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:w}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const p=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});if(p.error)return p;const{data:b}=p;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:QC(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:JC(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=R0(o.access_token);let p=null;d.aal&&(p=d.aal);let b=p;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const x=d.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;return u?this._returnResult({data:null,error:u}):o?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Qr});const p=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(Xe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Qr});const p=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(Xe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(e){if(Xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:o},error:u}=r;return u?this._returnResult({data:null,error:u}):o?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qr})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let o=r.keys.find(b=>b.kid===e);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(b=>b.kid===e),o&&this.jwks_cached_at+lC>u)return o;const{data:d,error:p}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,o=d.keys.find(b=>b.kid===e),!o)?null:o}async getClaims(e,r={}){try{let o=e;if(!o){const{data:M,error:P}=await this.getSession();if(P||!M.session)return this._returnResult({data:null,error:P});o=M.session.access_token}const{header:u,payload:d,signature:p,raw:{header:b,payload:w}}=R0(o);r!=null&&r.allowExpired||IC(d.exp);const x=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:M}=await this.getUser(o);if(M)throw M;return{data:{claims:d,header:u,signature:p},error:null}}const _=DC(u.alg),C=await crypto.subtle.importKey("jwk",x,_,!0,["verify"]);if(!await crypto.subtle.verify(_,C,p,yC(`${b}.${w}`)))throw new r1("Invalid JWT signature");return{data:{claims:d,header:u,signature:p},error:null}}catch(o){if(Xe(o))return this._returnResult({data:null,error:o});throw o}}}jc.nextInstanceID={};const u_=jc,d_="2.90.1";let _c="";typeof Deno<"u"?_c="deno":typeof document<"u"?_c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_c="react-native":_c="node";const f_={"X-Client-Info":`supabase-js-${_c}/${d_}`},h_={headers:f_},g_={schema:"public"},m_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function x_(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(Bc(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y_(t){var e=x_(t,"string");return Bc(e)=="symbol"?e:e+""}function b_(t,e,r){return(e=y_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,o)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jx(Object(r),!0).forEach(function(o){b_(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jx(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}const w_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),v_=()=>Headers,E_=(t,e,r)=>{const o=w_(r),u=v_();return async(d,p)=>{var b;const w=(b=await e())!==null&&b!==void 0?b:t;let x=new u(p==null?void 0:p.headers);return x.has("apikey")||x.set("apikey",t),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),o(d,Mn(Mn({},p),{},{headers:x}))}};function S_(t){return t.endsWith("/")?t:t+"/"}function A_(t,e){var r,o;const{db:u,auth:d,realtime:p,global:b}=t,{db:w,auth:x,realtime:_,global:C}=e,D={db:Mn(Mn({},w),u),auth:Mn(Mn({},x),d),realtime:Mn(Mn({},_),p),storage:{},global:Mn(Mn(Mn({},C),b),{},{headers:Mn(Mn({},(r=C==null?void 0:C.headers)!==null&&r!==void 0?r:{}),(o=b==null?void 0:b.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return t.accessToken?D.accessToken=t.accessToken:delete D.accessToken,D}function C_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var __=class extends u_{constructor(t){super(t)}},T_=class{constructor(t,e,r){var o,u;this.supabaseUrl=t,this.supabaseKey=e;const d=C_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,b={db:g_,realtime:p_,auth:Mn(Mn({},m_),{},{storageKey:p}),global:h_},w=A_(r??{},b);if(this.storageKey=(o=w.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=w.global.headers)!==null&&u!==void 0?u:{},w.accessToken)this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(_,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=w.auth)!==null&&x!==void 0?x:{},this.headers,w.global.fetch)}this.fetch=E_(e,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Mn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new sA(new URL("rest/v1",d).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new rC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new tA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:o}=await t.auth.getSession();return(e=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:u,storageKey:d,flowType:p,lock:b,debug:w,throwOnError:x},_,C){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new __({url:this.authUrl.href,headers:Mn(Mn({},D),_),storageKey:d,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:u,flowType:p,lock:b,debug:w,throwOnError:x,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(M=>M.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new SA(this.realtimeUrl.href,Mn(Mn({},t),{},{params:Mn(Mn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const N_=(t,e,r)=>new T_(t,e,r);function R_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}R_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O_="https://xaajgmvwhvlzhwnylthk.supabase.co",I_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhhYWpnbXZ3aHZsemh3bnlsdGhrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc5MjcyMzcsImV4cCI6MjA4MzUwMzIzN30.eaVyl5y9pvR_OV8ZKTh51XHmq4zl30jLQ2NuWw52qVc",It=N_(O_,I_),D_={};var a1=null;function M_(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return D_.randomBytes(t)}catch{}if(!a1)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return a1(t)}function k_(t){a1=t}function U1(t,e){if(t=t||F1,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var r=[];return r.push("$2b$"),t<10&&r.push("0"),r.push(t.toString()),r.push("$"),r.push(Ud(M_(Pc),Pc)),r.join("")}function G2(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),typeof t>"u")t=F1;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function o(u){La(function(){try{u(null,U1(t))}catch(d){u(d)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(u,d){o(function(p,b){if(p){d(p);return}u(b)})})}function Y2(t,e){if(typeof e>"u"&&(e=F1),typeof e=="number"&&(e=U1(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return i1(t,e)}function q2(t,e,r,o){function u(d){typeof t=="string"&&typeof e=="number"?G2(e,function(p,b){i1(t,b,d,o)}):typeof t=="string"&&typeof e=="string"?i1(t,e,d,o):La(d.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);u(r)}else return new Promise(function(d,p){u(function(b,w){if(b){p(b);return}d(w)})})}function X2(t,e){for(var r=t.length^e.length,o=0;o<t.length;++o)r|=t.charCodeAt(o)^e.charCodeAt(o);return r===0}function L_(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:X2(Y2(t,e.substring(0,e.length-31)),e)}function j_(t,e,r,o){function u(d){if(typeof t!="string"||typeof e!="string"){La(d.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){La(d.bind(this,null,!1));return}q2(t,e.substring(0,29),function(p,b){p?d(p):d(null,X2(b,e))},o)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);u(r)}else return new Promise(function(d,p){u(function(b,w){if(b){p(b);return}d(w)})})}function B_(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function P_(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function U_(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return W2(t)>72}var La=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function W2(t){for(var e=0,r=0,o=0;o<t.length;++o)r=t.charCodeAt(o),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,e+=4):e+=3;return e}function F_(t){for(var e=0,r,o,u=new Array(W2(t)),d=0,p=t.length;d<p;++d)r=t.charCodeAt(d),r<128?u[e++]=r:r<2048?(u[e++]=r>>6|192,u[e++]=r&63|128):(r&64512)===55296&&((o=t.charCodeAt(d+1))&64512)===56320?(r=65536+((r&1023)<<10)+(o&1023),++d,u[e++]=r>>18|240,u[e++]=r>>12&63|128,u[e++]=r>>6&63|128,u[e++]=r&63|128):(u[e++]=r>>12|224,u[e++]=r>>6&63|128,u[e++]=r&63|128);return u}var sl="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ws=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ud(t,e){var r=0,o=[],u,d;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;r<e;){if(u=t[r++]&255,o.push(sl[u>>2&63]),u=(u&3)<<4,r>=e){o.push(sl[u&63]);break}if(d=t[r++]&255,u|=d>>4&15,o.push(sl[u&63]),u=(d&15)<<2,r>=e){o.push(sl[u&63]);break}d=t[r++]&255,u|=d>>6&3,o.push(sl[u&63]),o.push(sl[d&63])}return o.join("")}function K2(t,e){var r=0,o=t.length,u=0,d=[],p,b,w,x,_,C;if(e<=0)throw Error("Illegal len: "+e);for(;r<o-1&&u<e&&(C=t.charCodeAt(r++),p=C<ws.length?ws[C]:-1,C=t.charCodeAt(r++),b=C<ws.length?ws[C]:-1,!(p==-1||b==-1||(_=p<<2>>>0,_|=(b&48)>>4,d.push(String.fromCharCode(_)),++u>=e||r>=o)||(C=t.charCodeAt(r++),w=C<ws.length?ws[C]:-1,w==-1)||(_=(b&15)<<4>>>0,_|=(w&60)>>2,d.push(String.fromCharCode(_)),++u>=e||r>=o)));)C=t.charCodeAt(r++),x=C<ws.length?ws[C]:-1,_=(w&3)<<6>>>0,_|=x,d.push(String.fromCharCode(_)),++u;var D=[];for(r=0;r<u;r++)D.push(d[r].charCodeAt(0));return D}var Pc=16,F1=10,z_=16,H_=100,ey=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ty=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Z2=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Uc(t,e,r,o){var u,d=t[e],p=t[e+1];return d^=r[0],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[1],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[2],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[3],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[4],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[5],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[6],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[7],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[8],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[9],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[10],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[11],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[12],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[13],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[14],u=o[d>>>24],u+=o[256|d>>16&255],u^=o[512|d>>8&255],u+=o[768|d&255],p^=u^r[15],u=o[p>>>24],u+=o[256|p>>16&255],u^=o[512|p>>8&255],u+=o[768|p&255],d^=u^r[16],t[e]=p^r[z_+1],t[e+1]=d,t}function gl(t,e){for(var r=0,o=0;r<4;++r)o=o<<8|t[e]&255,e=(e+1)%t.length;return{key:o,offp:e}}function ny(t,e,r){for(var o=0,u=[0,0],d=e.length,p=r.length,b,w=0;w<d;w++)b=gl(t,o),o=b.offp,e[w]=e[w]^b.key;for(w=0;w<d;w+=2)u=Uc(u,0,e,r),e[w]=u[0],e[w+1]=u[1];for(w=0;w<p;w+=2)u=Uc(u,0,e,r),r[w]=u[0],r[w+1]=u[1]}function V_(t,e,r,o){for(var u=0,d=[0,0],p=r.length,b=o.length,w,x=0;x<p;x++)w=gl(e,u),u=w.offp,r[x]=r[x]^w.key;for(u=0,x=0;x<p;x+=2)w=gl(t,u),u=w.offp,d[0]^=w.key,w=gl(t,u),u=w.offp,d[1]^=w.key,d=Uc(d,0,r,o),r[x]=d[0],r[x+1]=d[1];for(x=0;x<b;x+=2)w=gl(t,u),u=w.offp,d[0]^=w.key,w=gl(t,u),u=w.offp,d[1]^=w.key,d=Uc(d,0,r,o),o[x]=d[0],o[x+1]=d[1]}function ry(t,e,r,o,u){var d=Z2.slice(),p=d.length,b;if(r<4||r>31)if(b=Error("Illegal number of rounds (4-31): "+r),o){La(o.bind(this,b));return}else throw b;if(e.length!==Pc)if(b=Error("Illegal salt length: "+e.length+" != "+Pc),o){La(o.bind(this,b));return}else throw b;r=1<<r>>>0;var w,x,_=0,C;typeof Int32Array=="function"?(w=new Int32Array(ey),x=new Int32Array(ty)):(w=ey.slice(),x=ty.slice()),V_(e,t,w,x);function D(){if(u&&u(_/r),_<r)for(var P=Date.now();_<r&&(_=_+1,ny(t,w,x),ny(e,w,x),!(Date.now()-P>H_)););else{for(_=0;_<64;_++)for(C=0;C<p>>1;C++)Uc(d,C<<1,w,x);var I=[];for(_=0;_<p;_++)I.push((d[_]>>24&255)>>>0),I.push((d[_]>>16&255)>>>0),I.push((d[_]>>8&255)>>>0),I.push((d[_]&255)>>>0);if(o){o(null,I);return}else return I}o&&La(D)}if(typeof o<"u")D();else for(var M;;)if(typeof(M=D())<"u")return M||[]}function i1(t,e,r,o){var u;if(typeof t!="string"||typeof e!="string")if(u=Error("Invalid string / salt: Not a string"),r){La(r.bind(this,u));return}else throw u;var d,p;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(u=Error("Invalid salt version: "+e.substring(0,2)),r){La(r.bind(this,u));return}else throw u;if(e.charAt(2)==="$")d="\0",p=3;else{if(d=e.charAt(2),d!=="a"&&d!=="b"&&d!=="y"||e.charAt(3)!=="$")if(u=Error("Invalid salt revision: "+e.substring(2,4)),r){La(r.bind(this,u));return}else throw u;p=4}if(e.charAt(p+2)>"$")if(u=Error("Missing salt rounds"),r){La(r.bind(this,u));return}else throw u;var b=parseInt(e.substring(p,p+1),10)*10,w=parseInt(e.substring(p+1,p+2),10),x=b+w,_=e.substring(p+3,p+25);t+=d>="a"?"\0":"";var C=F_(t),D=K2(_,Pc);function M(P){var I=[];return I.push("$2"),d>="a"&&I.push(d),I.push("$"),x<10&&I.push("0"),I.push(x.toString()),I.push("$"),I.push(Ud(D,D.length)),I.push(Ud(P,Z2.length*4-1)),I.join("")}if(typeof r>"u")return M(ry(C,D,x));ry(C,D,x,function(P,I){P?r(P,null):r(null,M(I))},o)}function G_(t,e){return Ud(t,e)}function Y_(t,e){return K2(t,e)}const z1={setRandomFallback:k_,genSaltSync:U1,genSalt:G2,hashSync:Y2,hash:q2,compareSync:L_,compare:j_,getRounds:B_,getSalt:P_,truncates:U_,encodeBase64:G_,decodeBase64:Y_},$2=N.createContext(null),Tl=()=>{const t=N.useContext($2);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},q_=({children:t})=>{const[e,r]=N.useState(null),[o,u]=N.useState(!0);N.useEffect(()=>{const b=localStorage.getItem("user");b&&r(JSON.parse(b)),u(!1)},[]);const d=async(b,w)=>{try{console.log("Attempting login for:",b);const{data:x,error:_}=await It.from("users").select("*").eq("email",b).eq("is_active",!0).maybeSingle();if(console.log("Supabase response:",{userData:x,error:_}),_)throw console.error("Supabase error:",_),new Error(`Database error: ${_.message}`);if(!x)throw new Error("User not found. Please check if the database is set up correctly.");const C=await z1.compare(w,x.password_hash);if(console.log("Password valid:",C),!C)throw new Error("Invalid password");const D={id:x.id,email:x.email,name:x.name,role:x.role,is_active:x.is_active,created_at:x.created_at};return localStorage.setItem("user",JSON.stringify(D)),r(D),D}catch(x){throw console.error("Login error:",x),x}},p=()=>{localStorage.removeItem("user"),r(null)};return E.jsx($2.Provider,{value:{user:e,loading:o,login:d,logout:p},children:t})},D0=({children:t,allowedRoles:e})=>{const{user:r,loading:o}=Tl();return o?E.jsx("div",{className:"flex items-center justify-center min-h-screen",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-slate-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):r?e&&!e.includes(r.role)?E.jsx(Cs,{to:"/",replace:!0}):t:E.jsx(Cs,{to:"/login",replace:!0})};var X_=(t,e,r,o,u,d,p,b)=>{let w=document.documentElement,x=["light","dark"];function _(M){(Array.isArray(t)?t:[t]).forEach(P=>{let I=P==="class",B=I&&d?u.map(j=>d[j]||j):u;I?(w.classList.remove(...B),w.classList.add(d&&d[M]?d[M]:M)):w.setAttribute(P,M)}),C(M)}function C(M){b&&x.includes(M)&&(w.style.colorScheme=M)}function D(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)_(o);else try{let M=localStorage.getItem(e)||r,P=p&&M==="system"?D():M;_(P)}catch{}},W_=N.createContext(void 0),K_={setTheme:t=>{},themes:[]},Z_=()=>{var t;return(t=N.useContext(W_))!=null?t:K_};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:o,enableColorScheme:u,defaultTheme:d,value:p,themes:b,nonce:w,scriptProps:x})=>{let _=JSON.stringify([r,e,d,t,b,p,o,u]).slice(1,-1);return N.createElement("script",{...x,suppressHydrationWarning:!0,nonce:typeof window>"u"?w:"",dangerouslySetInnerHTML:{__html:`(${X_.toString()})(${_})`}})});function $_(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Q_=t=>{switch(t){case"success":return t4;case"info":return r4;case"warning":return n4;case"error":return a4;default:return null}},J_=Array(12).fill(0),e4=({visible:t,className:e})=>Ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ie.createElement("div",{className:"sonner-spinner"},J_.map((r,o)=>Ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),t4=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),n4=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),r4=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a4=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),i4=Ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s4=()=>{const[t,e]=Ie.useState(document.hidden);return Ie.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let s1=1;class o4{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:o,...u}=e,d=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:s1++,p=this.toasts.find(w=>w.id===d),b=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),p?this.toasts=this.toasts.map(w=>w.id===d?(this.publish({...w,...e,id:d,title:o}),{...w,...e,id:d,dismissible:b,title:o}):w):this.addToast({title:o,...u,dismissible:b,id:d}),d},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(o=>o({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let o;r.loading!==void 0&&(o=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const u=Promise.resolve(e instanceof Function?e():e);let d=o!==void 0,p;const b=u.then(async x=>{if(p=["resolve",x],Ie.isValidElement(x))d=!1,this.create({id:o,type:"default",message:x});else if(c4(x)&&!x.ok){d=!1;const C=typeof r.error=="function"?await r.error(`HTTP error! status: ${x.status}`):r.error,D=typeof r.description=="function"?await r.description(`HTTP error! status: ${x.status}`):r.description,P=typeof C=="object"&&!Ie.isValidElement(C)?C:{message:C};this.create({id:o,type:"error",description:D,...P})}else if(x instanceof Error){d=!1;const C=typeof r.error=="function"?await r.error(x):r.error,D=typeof r.description=="function"?await r.description(x):r.description,P=typeof C=="object"&&!Ie.isValidElement(C)?C:{message:C};this.create({id:o,type:"error",description:D,...P})}else if(r.success!==void 0){d=!1;const C=typeof r.success=="function"?await r.success(x):r.success,D=typeof r.description=="function"?await r.description(x):r.description,P=typeof C=="object"&&!Ie.isValidElement(C)?C:{message:C};this.create({id:o,type:"success",description:D,...P})}}).catch(async x=>{if(p=["reject",x],r.error!==void 0){d=!1;const _=typeof r.error=="function"?await r.error(x):r.error,C=typeof r.description=="function"?await r.description(x):r.description,M=typeof _=="object"&&!Ie.isValidElement(_)?_:{message:_};this.create({id:o,type:"error",description:C,...M})}}).finally(()=>{d&&(this.dismiss(o),o=void 0),r.finally==null||r.finally.call(r)}),w=()=>new Promise((x,_)=>b.then(()=>p[0]==="reject"?_(p[1]):x(p[1])).catch(_));return typeof o!="string"&&typeof o!="number"?{unwrap:w}:Object.assign(o,{unwrap:w})},this.custom=(e,r)=>{const o=(r==null?void 0:r.id)||s1++;return this.create({jsx:e(o),id:o,...r}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pr=new o4,l4=(t,e)=>{const r=(e==null?void 0:e.id)||s1++;return Pr.addToast({title:t,...e,id:r}),r},c4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",u4=l4,d4=()=>Pr.toasts,f4=()=>Pr.getActiveToasts(),ot=Object.assign(u4,{success:Pr.success,info:Pr.info,warning:Pr.warning,error:Pr.error,custom:Pr.custom,message:Pr.message,promise:Pr.promise,dismiss:Pr.dismiss,loading:Pr.loading},{getHistory:d4,getToasts:f4});$_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wd(t){return t.label!==void 0}const h4=3,g4="24px",m4="16px",ay=4e3,p4=356,x4=14,y4=45,b4=200;function $a(...t){return t.filter(Boolean).join(" ")}function w4(t){const[e,r]=t.split("-"),o=[];return e&&o.push(e),r&&o.push(r),o}const v4=t=>{var e,r,o,u,d,p,b,w,x;const{invert:_,toast:C,unstyled:D,interacting:M,setHeights:P,visibleToasts:I,heights:B,index:j,toasts:H,expanded:F,removeToast:Q,defaultRichColors:ce,closeButton:se,style:Y,cancelButtonStyle:X,actionButtonStyle:ne,className:De="",descriptionClassName:Le="",duration:Ae,position:Me,gap:je,expandByDefault:re,classNames:K,icons:q,closeButtonAriaLabel:te="Close toast"}=t,[Oe,Be]=Ie.useState(null),[$,ge]=Ie.useState(null),[pe,xe]=Ie.useState(!1),[ke,ve]=Ie.useState(!1),[be,Te]=Ie.useState(!1),[qe,lt]=Ie.useState(!1),[We,it]=Ie.useState(!1),[nt,Xt]=Ie.useState(0),[An,ir]=Ie.useState(0),Ut=Ie.useRef(C.duration||Ae||ay),Rt=Ie.useRef(null),et=Ie.useRef(null),za=j===0,Ue=j+1<=I,zn=C.type,wa=C.dismissible!==!1,dn=C.className||"",ks=C.descriptionClassName||"",Zn=Ie.useMemo(()=>B.findIndex(st=>st.toastId===C.id)||0,[B,C.id]),Ls=Ie.useMemo(()=>{var st;return(st=C.closeButton)!=null?st:se},[C.closeButton,se]),mr=Ie.useMemo(()=>C.duration||Ae||ay,[C.duration,Ae]),kn=Ie.useRef(0),oa=Ie.useRef(0),ai=Ie.useRef(0),Ha=Ie.useRef(null),[Qt,Ne]=Me.split("-"),Ft=Ie.useMemo(()=>B.reduce((st,St,Cn)=>Cn>=Zn?st:st+St.height,0),[B,Zn]),dt=s4(),cn=C.invert||_,va=zn==="loading";oa.current=Ie.useMemo(()=>Zn*je+Ft,[Zn,Ft]),Ie.useEffect(()=>{Ut.current=mr},[mr]),Ie.useEffect(()=>{xe(!0)},[]),Ie.useEffect(()=>{const st=et.current;if(st){const St=st.getBoundingClientRect().height;return ir(St),P(Cn=>[{toastId:C.id,height:St,position:C.position},...Cn]),()=>P(Cn=>Cn.filter(Mt=>Mt.toastId!==C.id))}},[P,C.id]),Ie.useLayoutEffect(()=>{if(!pe)return;const st=et.current,St=st.style.height;st.style.height="auto";const Cn=st.getBoundingClientRect().height;st.style.height=St,ir(Cn),P(Mt=>Mt.find(Jt=>Jt.toastId===C.id)?Mt.map(Jt=>Jt.toastId===C.id?{...Jt,height:Cn}:Jt):[{toastId:C.id,height:Cn,position:C.position},...Mt])},[pe,C.title,C.description,P,C.id,C.jsx,C.action,C.cancel]);const Tr=Ie.useCallback(()=>{ve(!0),Xt(oa.current),P(st=>st.filter(St=>St.toastId!==C.id)),setTimeout(()=>{Q(C)},b4)},[C,Q,P,oa]);Ie.useEffect(()=>{if(C.promise&&zn==="loading"||C.duration===1/0||C.type==="loading")return;let st;return F||M||dt?(()=>{if(ai.current<kn.current){const Mt=new Date().getTime()-kn.current;Ut.current=Ut.current-Mt}ai.current=new Date().getTime()})():(()=>{Ut.current!==1/0&&(kn.current=new Date().getTime(),st=setTimeout(()=>{C.onAutoClose==null||C.onAutoClose.call(C,C),Tr()},Ut.current))})(),()=>clearTimeout(st)},[F,M,C,zn,dt,Tr]),Ie.useEffect(()=>{C.delete&&(Tr(),C.onDismiss==null||C.onDismiss.call(C,C))},[Tr,C.delete]);function ii(){var st;if(q!=null&&q.loading){var St;return Ie.createElement("div",{className:$a(K==null?void 0:K.loader,C==null||(St=C.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":zn==="loading"},q.loading)}return Ie.createElement(e4,{className:$a(K==null?void 0:K.loader,C==null||(st=C.classNames)==null?void 0:st.loader),visible:zn==="loading"})}const bt=C.icon||(q==null?void 0:q[zn])||Q_(zn);var br,Ur;return Ie.createElement("li",{tabIndex:0,ref:et,className:$a(De,dn,K==null?void 0:K.toast,C==null||(e=C.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[zn],C==null||(r=C.classNames)==null?void 0:r[zn]),"data-sonner-toast":"","data-rich-colors":(br=C.richColors)!=null?br:ce,"data-styled":!(C.jsx||C.unstyled||D),"data-mounted":pe,"data-promise":!!C.promise,"data-swiped":We,"data-removed":ke,"data-visible":Ue,"data-y-position":Qt,"data-x-position":Ne,"data-index":j,"data-front":za,"data-swiping":be,"data-dismissible":wa,"data-type":zn,"data-invert":cn,"data-swipe-out":qe,"data-swipe-direction":$,"data-expanded":!!(F||re&&pe),"data-testid":C.testId,style:{"--index":j,"--toasts-before":j,"--z-index":H.length-j,"--offset":`${ke?nt:oa.current}px`,"--initial-height":re?"auto":`${An}px`,...Y,...C.style},onDragEnd:()=>{Te(!1),Be(null),Ha.current=null},onPointerDown:st=>{st.button!==2&&(va||!wa||(Rt.current=new Date,Xt(oa.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Te(!0),Ha.current={x:st.clientX,y:st.clientY})))},onPointerUp:()=>{var st,St,Cn;if(qe||!wa)return;Ha.current=null;const Mt=Number(((st=et.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wr=Number(((St=et.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jt=new Date().getTime()-((Cn=Rt.current)==null?void 0:Cn.getTime()),fn=Oe==="x"?Mt:wr,si=Math.abs(fn)/Jt;if(Math.abs(fn)>=y4||si>.11){Xt(oa.current),C.onDismiss==null||C.onDismiss.call(C,C),ge(Oe==="x"?Mt>0?"right":"left":wr>0?"down":"up"),Tr(),lt(!0);return}else{var _n,sr;(_n=et.current)==null||_n.style.setProperty("--swipe-amount-x","0px"),(sr=et.current)==null||sr.style.setProperty("--swipe-amount-y","0px")}it(!1),Te(!1),Be(null)},onPointerMove:st=>{var St,Cn,Mt;if(!Ha.current||!wa||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Jt=st.clientY-Ha.current.y,fn=st.clientX-Ha.current.x;var si;const _n=(si=t.swipeDirections)!=null?si:w4(Me);!Oe&&(Math.abs(fn)>1||Math.abs(Jt)>1)&&Be(Math.abs(fn)>Math.abs(Jt)?"x":"y");let sr={x:0,y:0};const Ln=$n=>1/(1.5+Math.abs($n)/20);if(Oe==="y"){if(_n.includes("top")||_n.includes("bottom"))if(_n.includes("top")&&Jt<0||_n.includes("bottom")&&Jt>0)sr.y=Jt;else{const $n=Jt*Ln(Jt);sr.y=Math.abs($n)<Math.abs(Jt)?$n:Jt}}else if(Oe==="x"&&(_n.includes("left")||_n.includes("right")))if(_n.includes("left")&&fn<0||_n.includes("right")&&fn>0)sr.x=fn;else{const $n=fn*Ln(fn);sr.x=Math.abs($n)<Math.abs(fn)?$n:fn}(Math.abs(sr.x)>0||Math.abs(sr.y)>0)&&it(!0),(Cn=et.current)==null||Cn.style.setProperty("--swipe-amount-x",`${sr.x}px`),(Mt=et.current)==null||Mt.style.setProperty("--swipe-amount-y",`${sr.y}px`)}},Ls&&!C.jsx&&zn!=="loading"?Ie.createElement("button",{"aria-label":te,"data-disabled":va,"data-close-button":!0,onClick:va||!wa?()=>{}:()=>{Tr(),C.onDismiss==null||C.onDismiss.call(C,C)},className:$a(K==null?void 0:K.closeButton,C==null||(o=C.classNames)==null?void 0:o.closeButton)},(Ur=q==null?void 0:q.close)!=null?Ur:i4):null,(zn||C.icon||C.promise)&&C.icon!==null&&((q==null?void 0:q[zn])!==null||C.icon)?Ie.createElement("div",{"data-icon":"",className:$a(K==null?void 0:K.icon,C==null||(u=C.classNames)==null?void 0:u.icon)},C.promise||C.type==="loading"&&!C.icon?C.icon||ii():null,C.type!=="loading"?bt:null):null,Ie.createElement("div",{"data-content":"",className:$a(K==null?void 0:K.content,C==null||(d=C.classNames)==null?void 0:d.content)},Ie.createElement("div",{"data-title":"",className:$a(K==null?void 0:K.title,C==null||(p=C.classNames)==null?void 0:p.title)},C.jsx?C.jsx:typeof C.title=="function"?C.title():C.title),C.description?Ie.createElement("div",{"data-description":"",className:$a(Le,ks,K==null?void 0:K.description,C==null||(b=C.classNames)==null?void 0:b.description)},typeof C.description=="function"?C.description():C.description):null),Ie.isValidElement(C.cancel)?C.cancel:C.cancel&&wd(C.cancel)?Ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:C.cancelButtonStyle||X,onClick:st=>{wd(C.cancel)&&wa&&(C.cancel.onClick==null||C.cancel.onClick.call(C.cancel,st),Tr())},className:$a(K==null?void 0:K.cancelButton,C==null||(w=C.classNames)==null?void 0:w.cancelButton)},C.cancel.label):null,Ie.isValidElement(C.action)?C.action:C.action&&wd(C.action)?Ie.createElement("button",{"data-button":!0,"data-action":!0,style:C.actionButtonStyle||ne,onClick:st=>{wd(C.action)&&(C.action.onClick==null||C.action.onClick.call(C.action,st),!st.defaultPrevented&&Tr())},className:$a(K==null?void 0:K.actionButton,C==null||(x=C.classNames)==null?void 0:x.actionButton)},C.action.label):null)};function iy(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function E4(t,e){const r={};return[t,e].forEach((o,u)=>{const d=u===1,p=d?"--mobile-offset":"--offset",b=d?m4:g4;function w(x){["top","right","bottom","left"].forEach(_=>{r[`${p}-${_}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?w(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?r[`${p}-${x}`]=b:r[`${p}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):w(b)}),r}const S4=Ie.forwardRef(function(e,r){const{id:o,invert:u,position:d="bottom-right",hotkey:p=["altKey","KeyT"],expand:b,closeButton:w,className:x,offset:_,mobileOffset:C,theme:D="light",richColors:M,duration:P,style:I,visibleToasts:B=h4,toastOptions:j,dir:H=iy(),gap:F=x4,icons:Q,containerAriaLabel:ce="Notifications"}=e,[se,Y]=Ie.useState([]),X=Ie.useMemo(()=>o?se.filter(pe=>pe.toasterId===o):se.filter(pe=>!pe.toasterId),[se,o]),ne=Ie.useMemo(()=>Array.from(new Set([d].concat(X.filter(pe=>pe.position).map(pe=>pe.position)))),[X,d]),[De,Le]=Ie.useState([]),[Ae,Me]=Ie.useState(!1),[je,re]=Ie.useState(!1),[K,q]=Ie.useState(D!=="system"?D:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Ie.useRef(null),Oe=p.join("+").replace(/Key/g,"").replace(/Digit/g,""),Be=Ie.useRef(null),$=Ie.useRef(!1),ge=Ie.useCallback(pe=>{Y(xe=>{var ke;return(ke=xe.find(ve=>ve.id===pe.id))!=null&&ke.delete||Pr.dismiss(pe.id),xe.filter(({id:ve})=>ve!==pe.id)})},[]);return Ie.useEffect(()=>Pr.subscribe(pe=>{if(pe.dismiss){requestAnimationFrame(()=>{Y(xe=>xe.map(ke=>ke.id===pe.id?{...ke,delete:!0}:ke))});return}setTimeout(()=>{_2.flushSync(()=>{Y(xe=>{const ke=xe.findIndex(ve=>ve.id===pe.id);return ke!==-1?[...xe.slice(0,ke),{...xe[ke],...pe},...xe.slice(ke+1)]:[pe,...xe]})})})}),[se]),Ie.useEffect(()=>{if(D!=="system"){q(D);return}if(D==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:xe})=>{q(xe?"dark":"light")})}catch{pe.addListener(({matches:ke})=>{try{q(ke?"dark":"light")}catch(ve){console.error(ve)}})}},[D]),Ie.useEffect(()=>{se.length<=1&&Me(!1)},[se]),Ie.useEffect(()=>{const pe=xe=>{var ke;if(p.every(Te=>xe[Te]||xe.code===Te)){var be;Me(!0),(be=te.current)==null||be.focus()}xe.code==="Escape"&&(document.activeElement===te.current||(ke=te.current)!=null&&ke.contains(document.activeElement))&&Me(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[p]),Ie.useEffect(()=>{if(te.current)return()=>{Be.current&&(Be.current.focus({preventScroll:!0}),Be.current=null,$.current=!1)}},[te.current]),Ie.createElement("section",{ref:r,"aria-label":`${ce} ${Oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ne.map((pe,xe)=>{var ke;const[ve,be]=pe.split("-");return X.length?Ie.createElement("ol",{key:pe,dir:H==="auto"?iy():H,tabIndex:-1,ref:te,className:x,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":ve,"data-x-position":be,style:{"--front-toast-height":`${((ke=De[0])==null?void 0:ke.height)||0}px`,"--width":`${p4}px`,"--gap":`${F}px`,...I,...E4(_,C)},onBlur:Te=>{$.current&&!Te.currentTarget.contains(Te.relatedTarget)&&($.current=!1,Be.current&&(Be.current.focus({preventScroll:!0}),Be.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||$.current||($.current=!0,Be.current=Te.relatedTarget)},onMouseEnter:()=>Me(!0),onMouseMove:()=>Me(!0),onMouseLeave:()=>{je||Me(!1)},onDragEnd:()=>Me(!1),onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},X.filter(Te=>!Te.position&&xe===0||Te.position===pe).map((Te,qe)=>{var lt,We;return Ie.createElement(v4,{key:Te.id,icons:Q,index:qe,toast:Te,defaultRichColors:M,duration:(lt=j==null?void 0:j.duration)!=null?lt:P,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:u,visibleToasts:B,closeButton:(We=j==null?void 0:j.closeButton)!=null?We:w,interacting:je,position:pe,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:ge,toasts:X.filter(it=>it.position==Te.position),heights:De.filter(it=>it.position==Te.position),setHeights:Le,expandByDefault:b,gap:F,expanded:Ae,swipeDirections:e.swipeDirections})})):null}))}),A4=({...t})=>{const{theme:e="system"}=Z_();return E.jsx(S4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function sy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nl(...t){return e=>{let r=!1;const o=t.map(u=>{const d=sy(u,e);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let u=0;u<o.length;u++){const d=o[u];typeof d=="function"?d():sy(t[u],null)}}}}function En(...t){return N.useCallback(Nl(...t),t)}var C4=Symbol.for("react.lazy"),Fd=C1[" use ".trim().toString()];function _4(t){return typeof t=="object"&&t!==null&&"then"in t}function Q2(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===C4&&"_payload"in t&&_4(t._payload)}function J2(t){const e=N4(t),r=N.forwardRef((o,u)=>{let{children:d,...p}=o;Q2(d)&&typeof Fd=="function"&&(d=Fd(d._payload));const b=N.Children.toArray(d),w=b.find(O4);if(w){const x=w.props.children,_=b.map(C=>C===w?N.Children.count(x)>1?N.Children.only(null):N.isValidElement(x)?x.props.children:null:C);return E.jsx(e,{...p,ref:u,children:N.isValidElement(x)?N.cloneElement(x,void 0,_):null})}return E.jsx(e,{...p,ref:u,children:d})});return r.displayName=`${t}.Slot`,r}var T4=J2("Slot");function N4(t){const e=N.forwardRef((r,o)=>{let{children:u,...d}=r;if(Q2(u)&&typeof Fd=="function"&&(u=Fd(u._payload)),N.isValidElement(u)){const p=D4(u),b=I4(d,u.props);return u.type!==N.Fragment&&(b.ref=o?Nl(o,p):p),N.cloneElement(u,b)}return N.Children.count(u)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var R4=Symbol("radix.slottable");function O4(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===R4}function I4(t,e){const r={...e};for(const o in e){const u=t[o],d=e[o];/^on[A-Z]/.test(o)?u&&d?r[o]=(...b)=>{const w=d(...b);return u(...b),w}:u&&(r[o]=u):o==="style"?r[o]={...u,...d}:o==="className"&&(r[o]=[u,d].filter(Boolean).join(" "))}return{...t,...r}}function D4(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function eb(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var u=t.length;for(e=0;e<u;e++)t[e]&&(r=eb(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function tb(){for(var t,e,r=0,o="",u=arguments.length;r<u;r++)(t=arguments[r])&&(e=eb(t))&&(o&&(o+=" "),o+=e);return o}const oy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ly=tb,nb=(t,e)=>r=>{var o;if((e==null?void 0:e.variants)==null)return ly(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:u,defaultVariants:d}=e,p=Object.keys(u).map(x=>{const _=r==null?void 0:r[x],C=d==null?void 0:d[x];if(_===null)return null;const D=oy(_)||oy(C);return u[x][D]}),b=r&&Object.entries(r).reduce((x,_)=>{let[C,D]=_;return D===void 0||(x[C]=D),x},{}),w=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((x,_)=>{let{class:C,className:D,...M}=_;return Object.entries(M).every(P=>{let[I,B]=P;return Array.isArray(B)?B.includes({...d,...b}[I]):{...d,...b}[I]===B})?[...x,C,D]:x},[]);return ly(t,p,w,r==null?void 0:r.class,r==null?void 0:r.className)},M4=(t,e)=>{const r=new Array(t.length+e.length);for(let o=0;o<t.length;o++)r[o]=t[o];for(let o=0;o<e.length;o++)r[t.length+o]=e[o];return r},k4=(t,e)=>({classGroupId:t,validator:e}),rb=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),zd="-",cy=[],L4="arbitrary..",j4=t=>{const e=P4(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:p=>{if(p.startsWith("[")&&p.endsWith("]"))return B4(p);const b=p.split(zd),w=b[0]===""&&b.length>1?1:0;return ab(b,w,e)},getConflictingClassGroupIds:(p,b)=>{if(b){const w=o[p],x=r[p];return w?x?M4(x,w):w:x||cy}return r[p]||cy}}},ab=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const u=t[e],d=r.nextPart.get(u);if(d){const x=ab(t,e+1,d);if(x)return x}const p=r.validators;if(p===null)return;const b=e===0?t.join(zd):t.slice(e).join(zd),w=p.length;for(let x=0;x<w;x++){const _=p[x];if(_.validator(b))return _.classGroupId}},B4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),o=e.slice(0,r);return o?L4+o:void 0})(),P4=t=>{const{theme:e,classGroups:r}=t;return U4(r,e)},U4=(t,e)=>{const r=rb();for(const o in t){const u=t[o];H1(u,r,o,e)}return r},H1=(t,e,r,o)=>{const u=t.length;for(let d=0;d<u;d++){const p=t[d];F4(p,e,r,o)}},F4=(t,e,r,o)=>{if(typeof t=="string"){z4(t,e,r);return}if(typeof t=="function"){H4(t,e,r,o);return}V4(t,e,r,o)},z4=(t,e,r)=>{const o=t===""?e:ib(e,t);o.classGroupId=r},H4=(t,e,r,o)=>{if(G4(t)){H1(t(o),e,r,o);return}e.validators===null&&(e.validators=[]),e.validators.push(k4(r,t))},V4=(t,e,r,o)=>{const u=Object.entries(t),d=u.length;for(let p=0;p<d;p++){const[b,w]=u[p];H1(w,ib(e,b),r,o)}},ib=(t,e)=>{let r=t;const o=e.split(zd),u=o.length;for(let d=0;d<u;d++){const p=o[d];let b=r.nextPart.get(p);b||(b=rb(),r.nextPart.set(p,b)),r=b}return r},G4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Y4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),o=Object.create(null);const u=(d,p)=>{r[d]=p,e++,e>t&&(e=0,o=r,r=Object.create(null))};return{get(d){let p=r[d];if(p!==void 0)return p;if((p=o[d])!==void 0)return u(d,p),p},set(d,p){d in r?r[d]=p:u(d,p)}}},o1="!",uy=":",q4=[],dy=(t,e,r,o,u)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:o,isExternal:u}),X4=t=>{const{prefix:e,experimentalParseClassName:r}=t;let o=u=>{const d=[];let p=0,b=0,w=0,x;const _=u.length;for(let I=0;I<_;I++){const B=u[I];if(p===0&&b===0){if(B===uy){d.push(u.slice(w,I)),w=I+1;continue}if(B==="/"){x=I;continue}}B==="["?p++:B==="]"?p--:B==="("?b++:B===")"&&b--}const C=d.length===0?u:u.slice(w);let D=C,M=!1;C.endsWith(o1)?(D=C.slice(0,-1),M=!0):C.startsWith(o1)&&(D=C.slice(1),M=!0);const P=x&&x>w?x-w:void 0;return dy(d,M,D,P)};if(e){const u=e+uy,d=o;o=p=>p.startsWith(u)?d(p.slice(u.length)):dy(q4,!1,p,void 0,!0)}if(r){const u=o;o=d=>r({className:d,parseClassName:u})}return o},W4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,o)=>{e.set(r,1e6+o)}),r=>{const o=[];let u=[];for(let d=0;d<r.length;d++){const p=r[d],b=p[0]==="[",w=e.has(p);b||w?(u.length>0&&(u.sort(),o.push(...u),u=[]),o.push(p)):u.push(p)}return u.length>0&&(u.sort(),o.push(...u)),o}},K4=t=>({cache:Y4(t.cacheSize),parseClassName:X4(t),sortModifiers:W4(t),...j4(t)}),Z4=/\s+/,$4=(t,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:d}=e,p=[],b=t.trim().split(Z4);let w="";for(let x=b.length-1;x>=0;x-=1){const _=b[x],{isExternal:C,modifiers:D,hasImportantModifier:M,baseClassName:P,maybePostfixModifierPosition:I}=r(_);if(C){w=_+(w.length>0?" "+w:w);continue}let B=!!I,j=o(B?P.substring(0,I):P);if(!j){if(!B){w=_+(w.length>0?" "+w:w);continue}if(j=o(P),!j){w=_+(w.length>0?" "+w:w);continue}B=!1}const H=D.length===0?"":D.length===1?D[0]:d(D).join(":"),F=M?H+o1:H,Q=F+j;if(p.indexOf(Q)>-1)continue;p.push(Q);const ce=u(j,B);for(let se=0;se<ce.length;++se){const Y=ce[se];p.push(F+Y)}w=_+(w.length>0?" "+w:w)}return w},Q4=(...t)=>{let e=0,r,o,u="";for(;e<t.length;)(r=t[e++])&&(o=sb(r))&&(u&&(u+=" "),u+=o);return u},sb=t=>{if(typeof t=="string")return t;let e,r="";for(let o=0;o<t.length;o++)t[o]&&(e=sb(t[o]))&&(r&&(r+=" "),r+=e);return r},J4=(t,...e)=>{let r,o,u,d;const p=w=>{const x=e.reduce((_,C)=>C(_),t());return r=K4(x),o=r.cache.get,u=r.cache.set,d=b,b(w)},b=w=>{const x=o(w);if(x)return x;const _=$4(w,r);return u(w,_),_};return d=p,(...w)=>d(Q4(...w))},eT=[],nr=t=>{const e=r=>r[t]||eT;return e.isThemeGetter=!0,e},ob=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tT=/^\d+\/\d+$/,nT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ol=t=>tT.test(t),yt=t=>!!t&&!Number.isNaN(Number(t)),vs=t=>!!t&&Number.isInteger(Number(t)),M0=t=>t.endsWith("%")&&yt(t.slice(0,-1)),Ri=t=>nT.test(t),oT=()=>!0,lT=t=>rT.test(t)&&!aT.test(t),cb=()=>!1,cT=t=>iT.test(t),uT=t=>sT.test(t),dT=t=>!He(t)&&!Ve(t),fT=t=>Rl(t,fb,cb),He=t=>ob.test(t),so=t=>Rl(t,hb,lT),k0=t=>Rl(t,xT,yt),fy=t=>Rl(t,ub,cb),hT=t=>Rl(t,db,uT),vd=t=>Rl(t,gb,cT),Ve=t=>lb.test(t),Cc=t=>Ol(t,hb),gT=t=>Ol(t,yT),hy=t=>Ol(t,ub),mT=t=>Ol(t,fb),pT=t=>Ol(t,db),Ed=t=>Ol(t,gb,!0),Rl=(t,e,r)=>{const o=ob.exec(t);return o?o[1]?e(o[1]):r(o[2]):!1},Ol=(t,e,r=!1)=>{const o=lb.exec(t);return o?o[1]?e(o[1]):r:!1},ub=t=>t==="position"||t==="percentage",db=t=>t==="image"||t==="url",fb=t=>t==="length"||t==="size"||t==="bg-size",hb=t=>t==="length",xT=t=>t==="number",yT=t=>t==="family-name",gb=t=>t==="shadow",bT=()=>{const t=nr("color"),e=nr("font"),r=nr("text"),o=nr("font-weight"),u=nr("tracking"),d=nr("leading"),p=nr("breakpoint"),b=nr("container"),w=nr("spacing"),x=nr("radius"),_=nr("shadow"),C=nr("inset-shadow"),D=nr("text-shadow"),M=nr("drop-shadow"),P=nr("blur"),I=nr("perspective"),B=nr("aspect"),j=nr("ease"),H=nr("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ce=()=>[...Q(),Ve,He],se=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],X=()=>[Ve,He,w],ne=()=>[ol,"full","auto",...X()],De=()=>[vs,"none","subgrid",Ve,He],Le=()=>["auto",{span:["full",vs,Ve,He]},vs,Ve,He],Ae=()=>[vs,"auto",Ve,He],Me=()=>["auto","min","max","fr",Ve,He],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...X()],q=()=>[ol,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...X()],te=()=>[t,Ve,He],Oe=()=>[...Q(),hy,fy,{position:[Ve,He]}],Be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",mT,fT,{size:[Ve,He]}],ge=()=>[M0,Cc,so],pe=()=>["","none","full",x,Ve,He],xe=()=>["",yt,Cc,so],ke=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[yt,M0,hy,fy],Te=()=>["","none",P,Ve,He],qe=()=>["none",yt,Ve,He],lt=()=>["none",yt,Ve,He],We=()=>[yt,Ve,He],it=()=>[ol,"full",...X()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ri],breakpoint:[Ri],color:[oT],container:[Ri],"drop-shadow":[Ri],ease:["in","out","in-out"],font:[dT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ri],shadow:[Ri],spacing:["px",yt],text:[Ri],"text-shadow":[Ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ol,He,Ve,B]}],container:["container"],columns:[{columns:[yt,He,Ve,b]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ce()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ne()}],"inset-x":[{"inset-x":ne()}],"inset-y":[{"inset-y":ne()}],start:[{start:ne()}],end:[{end:ne()}],top:[{top:ne()}],right:[{right:ne()}],bottom:[{bottom:ne()}],left:[{left:ne()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",Ve,He]}],basis:[{basis:[ol,"full","auto",b,...X()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yt,ol,"auto","initial","none",He]}],grow:[{grow:["",yt,Ve,He]}],shrink:[{shrink:["",yt,Ve,He]}],order:[{order:[vs,"first","last","none",Ve,He]}],"grid-cols":[{"grid-cols":De()}],"col-start-end":[{col:Le()}],"col-start":[{"col-start":Ae()}],"col-end":[{"col-end":Ae()}],"grid-rows":[{"grid-rows":De()}],"row-start-end":[{row:Le()}],"row-start":[{"row-start":Ae()}],"row-end":[{"row-end":Ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Me()}],"auto-rows":[{"auto-rows":Me()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:X()}],px:[{px:X()}],py:[{py:X()}],ps:[{ps:X()}],pe:[{pe:X()}],pt:[{pt:X()}],pr:[{pr:X()}],pb:[{pb:X()}],pl:[{pl:X()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":X()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":X()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[b,"screen",...q()]}],"min-w":[{"min-w":[b,"screen","none",...q()]}],"max-w":[{"max-w":[b,"screen","none","prose",{screen:[p]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,Cc,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Ve,k0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M0,He]}],"font-family":[{font:[gT,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,Ve,He]}],"line-clamp":[{"line-clamp":[yt,"none",Ve,k0]}],leading:[{leading:[d,...X()]}],"list-image":[{"list-image":["none",Ve,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[yt,"from-font","auto",Ve,so]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[yt,"auto",Ve,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:Be()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,Ve,He],radial:["",Ve,He],conic:[vs,Ve,He]},pT,hT]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yt,Ve,He]}],"outline-w":[{outline:["",yt,Cc,so]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",_,Ed,vd]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",C,Ed,vd]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[yt,so]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",D,Ed,vd]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[yt,Ve,He]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Ve,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:Be()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,He]}],filter:[{filter:["","none",Ve,He]}],blur:[{blur:Te()}],brightness:[{brightness:[yt,Ve,He]}],contrast:[{contrast:[yt,Ve,He]}],"drop-shadow":[{"drop-shadow":["","none",M,Ed,vd]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",yt,Ve,He]}],"hue-rotate":[{"hue-rotate":[yt,Ve,He]}],invert:[{invert:["",yt,Ve,He]}],saturate:[{saturate:[yt,Ve,He]}],sepia:[{sepia:["",yt,Ve,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,He]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[yt,Ve,He]}],"backdrop-contrast":[{"backdrop-contrast":[yt,Ve,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yt,Ve,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yt,Ve,He]}],"backdrop-invert":[{"backdrop-invert":["",yt,Ve,He]}],"backdrop-opacity":[{"backdrop-opacity":[yt,Ve,He]}],"backdrop-saturate":[{"backdrop-saturate":[yt,Ve,He]}],"backdrop-sepia":[{"backdrop-sepia":["",yt,Ve,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":X()}],"border-spacing-x":[{"border-spacing-x":X()}],"border-spacing-y":[{"border-spacing-y":X()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yt,"initial",Ve,He]}],ease:[{ease:["linear","initial",j,Ve,He]}],delay:[{delay:[yt,Ve,He]}],animate:[{animate:["none",H,Ve,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ve,He]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:lt()}],"scale-x":[{"scale-x":lt()}],"scale-y":[{"scale-y":lt()}],"scale-z":[{"scale-z":lt()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[Ve,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:it()}],"translate-x":[{"translate-x":it()}],"translate-y":[{"translate-y":it()}],"translate-z":[{"translate-z":it()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,He]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[yt,Cc,so,k0]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wT=J4(bT);function rn(...t){return wT(tb(t))}const vT=nb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Je=N.forwardRef(({className:t,variant:e,size:r,asChild:o=!1,...u},d)=>{const p=o?T4:"button";return E.jsx(p,{className:rn(vT({variant:e,size:r,className:t})),ref:d,...u})});Je.displayName="Button";const ar=N.forwardRef(({className:t,type:e,...r},o)=>E.jsx("input",{type:e,className:rn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:o,...r}));ar.displayName="Input";var ET=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ST=ET.reduce((t,e)=>{const r=J2(`Primitive.${e}`),o=N.forwardRef((u,d)=>{const{asChild:p,...b}=u,w=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(w,{...b,ref:d})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{}),AT="Label",mb=N.forwardRef((t,e)=>E.jsx(ST.label,{...t,ref:e,onMouseDown:r=>{var u;r.target.closest("button, input, select, textarea")||((u=t.onMouseDown)==null||u.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mb.displayName=AT;var pb=mb;const CT=nb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wn=N.forwardRef(({className:t,...e},r)=>E.jsx(pb,{ref:r,className:rn(CT(),t),...e}));wn.displayName=pb.displayName;const _T="/assets/kolam-CPnWK8Vw.jpg",TT=()=>{const[t,e]=N.useState(""),[r,o]=N.useState(""),[u,d]=N.useState(!1),{login:p}=Tl(),b=po(),w=async x=>{var _,C;x.preventDefault(),d(!0);try{const D=await p(t,r);ot.success("Login successful!"),D.role==="ADMIN"?b("/admin"):D.role==="RECEPTIONIST"?b("/receptionist"):D.role==="SCANNER"&&b("/scanner")}catch(D){ot.error(((C=(_=D.response)==null?void 0:_.data)==null?void 0:C.detail)||"Login failed")}finally{d(!1)}};return E.jsxs("div",{className:"min-h-screen flex",children:[E.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative bg-cover bg-center",style:{backgroundImage:`url(${_T})`},children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/50"}),E.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16 text-white",children:[E.jsx("h1",{className:"text-5xl font-bold mb-4",style:{fontFamily:"Outfit"},children:"Kolam Renang UNY"}),E.jsx("p",{className:"text-2xl font-light mb-2",children:"Sistem Tiket Kolam Renang"}),E.jsx("p",{className:"text-lg opacity-90",children:"Platform tiket dan operasional profesional"})]})]}),E.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-white",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",style:{fontFamily:"Outfit"},children:"Selamat Datang"}),E.jsx("p",{className:"text-slate-600",children:"Masuk untuk mengakses dashboard"})]}),E.jsxs("form",{onSubmit:w,className:"space-y-6","data-testid":"login-form",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"email",className:"text-slate-700 font-medium",children:"Email Address"}),E.jsx(ar,{id:"email",type:"email",value:t,onChange:x=>e(x.target.value),placeholder:"your@email.com",required:!0,className:"mt-1 h-12 border-slate-200 focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500","data-testid":"email-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"password",className:"text-slate-700 font-medium",children:"Password"}),E.jsx(ar,{id:"password",type:"password",value:r,onChange:x=>o(x.target.value),placeholder:"",required:!0,className:"mt-1 h-12 border-slate-200 focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500","data-testid":"password-input"})]}),E.jsx(Je,{type:"submit",disabled:u,className:"w-full h-12 bg-slate-900 hover:bg-slate-800 text-white font-medium text-base","data-testid":"login-button",children:u?"Signing in...":"Sign In"})]}),E.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[E.jsx("p",{className:"text-sm text-slate-600 font-medium mb-2",children:"Kredensial Demo:"}),E.jsxs("p",{className:"text-sm text-slate-700",children:["Email: ",E.jsx("span",{className:"font-mono",children:"admin@kolamuny.ac.id"})]}),E.jsxs("p",{className:"text-sm text-slate-700",children:["Password: ",E.jsx("span",{className:"font-mono",children:"admin123"})]})]})]})})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,o)=>o?o.toUpperCase():r.toLowerCase()),gy=t=>{const e=RT(t);return e.charAt(0).toUpperCase()+e.slice(1)},xb=(...t)=>t.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim(),OT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:p,...b},w)=>N.createElement("svg",{ref:w,...IT,width:e,height:e,stroke:t,strokeWidth:o?Number(r)*24/Number(e):r,className:xb("lucide",u),...!d&&!OT(b)&&{"aria-hidden":"true"},...b},[...p.map(([x,_])=>N.createElement(x,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const r=N.forwardRef(({className:o,...u},d)=>N.createElement(DT,{ref:d,iconNode:e,className:xb(`lucide-${NT(gy(t))}`,`lucide-${t}`,o),...u}));return r.displayName=gy(t),r};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kT=Pt("activity",MT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jT=Pt("calendar",LT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],PT=Pt("chart-column",BT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FT=Pt("check",UT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yb=Pt("chevron-down",zT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],VT=Pt("chevron-left",HT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YT=Pt("chevron-right",GT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XT=Pt("chevron-up",qT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bb=Pt("circle-alert",WT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZT=Pt("circle-check-big",KT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],QT=Pt("circle-x",$T);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Hd=Pt("clock",JT);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],t8=Pt("dollar-sign",e8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],r8=Pt("file-spreadsheet",n8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],i8=Pt("layout-dashboard",a8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],V1=Pt("log-out",s8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l1=Pt("map-pin",o8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],c8=Pt("menu",l8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M5 12h14",key:"1ays0h"}]],d8=Pt("minus",u8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],c1=Pt("package",f8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],g8=Pt("pencil",h8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ja=Pt("plus",m8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],wb=Pt("printer",p8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],my=Pt("scan",x8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],py=Pt("shopping-cart",y8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sf=Pt("square-pen",b8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],of=Pt("ticket",w8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],G1=Pt("trash-2",v8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],xy=Pt("user-check",E8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],yy=Pt("user-x",S8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Y1=Pt("users",A8);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q1=Pt("x",C8),_8=()=>{var w;const{user:t,logout:e}=Tl(),r=ji(),o=po(),[u,d]=N.useState(!1),p=[{path:"/admin",label:"Dashboard",icon:i8},{path:"/admin/users",label:"Staff Management",icon:Y1},{path:"/admin/categories",label:"Categories",icon:of},{path:"/admin/sessions",label:"Sessions",icon:Hd},{path:"/admin/packages",label:"Packages",icon:c1},{path:"/admin/locations",label:"Locations",icon:l1},{path:"/admin/reports",label:"Reports",icon:PT}],b=()=>{e(),o("/login")};return E.jsxs("div",{className:"flex h-screen bg-slate-50","data-testid":"admin-dashboard",children:[E.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white transform transition-transform duration-200 ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800",children:[E.jsx("h1",{className:"text-2xl font-bold",style:{fontFamily:"Outfit"},children:"Kolam Renang UNY"}),E.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Admin Panel"})]}),E.jsx("nav",{className:"flex-1 p-4 space-y-2 sidebar-nav",children:p.map(x=>{const _=x.icon,C=r.pathname===x.path;return E.jsxs(M1,{to:x.path,onClick:()=>d(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg ${C?"bg-sky-500 text-white":"text-slate-300 hover:bg-slate-800"}`,"data-testid":`nav-${x.label.toLowerCase().replace(/\s+/g,"-")}`,children:[E.jsx(_,{className:"w-5 h-5"}),E.jsx("span",{className:"font-medium",children:x.label})]},x.path)})}),E.jsxs("div",{className:"p-4 border-t border-slate-800",children:[E.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[E.jsx("div",{className:"w-10 h-10 bg-sky-500 rounded-full flex items-center justify-center font-bold",children:(w=t==null?void 0:t.name)==null?void 0:w.charAt(0)}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium truncate",children:t==null?void 0:t.name}),E.jsx("p",{className:"text-xs text-slate-400 truncate",children:t==null?void 0:t.email})]})]}),E.jsxs(Je,{onClick:b,variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-white hover:bg-slate-800","data-testid":"logout-button",children:[E.jsx(V1,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),u&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>d(!1)}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("header",{className:"lg:hidden bg-white border-b border-slate-200 p-4 flex items-center justify-between",children:[E.jsx("h1",{className:"text-xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Kolam Renang UNY"}),E.jsx(Je,{variant:"ghost",size:"icon",onClick:()=>d(!u),children:u?E.jsx(q1,{className:"w-6 h-6"}):E.jsx(c8,{className:"w-6 h-6"})})]}),E.jsx("main",{className:"flex-1 overflow-auto p-6",children:E.jsx(mS,{})})]})]})},Kn=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Kn.displayName="Card";const T8=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("flex flex-col space-y-1.5 p-6",t),...e}));T8.displayName="CardHeader";const N8=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("font-semibold leading-none tracking-tight",t),...e}));N8.displayName="CardTitle";const R8=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("text-sm text-muted-foreground",t),...e}));R8.displayName="CardDescription";const O8=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("p-6 pt-0",t),...e}));O8.displayName="CardContent";const I8=N.forwardRef(({className:t,...e},r)=>E.jsx("div",{ref:r,className:rn("flex items-center p-6 pt-0",t),...e}));I8.displayName="CardFooter";const vb=async()=>{const{data:t,error:e}=await It.from("users").select("id, email, name, role, is_active, created_at, updated_at").order("created_at",{ascending:!1});if(e)throw e;return t},D8=async t=>{const e=await z1.hash(t.password,12),{data:r,error:o}=await It.from("users").insert({email:t.email,password_hash:e,name:t.name,role:t.role,is_active:!0}).select("id, email, name, role, is_active, created_at").single();if(o)throw o;return r},M8=async(t,e)=>{const r={name:e.name,role:e.role,is_active:e.is_active};e.password&&(r.password_hash=await z1.hash(e.password,12));const{data:o,error:u}=await It.from("users").update(r).eq("id",t).select("id, email, name, role, is_active, created_at").single();if(u)throw u;return o},k8=async t=>{const{data:e,error:r}=await It.from("users").update({is_active:!1}).eq("id",t).select().single();if(r)throw r;return e},L8=async t=>{const{data:e,error:r}=await It.from("users").update({is_active:!0}).eq("id",t).select().single();if(r)throw r;return e},Eb=async t=>{const e=`${t}T00:00:00`,r=`${t}T23:59:59`,{data:o,error:u}=await It.from("tickets").select("*").gte("created_at",e).lte("created_at",r);if(u)throw u;const d=o.length,p=o.filter(C=>C.status==="USED").length,b=o.reduce((C,D)=>C+parseFloat(D.price),0),w={};o.forEach(C=>{w[C.category_name]||(w[C.category_name]={count:0,revenue:0}),w[C.category_name].count++,w[C.category_name].revenue+=parseFloat(C.price)});const x={};o.forEach(C=>{x[C.shift]||(x[C.shift]={count:0,revenue:0}),x[C.shift].count++,x[C.shift].revenue+=parseFloat(C.price)});const _={};return o.forEach(C=>{_[C.created_by_name]||(_[C.created_by_name]={count:0,revenue:0}),_[C.created_by_name].count++,_[C.created_by_name].revenue+=parseFloat(C.price)}),{date:t,tickets_sold:d,tickets_scanned:p,total_revenue:b,tickets:o,by_category:Object.entries(w).map(([C,D])=>({_id:C,count:D.count,revenue:D.revenue})),by_staff:Object.entries(_).map(([C,D])=>({staff_name:C,count:D.count,revenue:D.revenue}))}},j8=async(t,e)=>{const r=`${t}-${String(e).padStart(2,"0")}-01T00:00:00`,o=new Date(t,e,0).getDate(),u=`${t}-${String(e).padStart(2,"0")}-${o}T23:59:59`,{data:d,error:p}=await It.from("tickets").select("*").gte("created_at",r).lte("created_at",u);if(p)throw p;const b=d.length,w=d.filter(M=>M.status==="USED").length,x=d.reduce((M,P)=>M+parseFloat(P.price),0),_={};d.forEach(M=>{_[M.category_name]||(_[M.category_name]={count:0,revenue:0,scanned:0}),_[M.category_name].count++,_[M.category_name].revenue+=parseFloat(M.price),M.status==="USED"&&_[M.category_name].scanned++});const C={};d.forEach(M=>{const P=M.created_at.split("T")[0];C[P]||(C[P]={count:0,revenue:0}),C[P].count++,C[P].revenue+=parseFloat(M.price)});const D={};return d.forEach(M=>{D[M.created_by_name]||(D[M.created_by_name]={count:0,revenue:0}),D[M.created_by_name].count++,D[M.created_by_name].revenue+=parseFloat(M.price)}),{year:t,month:e,tickets_sold:b,tickets_scanned:w,total_revenue:x,tickets:d,by_category:Object.entries(_).map(([M,P])=>({_id:M,count:P.count,revenue:P.revenue,scanned:P.scanned})),by_day:Object.entries(C).map(([M,P])=>({date:M,count:P.count,revenue:P.revenue})).sort((M,P)=>M.date.localeCompare(P.date)),by_staff:Object.entries(D).map(([M,P])=>({staff_name:M,count:P.count,revenue:P.revenue}))}},B8=async t=>{const e=`${t}T00:00:00`,r=`${t}T23:59:59`,{data:o,error:u}=await It.from("tickets").select("*").gte("created_at",e).lte("created_at",r);if(u)throw u;const d={};return o.forEach(p=>{d[p.batch_id]||(d[p.batch_id]={batch_id:p.batch_id,created_at:p.created_at,created_by_name:p.created_by_name,shift:p.shift,tickets:[],total_tickets:0,total_revenue:0}),d[p.batch_id].tickets.push(p),d[p.batch_id].total_tickets++,d[p.batch_id].total_revenue+=parseFloat(p.price)}),Object.values(d).sort((p,b)=>new Date(b.created_at)-new Date(p.created_at))},P8=()=>{const t=po(),[e,r]=N.useState({totalStaff:0,todayTickets:0,todayRevenue:0,todayScans:0}),[o,u]=N.useState(!0);N.useEffect(()=>{d()},[]);const d=async()=>{try{const b=new Date().toISOString().split("T")[0],[w,x]=await Promise.all([vb(),Eb(b)]);r({totalStaff:w.filter(_=>_.is_active).length,todayTickets:(x==null?void 0:x.tickets_sold)||0,todayRevenue:(x==null?void 0:x.total_revenue)||0,todayScans:(x==null?void 0:x.tickets_scanned)||0})}catch(b){console.error(b),ot.error("Failed to load dashboard data")}finally{u(!1)}},p=[{label:"Active Staff",value:e.totalStaff,icon:Y1,color:"bg-blue-500"},{label:"Today's Tickets",value:e.todayTickets,icon:of,color:"bg-emerald-500"},{label:"Today's Revenue",value:`Rp ${e.todayRevenue.toLocaleString()}`,icon:t8,color:"bg-amber-500"},{label:"Tickets Scanned",value:e.todayScans,icon:kT,color:"bg-purple-500"}];return o?E.jsx("div",{className:"flex items-center justify-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",style:{fontFamily:"Outfit"},children:"Dashboard"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Welcome back! Here's your pool operations overview."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((b,w)=>{const x=b.icon;return E.jsx(Kn,{className:"p-6 stat-card","data-testid":`stat-${b.label.toLowerCase().replace(/[^a-z]+/g,"-")}`,children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-slate-600 mb-1",children:b.label}),E.jsx("p",{className:"text-3xl font-bold text-slate-900",children:b.value})]}),E.jsx("div",{className:`${b.color} p-3 rounded-lg`,children:E.jsx(x,{className:"w-6 h-6 text-white"})})]})},w)})}),E.jsxs(Kn,{className:"p-6",children:[E.jsx("h2",{className:"text-2xl font-semibold text-slate-900 mb-4",style:{fontFamily:"Outfit"},children:"Quick Actions"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsx(Je,{className:"h-20 bg-slate-900 hover:bg-slate-800","data-testid":"view-reports-button",onClick:()=>t("/admin/reports"),children:"View Today's Report"}),E.jsx(Je,{variant:"outline",className:"h-20","data-testid":"manage-staff-button",onClick:()=>t("/admin/users"),children:"Manage Staff"}),E.jsx(Je,{variant:"outline",className:"h-20","data-testid":"update-prices-button",onClick:()=>t("/admin/categories"),children:"Update Prices"})]})]}),E.jsxs(Kn,{className:"p-6",children:[E.jsx("h2",{className:"text-2xl font-semibold text-slate-900 mb-4",style:{fontFamily:"Outfit"},children:"System Status"}),E.jsx("div",{className:"space-y-3",children:E.jsx("div",{className:"flex items-center justify-between p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),E.jsx("span",{className:"text-slate-700 font-medium",children:"All systems operational"})]})})})]})]})};function by(t,[e,r]){return Math.min(r,Math.max(e,t))}function Nt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(u){if(t==null||t(u),r===!1||!u.defaultPrevented)return e==null?void 0:e(u)}}function U8(t,e){const r=N.createContext(e),o=d=>{const{children:p,...b}=d,w=N.useMemo(()=>b,Object.values(b));return E.jsx(r.Provider,{value:w,children:p})};o.displayName=t+"Provider";function u(d){const p=N.useContext(r);if(p)return p;if(e!==void 0)return e;throw new Error(`\`${d}\` must be used within \`${t}\``)}return[o,u]}function xo(t,e=[]){let r=[];function o(d,p){const b=N.createContext(p),w=r.length;r=[...r,p];const x=C=>{var j;const{scope:D,children:M,...P}=C,I=((j=D==null?void 0:D[t])==null?void 0:j[w])||b,B=N.useMemo(()=>P,Object.values(P));return E.jsx(I.Provider,{value:B,children:M})};x.displayName=d+"Provider";function _(C,D){var I;const M=((I=D==null?void 0:D[t])==null?void 0:I[w])||b,P=N.useContext(M);if(P)return P;if(p!==void 0)return p;throw new Error(`\`${C}\` must be used within \`${d}\``)}return[x,_]}const u=()=>{const d=r.map(p=>N.createContext(p));return function(b){const w=(b==null?void 0:b[t])||d;return N.useMemo(()=>({[`__scope${t}`]:{...b,[t]:w}}),[b,w])}};return u.scopeName=t,[o,F8(u,...e)]}function F8(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const o=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(d){const p=o.reduce((b,{useScope:w,scopeName:x})=>{const C=w(d)[`__scope${x}`];return{...b,...C}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return r.scopeName=e.scopeName,r}function wy(t){const e=z8(t),r=N.forwardRef((o,u)=>{const{children:d,...p}=o,b=N.Children.toArray(d),w=b.find(V8);if(w){const x=w.props.children,_=b.map(C=>C===w?N.Children.count(x)>1?N.Children.only(null):N.isValidElement(x)?x.props.children:null:C);return E.jsx(e,{...p,ref:u,children:N.isValidElement(x)?N.cloneElement(x,void 0,_):null})}return E.jsx(e,{...p,ref:u,children:d})});return r.displayName=`${t}.Slot`,r}function z8(t){const e=N.forwardRef((r,o)=>{const{children:u,...d}=r;if(N.isValidElement(u)){const p=Y8(u),b=G8(d,u.props);return u.type!==N.Fragment&&(b.ref=o?Nl(o,p):p),N.cloneElement(u,b)}return N.Children.count(u)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H8=Symbol("radix.slottable");function V8(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H8}function G8(t,e){const r={...e};for(const o in e){const u=t[o],d=e[o];/^on[A-Z]/.test(o)?u&&d?r[o]=(...b)=>{const w=d(...b);return u(...b),w}:u&&(r[o]=u):o==="style"?r[o]={...u,...d}:o==="className"&&(r[o]=[u,d].filter(Boolean).join(" "))}return{...t,...r}}function Y8(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Sb(t){const e=t+"CollectionProvider",[r,o]=xo(e),[u,d]=r(e,{collectionRef:{current:null},itemMap:new Map}),p=I=>{const{scope:B,children:j}=I,H=Ie.useRef(null),F=Ie.useRef(new Map).current;return E.jsx(u,{scope:B,itemMap:F,collectionRef:H,children:j})};p.displayName=e;const b=t+"CollectionSlot",w=wy(b),x=Ie.forwardRef((I,B)=>{const{scope:j,children:H}=I,F=d(b,j),Q=En(B,F.collectionRef);return E.jsx(w,{ref:Q,children:H})});x.displayName=b;const _=t+"CollectionItemSlot",C="data-radix-collection-item",D=wy(_),M=Ie.forwardRef((I,B)=>{const{scope:j,children:H,...F}=I,Q=Ie.useRef(null),ce=En(B,Q),se=d(_,j);return Ie.useEffect(()=>(se.itemMap.set(Q,{ref:Q,...F}),()=>void se.itemMap.delete(Q))),E.jsx(D,{[C]:"",ref:ce,children:H})});M.displayName=_;function P(I){const B=d(t+"CollectionConsumer",I);return Ie.useCallback(()=>{const H=B.collectionRef.current;if(!H)return[];const F=Array.from(H.querySelectorAll(`[${C}]`));return Array.from(B.itemMap.values()).sort((se,Y)=>F.indexOf(se.ref.current)-F.indexOf(Y.ref.current))},[B.collectionRef,B.itemMap])}return[{Provider:p,Slot:x,ItemSlot:M},P,o]}var q8=N.createContext(void 0);function X1(t){const e=N.useContext(q8);return t||e||"ltr"}function X8(t){const e=W8(t),r=N.forwardRef((o,u)=>{const{children:d,...p}=o,b=N.Children.toArray(d),w=b.find(Z8);if(w){const x=w.props.children,_=b.map(C=>C===w?N.Children.count(x)>1?N.Children.only(null):N.isValidElement(x)?x.props.children:null:C);return E.jsx(e,{...p,ref:u,children:N.isValidElement(x)?N.cloneElement(x,void 0,_):null})}return E.jsx(e,{...p,ref:u,children:d})});return r.displayName=`${t}.Slot`,r}function W8(t){const e=N.forwardRef((r,o)=>{const{children:u,...d}=r;if(N.isValidElement(u)){const p=Q8(u),b=$8(d,u.props);return u.type!==N.Fragment&&(b.ref=o?Nl(o,p):p),N.cloneElement(u,b)}return N.Children.count(u)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var K8=Symbol("radix.slottable");function Z8(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K8}function $8(t,e){const r={...e};for(const o in e){const u=t[o],d=e[o];/^on[A-Z]/.test(o)?u&&d?r[o]=(...b)=>{const w=d(...b);return u(...b),w}:u&&(r[o]=u):o==="style"?r[o]={...u,...d}:o==="className"&&(r[o]=[u,d].filter(Boolean).join(" "))}return{...t,...r}}function Q8(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var J8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=J8.reduce((t,e)=>{const r=X8(`Primitive.${e}`),o=N.forwardRef((u,d)=>{const{asChild:p,...b}=u,w=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(w,{...b,ref:d})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function e6(t,e){t&&Gc.flushSync(()=>t.dispatchEvent(e))}function Ns(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var o;return(o=e.current)==null?void 0:o.call(e,...r)},[])}function t6(t,e=globalThis==null?void 0:globalThis.document){const r=Ns(t);N.useEffect(()=>{const o=u=>{u.key==="Escape"&&r(u)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[r,e])}var n6="DismissableLayer",u1="dismissableLayer.update",r6="dismissableLayer.pointerDownOutside",a6="dismissableLayer.focusOutside",vy,Ab=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W1=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:b,...w}=t,x=N.useContext(Ab),[_,C]=N.useState(null),D=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,M]=N.useState({}),P=En(e,Y=>C(Y)),I=Array.from(x.layers),[B]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),j=I.indexOf(B),H=_?I.indexOf(_):-1,F=x.layersWithOutsidePointerEventsDisabled.size>0,Q=H>=j,ce=o6(Y=>{const X=Y.target,ne=[...x.branches].some(De=>De.contains(X));!Q||ne||(u==null||u(Y),p==null||p(Y),Y.defaultPrevented||b==null||b())},D),se=l6(Y=>{const X=Y.target;[...x.branches].some(De=>De.contains(X))||(d==null||d(Y),p==null||p(Y),Y.defaultPrevented||b==null||b())},D);return t6(Y=>{H===x.layers.size-1&&(o==null||o(Y),!Y.defaultPrevented&&b&&(Y.preventDefault(),b()))},D),N.useEffect(()=>{if(_)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(vy=D.body.style.pointerEvents,D.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(_)),x.layers.add(_),Ey(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(D.body.style.pointerEvents=vy)}},[_,D,r,x]),N.useEffect(()=>()=>{_&&(x.layers.delete(_),x.layersWithOutsidePointerEventsDisabled.delete(_),Ey())},[_,x]),N.useEffect(()=>{const Y=()=>M({});return document.addEventListener(u1,Y),()=>document.removeEventListener(u1,Y)},[]),E.jsx(Dt.div,{...w,ref:P,style:{pointerEvents:F?Q?"auto":"none":void 0,...t.style},onFocusCapture:Nt(t.onFocusCapture,se.onFocusCapture),onBlurCapture:Nt(t.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Nt(t.onPointerDownCapture,ce.onPointerDownCapture)})});W1.displayName=n6;var i6="DismissableLayerBranch",s6=N.forwardRef((t,e)=>{const r=N.useContext(Ab),o=N.useRef(null),u=En(e,o);return N.useEffect(()=>{const d=o.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),E.jsx(Dt.div,{...t,ref:u})});s6.displayName=i6;function o6(t,e=globalThis==null?void 0:globalThis.document){const r=Ns(t),o=N.useRef(!1),u=N.useRef(()=>{});return N.useEffect(()=>{const d=b=>{if(b.target&&!o.current){let w=function(){Cb(r6,r,x,{discrete:!0})};const x={originalEvent:b};b.pointerType==="touch"?(e.removeEventListener("click",u.current),u.current=w,e.addEventListener("click",u.current,{once:!0})):w()}else e.removeEventListener("click",u.current);o.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",d),e.removeEventListener("click",u.current)}},[e,r]),{onPointerDownCapture:()=>o.current=!0}}function l6(t,e=globalThis==null?void 0:globalThis.document){const r=Ns(t),o=N.useRef(!1);return N.useEffect(()=>{const u=d=>{d.target&&!o.current&&Cb(a6,r,{originalEvent:d},{discrete:!1})};return e.addEventListener("focusin",u),()=>e.removeEventListener("focusin",u)},[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ey(){const t=new CustomEvent(u1);document.dispatchEvent(t)}function Cb(t,e,r,{discrete:o}){const u=r.originalEvent.target,d=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&u.addEventListener(t,e,{once:!0}),o?e6(u,d):u.dispatchEvent(d)}var L0=0;function _b(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sy()),document.body.insertAdjacentElement("beforeend",t[1]??Sy()),L0++,()=>{L0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),L0--}},[])}function Sy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var j0="focusScope.autoFocusOnMount",B0="focusScope.autoFocusOnUnmount",Ay={bubbles:!1,cancelable:!0},c6="FocusScope",K1=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:u,onUnmountAutoFocus:d,...p}=t,[b,w]=N.useState(null),x=Ns(u),_=Ns(d),C=N.useRef(null),D=En(e,I=>w(I)),M=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(o){let I=function(F){if(M.paused||!b)return;const Q=F.target;b.contains(Q)?C.current=Q:Ss(C.current,{select:!0})},B=function(F){if(M.paused||!b)return;const Q=F.relatedTarget;Q!==null&&(b.contains(Q)||Ss(C.current,{select:!0}))},j=function(F){if(document.activeElement===document.body)for(const ce of F)ce.removedNodes.length>0&&Ss(b)};document.addEventListener("focusin",I),document.addEventListener("focusout",B);const H=new MutationObserver(j);return b&&H.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",B),H.disconnect()}}},[o,b,M.paused]),N.useEffect(()=>{if(b){_y.add(M);const I=document.activeElement;if(!b.contains(I)){const j=new CustomEvent(j0,Ay);b.addEventListener(j0,x),b.dispatchEvent(j),j.defaultPrevented||(u6(m6(Tb(b)),{select:!0}),document.activeElement===I&&Ss(b))}return()=>{b.removeEventListener(j0,x),setTimeout(()=>{const j=new CustomEvent(B0,Ay);b.addEventListener(B0,_),b.dispatchEvent(j),j.defaultPrevented||Ss(I??document.body,{select:!0}),b.removeEventListener(B0,_),_y.remove(M)},0)}}},[b,x,_,M]);const P=N.useCallback(I=>{if(!r&&!o||M.paused)return;const B=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,j=document.activeElement;if(B&&j){const H=I.currentTarget,[F,Q]=d6(H);F&&Q?!I.shiftKey&&j===Q?(I.preventDefault(),r&&Ss(F,{select:!0})):I.shiftKey&&j===F&&(I.preventDefault(),r&&Ss(Q,{select:!0})):j===H&&I.preventDefault()}},[r,o,M.paused]);return E.jsx(Dt.div,{tabIndex:-1,...p,ref:D,onKeyDown:P})});K1.displayName=c6;function u6(t,{select:e=!1}={}){const r=document.activeElement;for(const o of t)if(Ss(o,{select:e}),document.activeElement!==r)return}function d6(t){const e=Tb(t),r=Cy(e,t),o=Cy(e.reverse(),t);return[r,o]}function Tb(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const u=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||u?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cy(t,e){for(const r of t)if(!f6(r,{upTo:e}))return r}function f6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h6(t){return t instanceof HTMLInputElement&&"select"in t}function Ss(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&h6(t)&&e&&t.select()}}var _y=g6();function g6(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Ty(t,e),t.unshift(e)},remove(e){var r;t=Ty(t,e),(r=t[0])==null||r.resume()}}}function Ty(t,e){const r=[...t],o=r.indexOf(e);return o!==-1&&r.splice(o,1),r}function m6(t){return t.filter(e=>e.tagName!=="A")}var yr=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},p6=C1[" useId ".trim().toString()]||(()=>{}),x6=0;function Ts(t){const[e,r]=N.useState(p6());return yr(()=>{r(o=>o??String(x6++))},[t]),e?`radix-${e}`:""}const y6=["top","right","bottom","left"],Rs=Math.min,ta=Math.max,Vd=Math.round,Sd=Math.floor,ti=t=>({x:t,y:t}),b6={left:"right",right:"left",bottom:"top",top:"bottom"},w6={start:"end",end:"start"};function d1(t,e,r){return ta(t,Rs(e,r))}function ki(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function Il(t){return t.split("-")[1]}function Z1(t){return t==="x"?"y":"x"}function $1(t){return t==="y"?"height":"width"}const v6=new Set(["top","bottom"]);function ei(t){return v6.has(Li(t))?"y":"x"}function Q1(t){return Z1(ei(t))}function E6(t,e,r){r===void 0&&(r=!1);const o=Il(t),u=Q1(t),d=$1(u);let p=u==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[d]>e.floating[d]&&(p=Gd(p)),[p,Gd(p)]}function S6(t){const e=Gd(t);return[f1(t),e,f1(e)]}function f1(t){return t.replace(/start|end/g,e=>w6[e])}const Ny=["left","right"],Ry=["right","left"],A6=["top","bottom"],C6=["bottom","top"];function _6(t,e,r){switch(t){case"top":case"bottom":return r?e?Ry:Ny:e?Ny:Ry;case"left":case"right":return e?A6:C6;default:return[]}}function T6(t,e,r,o){const u=Il(t);let d=_6(Li(t),r==="start",o);return u&&(d=d.map(p=>p+"-"+u),e&&(d=d.concat(d.map(f1)))),d}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>b6[e])}function N6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nb(t){return typeof t!="number"?N6(t):{top:t,right:t,bottom:t,left:t}}function Yd(t){const{x:e,y:r,width:o,height:u}=t;return{width:o,height:u,top:r,left:e,right:e+o,bottom:r+u,x:e,y:r}}function Oy(t,e,r){let{reference:o,floating:u}=t;const d=ei(e),p=Q1(e),b=$1(p),w=Li(e),x=d==="y",_=o.x+o.width/2-u.width/2,C=o.y+o.height/2-u.height/2,D=o[b]/2-u[b]/2;let M;switch(w){case"top":M={x:_,y:o.y-u.height};break;case"bottom":M={x:_,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:C};break;case"left":M={x:o.x-u.width,y:C};break;default:M={x:o.x,y:o.y}}switch(Il(e)){case"start":M[p]-=D*(r&&x?-1:1);break;case"end":M[p]+=D*(r&&x?-1:1);break}return M}const R6=async(t,e,r)=>{const{placement:o="bottom",strategy:u="absolute",middleware:d=[],platform:p}=r,b=d.filter(Boolean),w=await(p.isRTL==null?void 0:p.isRTL(e));let x=await p.getElementRects({reference:t,floating:e,strategy:u}),{x:_,y:C}=Oy(x,o,w),D=o,M={},P=0;for(let I=0;I<b.length;I++){const{name:B,fn:j}=b[I],{x:H,y:F,data:Q,reset:ce}=await j({x:_,y:C,initialPlacement:o,placement:D,strategy:u,middlewareData:M,rects:x,platform:p,elements:{reference:t,floating:e}});_=H??_,C=F??C,M={...M,[B]:{...M[B],...Q}},ce&&P<=50&&(P++,typeof ce=="object"&&(ce.placement&&(D=ce.placement),ce.rects&&(x=ce.rects===!0?await p.getElementRects({reference:t,floating:e,strategy:u}):ce.rects),{x:_,y:C}=Oy(x,D,w)),I=-1)}return{x:_,y:C,placement:D,strategy:u,middlewareData:M}};async function Fc(t,e){var r;e===void 0&&(e={});const{x:o,y:u,platform:d,rects:p,elements:b,strategy:w}=t,{boundary:x="clippingAncestors",rootBoundary:_="viewport",elementContext:C="floating",altBoundary:D=!1,padding:M=0}=ki(e,t),P=Nb(M),B=b[D?C==="floating"?"reference":"floating":C],j=Yd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(B)))==null||r?B:B.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(b.floating)),boundary:x,rootBoundary:_,strategy:w})),H=C==="floating"?{x:o,y:u,width:p.floating.width,height:p.floating.height}:p.reference,F=await(d.getOffsetParent==null?void 0:d.getOffsetParent(b.floating)),Q=await(d.isElement==null?void 0:d.isElement(F))?await(d.getScale==null?void 0:d.getScale(F))||{x:1,y:1}:{x:1,y:1},ce=Yd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:H,offsetParent:F,strategy:w}):H);return{top:(j.top-ce.top+P.top)/Q.y,bottom:(ce.bottom-j.bottom+P.bottom)/Q.y,left:(j.left-ce.left+P.left)/Q.x,right:(ce.right-j.right+P.right)/Q.x}}const O6=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:o,placement:u,rects:d,platform:p,elements:b,middlewareData:w}=e,{element:x,padding:_=0}=ki(t,e)||{};if(x==null)return{};const C=Nb(_),D={x:r,y:o},M=Q1(u),P=$1(M),I=await p.getDimensions(x),B=M==="y",j=B?"top":"left",H=B?"bottom":"right",F=B?"clientHeight":"clientWidth",Q=d.reference[P]+d.reference[M]-D[M]-d.floating[P],ce=D[M]-d.reference[M],se=await(p.getOffsetParent==null?void 0:p.getOffsetParent(x));let Y=se?se[F]:0;(!Y||!await(p.isElement==null?void 0:p.isElement(se)))&&(Y=b.floating[F]||d.floating[P]);const X=Q/2-ce/2,ne=Y/2-I[P]/2-1,De=Rs(C[j],ne),Le=Rs(C[H],ne),Ae=De,Me=Y-I[P]-Le,je=Y/2-I[P]/2+X,re=d1(Ae,je,Me),K=!w.arrow&&Il(u)!=null&&je!==re&&d.reference[P]/2-(je<Ae?De:Le)-I[P]/2<0,q=K?je<Ae?je-Ae:je-Me:0;return{[M]:D[M]+q,data:{[M]:re,centerOffset:je-re-q,...K&&{alignmentOffset:q}},reset:K}}}),I6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,o;const{placement:u,middlewareData:d,rects:p,initialPlacement:b,platform:w,elements:x}=e,{mainAxis:_=!0,crossAxis:C=!0,fallbackPlacements:D,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:I=!0,...B}=ki(t,e);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const j=Li(u),H=ei(b),F=Li(b)===b,Q=await(w.isRTL==null?void 0:w.isRTL(x.floating)),ce=D||(F||!I?[Gd(b)]:S6(b)),se=P!=="none";!D&&se&&ce.push(...T6(b,I,P,Q));const Y=[b,...ce],X=await Fc(e,B),ne=[];let De=((o=d.flip)==null?void 0:o.overflows)||[];if(_&&ne.push(X[j]),C){const je=E6(u,p,Q);ne.push(X[je[0]],X[je[1]])}if(De=[...De,{placement:u,overflows:ne}],!ne.every(je=>je<=0)){var Le,Ae;const je=(((Le=d.flip)==null?void 0:Le.index)||0)+1,re=Y[je];if(re&&(!(C==="alignment"?H!==ei(re):!1)||De.every(te=>ei(te.placement)===H?te.overflows[0]>0:!0)))return{data:{index:je,overflows:De},reset:{placement:re}};let K=(Ae=De.filter(q=>q.overflows[0]<=0).sort((q,te)=>q.overflows[1]-te.overflows[1])[0])==null?void 0:Ae.placement;if(!K)switch(M){case"bestFit":{var Me;const q=(Me=De.filter(te=>{if(se){const Oe=ei(te.placement);return Oe===H||Oe==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(Oe=>Oe>0).reduce((Oe,Be)=>Oe+Be,0)]).sort((te,Oe)=>te[1]-Oe[1])[0])==null?void 0:Me[0];q&&(K=q);break}case"initialPlacement":K=b;break}if(u!==K)return{reset:{placement:K}}}return{}}}};function Iy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dy(t){return y6.some(e=>t[e]>=0)}const D6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:o="referenceHidden",...u}=ki(t,e);switch(o){case"referenceHidden":{const d=await Fc(e,{...u,elementContext:"reference"}),p=Iy(d,r.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:Dy(p)}}}case"escaped":{const d=await Fc(e,{...u,altBoundary:!0}),p=Iy(d,r.floating);return{data:{escapedOffsets:p,escaped:Dy(p)}}}default:return{}}}}},Rb=new Set(["left","top"]);async function M6(t,e){const{placement:r,platform:o,elements:u}=t,d=await(o.isRTL==null?void 0:o.isRTL(u.floating)),p=Li(r),b=Il(r),w=ei(r)==="y",x=Rb.has(p)?-1:1,_=d&&w?-1:1,C=ki(e,t);let{mainAxis:D,crossAxis:M,alignmentAxis:P}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return b&&typeof P=="number"&&(M=b==="end"?P*-1:P),w?{x:M*_,y:D*x}:{x:D*x,y:M*_}}const k6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,o;const{x:u,y:d,placement:p,middlewareData:b}=e,w=await M6(e,t);return p===((r=b.offset)==null?void 0:r.placement)&&(o=b.arrow)!=null&&o.alignmentOffset?{}:{x:u+w.x,y:d+w.y,data:{...w,placement:p}}}}},L6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:o,placement:u}=e,{mainAxis:d=!0,crossAxis:p=!1,limiter:b={fn:B=>{let{x:j,y:H}=B;return{x:j,y:H}}},...w}=ki(t,e),x={x:r,y:o},_=await Fc(e,w),C=ei(Li(u)),D=Z1(C);let M=x[D],P=x[C];if(d){const B=D==="y"?"top":"left",j=D==="y"?"bottom":"right",H=M+_[B],F=M-_[j];M=d1(H,M,F)}if(p){const B=C==="y"?"top":"left",j=C==="y"?"bottom":"right",H=P+_[B],F=P-_[j];P=d1(H,P,F)}const I=b.fn({...e,[D]:M,[C]:P});return{...I,data:{x:I.x-r,y:I.y-o,enabled:{[D]:d,[C]:p}}}}}},j6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:o,placement:u,rects:d,middlewareData:p}=e,{offset:b=0,mainAxis:w=!0,crossAxis:x=!0}=ki(t,e),_={x:r,y:o},C=ei(u),D=Z1(C);let M=_[D],P=_[C];const I=ki(b,e),B=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(w){const F=D==="y"?"height":"width",Q=d.reference[D]-d.floating[F]+B.mainAxis,ce=d.reference[D]+d.reference[F]-B.mainAxis;M<Q?M=Q:M>ce&&(M=ce)}if(x){var j,H;const F=D==="y"?"width":"height",Q=Rb.has(Li(u)),ce=d.reference[C]-d.floating[F]+(Q&&((j=p.offset)==null?void 0:j[C])||0)+(Q?0:B.crossAxis),se=d.reference[C]+d.reference[F]+(Q?0:((H=p.offset)==null?void 0:H[C])||0)-(Q?B.crossAxis:0);P<ce?P=ce:P>se&&(P=se)}return{[D]:M,[C]:P}}}},B6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,o;const{placement:u,rects:d,platform:p,elements:b}=e,{apply:w=()=>{},...x}=ki(t,e),_=await Fc(e,x),C=Li(u),D=Il(u),M=ei(u)==="y",{width:P,height:I}=d.floating;let B,j;C==="top"||C==="bottom"?(B=C,j=D===(await(p.isRTL==null?void 0:p.isRTL(b.floating))?"start":"end")?"left":"right"):(j=C,B=D==="end"?"top":"bottom");const H=I-_.top-_.bottom,F=P-_.left-_.right,Q=Rs(I-_[B],H),ce=Rs(P-_[j],F),se=!e.middlewareData.shift;let Y=Q,X=ce;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(X=F),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(Y=H),se&&!D){const De=ta(_.left,0),Le=ta(_.right,0),Ae=ta(_.top,0),Me=ta(_.bottom,0);M?X=P-2*(De!==0||Le!==0?De+Le:ta(_.left,_.right)):Y=I-2*(Ae!==0||Me!==0?Ae+Me:ta(_.top,_.bottom))}await w({...e,availableWidth:X,availableHeight:Y});const ne=await p.getDimensions(b.floating);return P!==ne.width||I!==ne.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function Dl(t){return Ob(t)?(t.nodeName||"").toLowerCase():"#document"}function ia(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ri(t){var e;return(e=(Ob(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ob(t){return lf()?t instanceof Node||t instanceof ia(t).Node:!1}function Ba(t){return lf()?t instanceof Element||t instanceof ia(t).Element:!1}function ni(t){return lf()?t instanceof HTMLElement||t instanceof ia(t).HTMLElement:!1}function My(t){return!lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ia(t).ShadowRoot}const P6=new Set(["inline","contents"]);function qc(t){const{overflow:e,overflowX:r,overflowY:o,display:u}=Pa(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+r)&&!P6.has(u)}const U6=new Set(["table","td","th"]);function F6(t){return U6.has(Dl(t))}const z6=[":popover-open",":modal"];function cf(t){return z6.some(e=>{try{return t.matches(e)}catch{return!1}})}const H6=["transform","translate","scale","rotate","perspective"],V6=["transform","translate","scale","rotate","perspective","filter"],G6=["paint","layout","strict","content"];function J1(t){const e=eg(),r=Ba(t)?Pa(t):t;return H6.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||V6.some(o=>(r.willChange||"").includes(o))||G6.some(o=>(r.contain||"").includes(o))}function Y6(t){let e=Os(t);for(;ni(e)&&!vl(e);){if(J1(e))return e;if(cf(e))return null;e=Os(e)}return null}function eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q6=new Set(["html","body","#document"]);function vl(t){return q6.has(Dl(t))}function Pa(t){return ia(t).getComputedStyle(t)}function uf(t){return Ba(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Os(t){if(Dl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||My(t)&&t.host||ri(t);return My(e)?e.host:e}function Ib(t){const e=Os(t);return vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ni(e)&&qc(e)?e:Ib(e)}function zc(t,e,r){var o;e===void 0&&(e=[]),r===void 0&&(r=!0);const u=Ib(t),d=u===((o=t.ownerDocument)==null?void 0:o.body),p=ia(u);if(d){const b=h1(p);return e.concat(p,p.visualViewport||[],qc(u)?u:[],b&&r?zc(b):[])}return e.concat(u,zc(u,[],r))}function h1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Db(t){const e=Pa(t);let r=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const u=ni(t),d=u?t.offsetWidth:r,p=u?t.offsetHeight:o,b=Vd(r)!==d||Vd(o)!==p;return b&&(r=d,o=p),{width:r,height:o,$:b}}function tg(t){return Ba(t)?t:t.contextElement}function yl(t){const e=tg(t);if(!ni(e))return ti(1);const r=e.getBoundingClientRect(),{width:o,height:u,$:d}=Db(e);let p=(d?Vd(r.width):r.width)/o,b=(d?Vd(r.height):r.height)/u;return(!p||!Number.isFinite(p))&&(p=1),(!b||!Number.isFinite(b))&&(b=1),{x:p,y:b}}const X6=ti(0);function Mb(t){const e=ia(t);return!eg()||!e.visualViewport?X6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W6(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ia(t)?!1:e}function fo(t,e,r,o){e===void 0&&(e=!1),r===void 0&&(r=!1);const u=t.getBoundingClientRect(),d=tg(t);let p=ti(1);e&&(o?Ba(o)&&(p=yl(o)):p=yl(t));const b=W6(d,r,o)?Mb(d):ti(0);let w=(u.left+b.x)/p.x,x=(u.top+b.y)/p.y,_=u.width/p.x,C=u.height/p.y;if(d){const D=ia(d),M=o&&Ba(o)?ia(o):o;let P=D,I=h1(P);for(;I&&o&&M!==P;){const B=yl(I),j=I.getBoundingClientRect(),H=Pa(I),F=j.left+(I.clientLeft+parseFloat(H.paddingLeft))*B.x,Q=j.top+(I.clientTop+parseFloat(H.paddingTop))*B.y;w*=B.x,x*=B.y,_*=B.x,C*=B.y,w+=F,x+=Q,P=ia(I),I=h1(P)}}return Yd({width:_,height:C,x:w,y:x})}function df(t,e){const r=uf(t).scrollLeft;return e?e.left+r:fo(ri(t)).left+r}function kb(t,e){const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-df(t,r),u=r.top+e.scrollTop;return{x:o,y:u}}function K6(t){let{elements:e,rect:r,offsetParent:o,strategy:u}=t;const d=u==="fixed",p=ri(o),b=e?cf(e.floating):!1;if(o===p||b&&d)return r;let w={scrollLeft:0,scrollTop:0},x=ti(1);const _=ti(0),C=ni(o);if((C||!C&&!d)&&((Dl(o)!=="body"||qc(p))&&(w=uf(o)),ni(o))){const M=fo(o);x=yl(o),_.x=M.x+o.clientLeft,_.y=M.y+o.clientTop}const D=p&&!C&&!d?kb(p,w):ti(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-w.scrollLeft*x.x+_.x+D.x,y:r.y*x.y-w.scrollTop*x.y+_.y+D.y}}function Z6(t){return Array.from(t.getClientRects())}function $6(t){const e=ri(t),r=uf(t),o=t.ownerDocument.body,u=ta(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),d=ta(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let p=-r.scrollLeft+df(t);const b=-r.scrollTop;return Pa(o).direction==="rtl"&&(p+=ta(e.clientWidth,o.clientWidth)-u),{width:u,height:d,x:p,y:b}}const ky=25;function Q6(t,e){const r=ia(t),o=ri(t),u=r.visualViewport;let d=o.clientWidth,p=o.clientHeight,b=0,w=0;if(u){d=u.width,p=u.height;const _=eg();(!_||_&&e==="fixed")&&(b=u.offsetLeft,w=u.offsetTop)}const x=df(o);if(x<=0){const _=o.ownerDocument,C=_.body,D=getComputedStyle(C),M=_.compatMode==="CSS1Compat"&&parseFloat(D.marginLeft)+parseFloat(D.marginRight)||0,P=Math.abs(o.clientWidth-C.clientWidth-M);P<=ky&&(d-=P)}else x<=ky&&(d+=x);return{width:d,height:p,x:b,y:w}}const J6=new Set(["absolute","fixed"]);function eN(t,e){const r=fo(t,!0,e==="fixed"),o=r.top+t.clientTop,u=r.left+t.clientLeft,d=ni(t)?yl(t):ti(1),p=t.clientWidth*d.x,b=t.clientHeight*d.y,w=u*d.x,x=o*d.y;return{width:p,height:b,x:w,y:x}}function Ly(t,e,r){let o;if(e==="viewport")o=Q6(t,r);else if(e==="document")o=$6(ri(t));else if(Ba(e))o=eN(e,r);else{const u=Mb(t);o={x:e.x-u.x,y:e.y-u.y,width:e.width,height:e.height}}return Yd(o)}function Lb(t,e){const r=Os(t);return r===e||!Ba(r)||vl(r)?!1:Pa(r).position==="fixed"||Lb(r,e)}function tN(t,e){const r=e.get(t);if(r)return r;let o=zc(t,[],!1).filter(b=>Ba(b)&&Dl(b)!=="body"),u=null;const d=Pa(t).position==="fixed";let p=d?Os(t):t;for(;Ba(p)&&!vl(p);){const b=Pa(p),w=J1(p);!w&&b.position==="fixed"&&(u=null),(d?!w&&!u:!w&&b.position==="static"&&!!u&&J6.has(u.position)||qc(p)&&!w&&Lb(t,p))?o=o.filter(_=>_!==p):u=b,p=Os(p)}return e.set(t,o),o}function nN(t){let{element:e,boundary:r,rootBoundary:o,strategy:u}=t;const p=[...r==="clippingAncestors"?cf(e)?[]:tN(e,this._c):[].concat(r),o],b=p[0],w=p.reduce((x,_)=>{const C=Ly(e,_,u);return x.top=ta(C.top,x.top),x.right=Rs(C.right,x.right),x.bottom=Rs(C.bottom,x.bottom),x.left=ta(C.left,x.left),x},Ly(e,b,u));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function rN(t){const{width:e,height:r}=Db(t);return{width:e,height:r}}function aN(t,e,r){const o=ni(e),u=ri(e),d=r==="fixed",p=fo(t,!0,d,e);let b={scrollLeft:0,scrollTop:0};const w=ti(0);function x(){w.x=df(u)}if(o||!o&&!d)if((Dl(e)!=="body"||qc(u))&&(b=uf(e)),o){const M=fo(e,!0,d,e);w.x=M.x+e.clientLeft,w.y=M.y+e.clientTop}else u&&x();d&&!o&&u&&x();const _=u&&!o&&!d?kb(u,b):ti(0),C=p.left+b.scrollLeft-w.x-_.x,D=p.top+b.scrollTop-w.y-_.y;return{x:C,y:D,width:p.width,height:p.height}}function P0(t){return Pa(t).position==="static"}function jy(t,e){if(!ni(t)||Pa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ri(t)===r&&(r=r.ownerDocument.body),r}function jb(t,e){const r=ia(t);if(cf(t))return r;if(!ni(t)){let u=Os(t);for(;u&&!vl(u);){if(Ba(u)&&!P0(u))return u;u=Os(u)}return r}let o=jy(t,e);for(;o&&F6(o)&&P0(o);)o=jy(o,e);return o&&vl(o)&&P0(o)&&!J1(o)?r:o||Y6(t)||r}const iN=async function(t){const e=this.getOffsetParent||jb,r=this.getDimensions,o=await r(t.floating);return{reference:aN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function sN(t){return Pa(t).direction==="rtl"}const oN={convertOffsetParentRelativeRectToViewportRelativeRect:K6,getDocumentElement:ri,getClippingRect:nN,getOffsetParent:jb,getElementRects:iN,getClientRects:Z6,getDimensions:rN,getScale:yl,isElement:Ba,isRTL:sN};function Bb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lN(t,e){let r=null,o;const u=ri(t);function d(){var b;clearTimeout(o),(b=r)==null||b.disconnect(),r=null}function p(b,w){b===void 0&&(b=!1),w===void 0&&(w=1),d();const x=t.getBoundingClientRect(),{left:_,top:C,width:D,height:M}=x;if(b||e(),!D||!M)return;const P=Sd(C),I=Sd(u.clientWidth-(_+D)),B=Sd(u.clientHeight-(C+M)),j=Sd(_),F={rootMargin:-P+"px "+-I+"px "+-B+"px "+-j+"px",threshold:ta(0,Rs(1,w))||1};let Q=!0;function ce(se){const Y=se[0].intersectionRatio;if(Y!==w){if(!Q)return p();Y?p(!1,Y):o=setTimeout(()=>{p(!1,1e-7)},1e3)}Y===1&&!Bb(x,t.getBoundingClientRect())&&p(),Q=!1}try{r=new IntersectionObserver(ce,{...F,root:u.ownerDocument})}catch{r=new IntersectionObserver(ce,F)}r.observe(t)}return p(!0),d}function cN(t,e,r,o){o===void 0&&(o={});const{ancestorScroll:u=!0,ancestorResize:d=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:w=!1}=o,x=tg(t),_=u||d?[...x?zc(x):[],...zc(e)]:[];_.forEach(j=>{u&&j.addEventListener("scroll",r,{passive:!0}),d&&j.addEventListener("resize",r)});const C=x&&b?lN(x,r):null;let D=-1,M=null;p&&(M=new ResizeObserver(j=>{let[H]=j;H&&H.target===x&&M&&(M.unobserve(e),cancelAnimationFrame(D),D=requestAnimationFrame(()=>{var F;(F=M)==null||F.observe(e)})),r()}),x&&!w&&M.observe(x),M.observe(e));let P,I=w?fo(t):null;w&&B();function B(){const j=fo(t);I&&!Bb(I,j)&&r(),I=j,P=requestAnimationFrame(B)}return r(),()=>{var j;_.forEach(H=>{u&&H.removeEventListener("scroll",r),d&&H.removeEventListener("resize",r)}),C==null||C(),(j=M)==null||j.disconnect(),M=null,w&&cancelAnimationFrame(P)}}const uN=k6,dN=L6,fN=I6,hN=B6,gN=D6,By=O6,mN=j6,pN=(t,e,r)=>{const o=new Map,u={platform:oN,...r},d={...u.platform,_c:o};return R6(t,e,{...u,platform:d})};var xN=typeof document<"u",yN=function(){},Id=xN?N.useLayoutEffect:yN;function qd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,o,u;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(o=r;o--!==0;)if(!qd(t[o],e[o]))return!1;return!0}if(u=Object.keys(t),r=u.length,r!==Object.keys(e).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(e,u[o]))return!1;for(o=r;o--!==0;){const d=u[o];if(!(d==="_owner"&&t.$$typeof)&&!qd(t[d],e[d]))return!1}return!0}return t!==t&&e!==e}function Pb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Py(t,e){const r=Pb(t);return Math.round(e*r)/r}function U0(t){const e=N.useRef(t);return Id(()=>{e.current=t}),e}function bN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:o=[],platform:u,elements:{reference:d,floating:p}={},transform:b=!0,whileElementsMounted:w,open:x}=t,[_,C]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[D,M]=N.useState(o);qd(D,o)||M(o);const[P,I]=N.useState(null),[B,j]=N.useState(null),H=N.useCallback(te=>{te!==se.current&&(se.current=te,I(te))},[]),F=N.useCallback(te=>{te!==Y.current&&(Y.current=te,j(te))},[]),Q=d||P,ce=p||B,se=N.useRef(null),Y=N.useRef(null),X=N.useRef(_),ne=w!=null,De=U0(w),Le=U0(u),Ae=U0(x),Me=N.useCallback(()=>{if(!se.current||!Y.current)return;const te={placement:e,strategy:r,middleware:D};Le.current&&(te.platform=Le.current),pN(se.current,Y.current,te).then(Oe=>{const Be={...Oe,isPositioned:Ae.current!==!1};je.current&&!qd(X.current,Be)&&(X.current=Be,Gc.flushSync(()=>{C(Be)}))})},[D,e,r,Le,Ae]);Id(()=>{x===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,C(te=>({...te,isPositioned:!1})))},[x]);const je=N.useRef(!1);Id(()=>(je.current=!0,()=>{je.current=!1}),[]),Id(()=>{if(Q&&(se.current=Q),ce&&(Y.current=ce),Q&&ce){if(De.current)return De.current(Q,ce,Me);Me()}},[Q,ce,Me,De,ne]);const re=N.useMemo(()=>({reference:se,floating:Y,setReference:H,setFloating:F}),[H,F]),K=N.useMemo(()=>({reference:Q,floating:ce}),[Q,ce]),q=N.useMemo(()=>{const te={position:r,left:0,top:0};if(!K.floating)return te;const Oe=Py(K.floating,_.x),Be=Py(K.floating,_.y);return b?{...te,transform:"translate("+Oe+"px, "+Be+"px)",...Pb(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Oe,top:Be}},[r,b,K.floating,_.x,_.y]);return N.useMemo(()=>({..._,update:Me,refs:re,elements:K,floatingStyles:q}),[_,Me,re,K,q])}const wN=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:u}=typeof t=="function"?t(r):t;return o&&e(o)?o.current!=null?By({element:o.current,padding:u}).fn(r):{}:o?By({element:o,padding:u}).fn(r):{}}}},vN=(t,e)=>({...uN(t),options:[t,e]}),EN=(t,e)=>({...dN(t),options:[t,e]}),SN=(t,e)=>({...mN(t),options:[t,e]}),AN=(t,e)=>({...fN(t),options:[t,e]}),CN=(t,e)=>({...hN(t),options:[t,e]}),_N=(t,e)=>({...gN(t),options:[t,e]}),TN=(t,e)=>({...wN(t),options:[t,e]});var NN="Arrow",Ub=N.forwardRef((t,e)=>{const{children:r,width:o=10,height:u=5,...d}=t;return E.jsx(Dt.svg,{...d,ref:e,width:o,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ub.displayName=NN;var RN=Ub;function Fb(t){const[e,r]=N.useState(void 0);return yr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(u=>{if(!Array.isArray(u)||!u.length)return;const d=u[0];let p,b;if("borderBoxSize"in d){const w=d.borderBoxSize,x=Array.isArray(w)?w[0]:w;p=x.inlineSize,b=x.blockSize}else p=t.offsetWidth,b=t.offsetHeight;r({width:p,height:b})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else r(void 0)},[t]),e}var ng="Popper",[zb,Hb]=xo(ng),[ON,Vb]=zb(ng),Gb=t=>{const{__scopePopper:e,children:r}=t,[o,u]=N.useState(null);return E.jsx(ON,{scope:e,anchor:o,onAnchorChange:u,children:r})};Gb.displayName=ng;var Yb="PopperAnchor",qb=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:o,...u}=t,d=Vb(Yb,r),p=N.useRef(null),b=En(e,p),w=N.useRef(null);return N.useEffect(()=>{const x=w.current;w.current=(o==null?void 0:o.current)||p.current,x!==w.current&&d.onAnchorChange(w.current)}),o?null:E.jsx(Dt.div,{...u,ref:b})});qb.displayName=Yb;var rg="PopperContent",[IN,DN]=zb(rg),Xb=N.forwardRef((t,e)=>{var be,Te,qe,lt,We,it;const{__scopePopper:r,side:o="bottom",sideOffset:u=0,align:d="center",alignOffset:p=0,arrowPadding:b=0,avoidCollisions:w=!0,collisionBoundary:x=[],collisionPadding:_=0,sticky:C="partial",hideWhenDetached:D=!1,updatePositionStrategy:M="optimized",onPlaced:P,...I}=t,B=Vb(rg,r),[j,H]=N.useState(null),F=En(e,nt=>H(nt)),[Q,ce]=N.useState(null),se=Fb(Q),Y=(se==null?void 0:se.width)??0,X=(se==null?void 0:se.height)??0,ne=o+(d!=="center"?"-"+d:""),De=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},Le=Array.isArray(x)?x:[x],Ae=Le.length>0,Me={padding:De,boundary:Le.filter(kN),altBoundary:Ae},{refs:je,floatingStyles:re,placement:K,isPositioned:q,middlewareData:te}=bN({strategy:"fixed",placement:ne,whileElementsMounted:(...nt)=>cN(...nt,{animationFrame:M==="always"}),elements:{reference:B.anchor},middleware:[vN({mainAxis:u+X,alignmentAxis:p}),w&&EN({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?SN():void 0,...Me}),w&&AN({...Me}),CN({...Me,apply:({elements:nt,rects:Xt,availableWidth:An,availableHeight:ir})=>{const{width:Ut,height:Rt}=Xt.reference,et=nt.floating.style;et.setProperty("--radix-popper-available-width",`${An}px`),et.setProperty("--radix-popper-available-height",`${ir}px`),et.setProperty("--radix-popper-anchor-width",`${Ut}px`),et.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),Q&&TN({element:Q,padding:b}),LN({arrowWidth:Y,arrowHeight:X}),D&&_N({strategy:"referenceHidden",...Me})]}),[Oe,Be]=Zb(K),$=Ns(P);yr(()=>{q&&($==null||$())},[q,$]);const ge=(be=te.arrow)==null?void 0:be.x,pe=(Te=te.arrow)==null?void 0:Te.y,xe=((qe=te.arrow)==null?void 0:qe.centerOffset)!==0,[ke,ve]=N.useState();return yr(()=>{j&&ve(window.getComputedStyle(j).zIndex)},[j]),E.jsx("div",{ref:je.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(lt=te.transformOrigin)==null?void 0:lt.x,(We=te.transformOrigin)==null?void 0:We.y].join(" "),...((it=te.hide)==null?void 0:it.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(IN,{scope:r,placedSide:Oe,onArrowChange:ce,arrowX:ge,arrowY:pe,shouldHideArrow:xe,children:E.jsx(Dt.div,{"data-side":Oe,"data-align":Be,...I,ref:F,style:{...I.style,animation:q?void 0:"none"}})})})});Xb.displayName=rg;var Wb="PopperArrow",MN={top:"bottom",right:"left",bottom:"top",left:"right"},Kb=N.forwardRef(function(e,r){const{__scopePopper:o,...u}=e,d=DN(Wb,o),p=MN[d.placedSide];return E.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:E.jsx(RN,{...u,ref:r,style:{...u.style,display:"block"}})})});Kb.displayName=Wb;function kN(t){return t!==null}var LN=t=>({name:"transformOrigin",options:t,fn(e){var B,j,H;const{placement:r,rects:o,middlewareData:u}=e,p=((B=u.arrow)==null?void 0:B.centerOffset)!==0,b=p?0:t.arrowWidth,w=p?0:t.arrowHeight,[x,_]=Zb(r),C={start:"0%",center:"50%",end:"100%"}[_],D=(((j=u.arrow)==null?void 0:j.x)??0)+b/2,M=(((H=u.arrow)==null?void 0:H.y)??0)+w/2;let P="",I="";return x==="bottom"?(P=p?C:`${D}px`,I=`${-w}px`):x==="top"?(P=p?C:`${D}px`,I=`${o.floating.height+w}px`):x==="right"?(P=`${-w}px`,I=p?C:`${M}px`):x==="left"&&(P=`${o.floating.width+w}px`,I=p?C:`${M}px`),{data:{x:P,y:I}}}});function Zb(t){const[e,r="center"]=t.split("-");return[e,r]}var jN=Gb,BN=qb,PN=Xb,UN=Kb,FN="Portal",ag=N.forwardRef((t,e)=>{var b;const{container:r,...o}=t,[u,d]=N.useState(!1);yr(()=>d(!0),[]);const p=r||u&&((b=globalThis==null?void 0:globalThis.document)==null?void 0:b.body);return p?_2.createPortal(E.jsx(Dt.div,{...o,ref:e}),p):null});ag.displayName=FN;function zN(t){const e=HN(t),r=N.forwardRef((o,u)=>{const{children:d,...p}=o,b=N.Children.toArray(d),w=b.find(GN);if(w){const x=w.props.children,_=b.map(C=>C===w?N.Children.count(x)>1?N.Children.only(null):N.isValidElement(x)?x.props.children:null:C);return E.jsx(e,{...p,ref:u,children:N.isValidElement(x)?N.cloneElement(x,void 0,_):null})}return E.jsx(e,{...p,ref:u,children:d})});return r.displayName=`${t}.Slot`,r}function HN(t){const e=N.forwardRef((r,o)=>{const{children:u,...d}=r;if(N.isValidElement(u)){const p=qN(u),b=YN(d,u.props);return u.type!==N.Fragment&&(b.ref=o?Nl(o,p):p),N.cloneElement(u,b)}return N.Children.count(u)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VN=Symbol("radix.slottable");function GN(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VN}function YN(t,e){const r={...e};for(const o in e){const u=t[o],d=e[o];/^on[A-Z]/.test(o)?u&&d?r[o]=(...b)=>{const w=d(...b);return u(...b),w}:u&&(r[o]=u):o==="style"?r[o]={...u,...d}:o==="className"&&(r[o]=[u,d].filter(Boolean).join(" "))}return{...t,...r}}function qN(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var XN=C1[" useInsertionEffect ".trim().toString()]||yr;function El({prop:t,defaultProp:e,onChange:r=()=>{},caller:o}){const[u,d,p]=WN({defaultProp:e,onChange:r}),b=t!==void 0,w=b?t:u;{const _=N.useRef(t!==void 0);N.useEffect(()=>{const C=_.current;C!==b&&console.warn(`${o} is changing from ${C?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=b},[b,o])}const x=N.useCallback(_=>{var C;if(b){const D=KN(_)?_(t):_;D!==t&&((C=p.current)==null||C.call(p,D))}else d(_)},[b,t,d,p]);return[w,x]}function WN({defaultProp:t,onChange:e}){const[r,o]=N.useState(t),u=N.useRef(r),d=N.useRef(e);return XN(()=>{d.current=e},[e]),N.useEffect(()=>{var p;u.current!==r&&((p=d.current)==null||p.call(d,r),u.current=r)},[r,u]),[r,o,d]}function KN(t){return typeof t=="function"}function $b(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZN="VisuallyHidden",$N=N.forwardRef((t,e)=>E.jsx(Dt.span,{...t,ref:e,style:{...Qb,...t.style}}));$N.displayName=ZN;var QN=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ll=new WeakMap,Ad=new WeakMap,Cd={},F0=0,Jb=function(t){return t&&(t.host||Jb(t.parentNode))},JN=function(t,e){return e.map(function(r){if(t.contains(r))return r;var o=Jb(r);return o&&t.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},e5=function(t,e,r,o){var u=JN(e,Array.isArray(t)?t:[t]);Cd[r]||(Cd[r]=new WeakMap);var d=Cd[r],p=[],b=new Set,w=new Set(u),x=function(C){!C||b.has(C)||(b.add(C),x(C.parentNode))};u.forEach(x);var _=function(C){!C||w.has(C)||Array.prototype.forEach.call(C.children,function(D){if(b.has(D))_(D);else try{var M=D.getAttribute(o),P=M!==null&&M!=="false",I=(ll.get(D)||0)+1,B=(d.get(D)||0)+1;ll.set(D,I),d.set(D,B),p.push(D),I===1&&P&&Ad.set(D,!0),B===1&&D.setAttribute(r,"true"),P||D.setAttribute(o,"true")}catch(j){console.error("aria-hidden: cannot operate on ",D,j)}})};return _(e),b.clear(),F0++,function(){p.forEach(function(C){var D=ll.get(C)-1,M=d.get(C)-1;ll.set(C,D),d.set(C,M),D||(Ad.has(C)||C.removeAttribute(o),Ad.delete(C)),M||C.removeAttribute(r)}),F0--,F0||(ll=new WeakMap,ll=new WeakMap,Ad=new WeakMap,Cd={})}},ew=function(t,e,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),u=QN(t);return u?(o.push.apply(o,Array.from(u.querySelectorAll("[aria-live], script"))),e5(o,u,r,"aria-hidden")):function(){return null}},Dd="right-scroll-bar-position",Md="width-before-scroll-bar",t5="with-scroll-bars-hidden",n5="--removed-body-scroll-bar-size";function z0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function r5(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(o){var u=r.value;u!==o&&(r.value=o,r.callback(o,u))}}}})[0];return r.callback=e,r.facade}var a5=typeof window<"u"?N.useLayoutEffect:N.useEffect,Uy=new WeakMap;function i5(t,e){var r=r5(null,function(o){return t.forEach(function(u){return z0(u,o)})});return a5(function(){var o=Uy.get(r);if(o){var u=new Set(o),d=new Set(t),p=r.current;u.forEach(function(b){d.has(b)||z0(b,null)}),d.forEach(function(b){u.has(b)||z0(b,p)})}Uy.set(r,t)},[t]),r}function s5(t){return t}function o5(t,e){e===void 0&&(e=s5);var r=[],o=!1,u={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(d){var p=e(d,o);return r.push(p),function(){r=r.filter(function(b){return b!==p})}},assignSyncMedium:function(d){for(o=!0;r.length;){var p=r;r=[],p.forEach(d)}r={push:function(b){return d(b)},filter:function(){return r}}},assignMedium:function(d){o=!0;var p=[];if(r.length){var b=r;r=[],b.forEach(d),p=r}var w=function(){var _=p;p=[],_.forEach(d)},x=function(){return Promise.resolve().then(w)};x(),r={push:function(_){p.push(_),x()},filter:function(_){return p=p.filter(_),r}}}};return u}function l5(t){t===void 0&&(t={});var e=o5(null);return e.options=Ja({async:!0,ssr:!1},t),e}var tw=function(t){var e=t.sideCar,r=_l(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return N.createElement(o,Ja({},r))};tw.isSideCarExport=!0;function c5(t,e){return t.useMedium(e),tw}var nw=l5(),H0=function(){},ff=N.forwardRef(function(t,e){var r=N.useRef(null),o=N.useState({onScrollCapture:H0,onWheelCapture:H0,onTouchMoveCapture:H0}),u=o[0],d=o[1],p=t.forwardProps,b=t.children,w=t.className,x=t.removeScrollBar,_=t.enabled,C=t.shards,D=t.sideCar,M=t.noRelative,P=t.noIsolation,I=t.inert,B=t.allowPinchZoom,j=t.as,H=j===void 0?"div":j,F=t.gapMode,Q=_l(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ce=D,se=i5([r,e]),Y=Ja(Ja({},Q),u);return N.createElement(N.Fragment,null,_&&N.createElement(ce,{sideCar:nw,removeScrollBar:x,shards:C,noRelative:M,noIsolation:P,inert:I,setCallbacks:d,allowPinchZoom:!!B,lockRef:r,gapMode:F}),p?N.cloneElement(N.Children.only(b),Ja(Ja({},Y),{ref:se})):N.createElement(H,Ja({},Y,{className:w,ref:se}),b))});ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ff.classNames={fullWidth:Md,zeroRight:Dd};var u5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=u5();return e&&t.setAttribute("nonce",e),t}function f5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function h5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g5=function(){var t=0,e=null;return{add:function(r){t==0&&(e=d5())&&(f5(e,r),h5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m5=function(){var t=g5();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},rw=function(){var t=m5(),e=function(r){var o=r.styles,u=r.dynamic;return t(o,u),null};return e},p5={left:0,top:0,right:0,gap:0},V0=function(t){return parseInt(t||"",10)||0},x5=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],u=e[t==="padding"?"paddingRight":"marginRight"];return[V0(r),V0(o),V0(u)]},y5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return p5;var e=x5(t),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-r+e[2]-e[0])}},b5=rw(),bl="data-scroll-locked",w5=function(t,e,r,o){var u=t.left,d=t.top,p=t.right,b=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(t5,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(b,"px ").concat(o,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(u,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(b,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(b,"px ").concat(o,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(b,"px ").concat(o,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(n5,": ").concat(b,`px;
  }
`)},Fy=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},v5=function(){N.useEffect(function(){return document.body.setAttribute(bl,(Fy()+1).toString()),function(){var t=Fy()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},E5=function(t){var e=t.noRelative,r=t.noImportant,o=t.gapMode,u=o===void 0?"margin":o;v5();var d=N.useMemo(function(){return y5(u)},[u]);return N.createElement(b5,{styles:w5(d,!e,u,r?"":"!important")})},g1=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return g1=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{g1=!1}var cl=g1?{passive:!1}:!1,S5=function(t){return t.tagName==="TEXTAREA"},aw=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!S5(t)&&r[e]==="visible")},A5=function(t){return aw(t,"overflowY")},C5=function(t){return aw(t,"overflowX")},zy=function(t,e){var r=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var u=iw(t,o);if(u){var d=sw(t,o),p=d[1],b=d[2];if(p>b)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},_5=function(t){var e=t.scrollTop,r=t.scrollHeight,o=t.clientHeight;return[e,r,o]},T5=function(t){var e=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth;return[e,r,o]},iw=function(t,e){return t==="v"?A5(e):C5(e)},sw=function(t,e){return t==="v"?_5(e):T5(e)},N5=function(t,e){return t==="h"&&e==="rtl"?-1:1},R5=function(t,e,r,o,u){var d=N5(t,window.getComputedStyle(e).direction),p=d*o,b=r.target,w=e.contains(b),x=!1,_=p>0,C=0,D=0;do{if(!b)break;var M=sw(t,b),P=M[0],I=M[1],B=M[2],j=I-B-d*P;(P||j)&&iw(t,b)&&(C+=j,D+=P);var H=b.parentNode;b=H&&H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?H.host:H}while(!w&&b!==document.body||w&&(e.contains(b)||e===b));return(_&&Math.abs(C)<1||!_&&Math.abs(D)<1)&&(x=!0),x},Td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Hy=function(t){return[t.deltaX,t.deltaY]},Vy=function(t){return t&&"current"in t?t.current:t},O5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},D5=0,ul=[];function M5(t){var e=N.useRef([]),r=N.useRef([0,0]),o=N.useRef(),u=N.useState(D5++)[0],d=N.useState(rw)[0],p=N.useRef(t);N.useEffect(function(){p.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(u));var I=QS([t.lockRef.current],(t.shards||[]).map(Vy),!0).filter(Boolean);return I.forEach(function(B){return B.classList.add("allow-interactivity-".concat(u))}),function(){document.body.classList.remove("block-interactivity-".concat(u)),I.forEach(function(B){return B.classList.remove("allow-interactivity-".concat(u))})}}},[t.inert,t.lockRef.current,t.shards]);var b=N.useCallback(function(I,B){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!p.current.allowPinchZoom;var j=Td(I),H=r.current,F="deltaX"in I?I.deltaX:H[0]-j[0],Q="deltaY"in I?I.deltaY:H[1]-j[1],ce,se=I.target,Y=Math.abs(F)>Math.abs(Q)?"h":"v";if("touches"in I&&Y==="h"&&se.type==="range")return!1;var X=window.getSelection(),ne=X&&X.anchorNode,De=ne?ne===se||ne.contains(se):!1;if(De)return!1;var Le=zy(Y,se);if(!Le)return!0;if(Le?ce=Y:(ce=Y==="v"?"h":"v",Le=zy(Y,se)),!Le)return!1;if(!o.current&&"changedTouches"in I&&(F||Q)&&(o.current=ce),!ce)return!0;var Ae=o.current||ce;return R5(Ae,B,I,Ae==="h"?F:Q)},[]),w=N.useCallback(function(I){var B=I;if(!(!ul.length||ul[ul.length-1]!==d)){var j="deltaY"in B?Hy(B):Td(B),H=e.current.filter(function(ce){return ce.name===B.type&&(ce.target===B.target||B.target===ce.shadowParent)&&O5(ce.delta,j)})[0];if(H&&H.should){B.cancelable&&B.preventDefault();return}if(!H){var F=(p.current.shards||[]).map(Vy).filter(Boolean).filter(function(ce){return ce.contains(B.target)}),Q=F.length>0?b(B,F[0]):!p.current.noIsolation;Q&&B.cancelable&&B.preventDefault()}}},[]),x=N.useCallback(function(I,B,j,H){var F={name:I,delta:B,target:j,should:H,shadowParent:k5(j)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(Q){return Q!==F})},1)},[]),_=N.useCallback(function(I){r.current=Td(I),o.current=void 0},[]),C=N.useCallback(function(I){x(I.type,Hy(I),I.target,b(I,t.lockRef.current))},[]),D=N.useCallback(function(I){x(I.type,Td(I),I.target,b(I,t.lockRef.current))},[]);N.useEffect(function(){return ul.push(d),t.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:D}),document.addEventListener("wheel",w,cl),document.addEventListener("touchmove",w,cl),document.addEventListener("touchstart",_,cl),function(){ul=ul.filter(function(I){return I!==d}),document.removeEventListener("wheel",w,cl),document.removeEventListener("touchmove",w,cl),document.removeEventListener("touchstart",_,cl)}},[]);var M=t.removeScrollBar,P=t.inert;return N.createElement(N.Fragment,null,P?N.createElement(d,{styles:I5(u)}):null,M?N.createElement(E5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function k5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L5=c5(nw,M5);var ig=N.forwardRef(function(t,e){return N.createElement(ff,Ja({},t,{ref:e,sideCar:L5}))});ig.classNames=ff.classNames;var j5=[" ","Enter","ArrowUp","ArrowDown"],B5=[" ","Enter"],ho="Select",[hf,gf,P5]=Sb(ho),[Ml]=xo(ho,[P5,Hb]),mf=Hb(),[U5,Ds]=Ml(ho),[F5,z5]=Ml(ho),ow=t=>{const{__scopeSelect:e,children:r,open:o,defaultOpen:u,onOpenChange:d,value:p,defaultValue:b,onValueChange:w,dir:x,name:_,autoComplete:C,disabled:D,required:M,form:P}=t,I=mf(e),[B,j]=N.useState(null),[H,F]=N.useState(null),[Q,ce]=N.useState(!1),se=X1(x),[Y,X]=El({prop:o,defaultProp:u??!1,onChange:d,caller:ho}),[ne,De]=El({prop:p,defaultProp:b,onChange:w,caller:ho}),Le=N.useRef(null),Ae=B?P||!!B.closest("form"):!0,[Me,je]=N.useState(new Set),re=Array.from(Me).map(K=>K.props.value).join(";");return E.jsx(jN,{...I,children:E.jsxs(U5,{required:M,scope:e,trigger:B,onTriggerChange:j,valueNode:H,onValueNodeChange:F,valueNodeHasChildren:Q,onValueNodeHasChildrenChange:ce,contentId:Ts(),value:ne,onValueChange:De,open:Y,onOpenChange:X,dir:se,triggerPointerDownPosRef:Le,disabled:D,children:[E.jsx(hf.Provider,{scope:e,children:E.jsx(F5,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(K=>{je(q=>new Set(q).add(K))},[]),onNativeOptionRemove:N.useCallback(K=>{je(q=>{const te=new Set(q);return te.delete(K),te})},[]),children:r})}),Ae?E.jsxs(Iw,{"aria-hidden":!0,required:M,tabIndex:-1,name:_,autoComplete:C,value:ne,onChange:K=>De(K.target.value),disabled:D,form:P,children:[ne===void 0?E.jsx("option",{value:""}):null,Array.from(Me)]},re):null]})})};ow.displayName=ho;var lw="SelectTrigger",cw=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:o=!1,...u}=t,d=mf(r),p=Ds(lw,r),b=p.disabled||o,w=En(e,p.onTriggerChange),x=gf(r),_=N.useRef("touch"),[C,D,M]=Mw(I=>{const B=x().filter(F=>!F.disabled),j=B.find(F=>F.value===p.value),H=kw(B,I,j);H!==void 0&&p.onValueChange(H.value)}),P=I=>{b||(p.onOpenChange(!0),M()),I&&(p.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return E.jsx(BN,{asChild:!0,...d,children:E.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:b,"data-disabled":b?"":void 0,"data-placeholder":Dw(p.value)?"":void 0,...u,ref:w,onClick:Nt(u.onClick,I=>{I.currentTarget.focus(),_.current!=="mouse"&&P(I)}),onPointerDown:Nt(u.onPointerDown,I=>{_.current=I.pointerType;const B=I.target;B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(P(I),I.preventDefault())}),onKeyDown:Nt(u.onKeyDown,I=>{const B=C.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&D(I.key),!(B&&I.key===" ")&&j5.includes(I.key)&&(P(),I.preventDefault())})})})});cw.displayName=lw;var uw="SelectValue",dw=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:u,children:d,placeholder:p="",...b}=t,w=Ds(uw,r),{onValueNodeHasChildrenChange:x}=w,_=d!==void 0,C=En(e,w.onValueNodeChange);return yr(()=>{x(_)},[x,_]),E.jsx(Dt.span,{...b,ref:C,style:{pointerEvents:"none"},children:Dw(w.value)?E.jsx(E.Fragment,{children:p}):d})});dw.displayName=uw;var H5="SelectIcon",fw=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:o,...u}=t;return E.jsx(Dt.span,{"aria-hidden":!0,...u,ref:e,children:o||""})});fw.displayName=H5;var V5="SelectPortal",hw=t=>E.jsx(ag,{asChild:!0,...t});hw.displayName=V5;var go="SelectContent",gw=N.forwardRef((t,e)=>{const r=Ds(go,t.__scopeSelect),[o,u]=N.useState();if(yr(()=>{u(new DocumentFragment)},[]),!r.open){const d=o;return d?Gc.createPortal(E.jsx(mw,{scope:t.__scopeSelect,children:E.jsx(hf.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),d):null}return E.jsx(pw,{...t,ref:e})});gw.displayName=go;var Ia=10,[mw,Ms]=Ml(go),G5="SelectContentImpl",Y5=zN("SelectContent.RemoveScroll"),pw=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:u,onEscapeKeyDown:d,onPointerDownOutside:p,side:b,sideOffset:w,align:x,alignOffset:_,arrowPadding:C,collisionBoundary:D,collisionPadding:M,sticky:P,hideWhenDetached:I,avoidCollisions:B,...j}=t,H=Ds(go,r),[F,Q]=N.useState(null),[ce,se]=N.useState(null),Y=En(e,be=>Q(be)),[X,ne]=N.useState(null),[De,Le]=N.useState(null),Ae=gf(r),[Me,je]=N.useState(!1),re=N.useRef(!1);N.useEffect(()=>{if(F)return ew(F)},[F]),_b();const K=N.useCallback(be=>{const[Te,...qe]=Ae().map(it=>it.ref.current),[lt]=qe.slice(-1),We=document.activeElement;for(const it of be)if(it===We||(it==null||it.scrollIntoView({block:"nearest"}),it===Te&&ce&&(ce.scrollTop=0),it===lt&&ce&&(ce.scrollTop=ce.scrollHeight),it==null||it.focus(),document.activeElement!==We))return},[Ae,ce]),q=N.useCallback(()=>K([X,F]),[K,X,F]);N.useEffect(()=>{Me&&q()},[Me,q]);const{onOpenChange:te,triggerPointerDownPosRef:Oe}=H;N.useEffect(()=>{if(F){let be={x:0,y:0};const Te=lt=>{var We,it;be={x:Math.abs(Math.round(lt.pageX)-(((We=Oe.current)==null?void 0:We.x)??0)),y:Math.abs(Math.round(lt.pageY)-(((it=Oe.current)==null?void 0:it.y)??0))}},qe=lt=>{be.x<=10&&be.y<=10?lt.preventDefault():F.contains(lt.target)||te(!1),document.removeEventListener("pointermove",Te),Oe.current=null};return Oe.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",qe,{capture:!0})}}},[F,te,Oe]),N.useEffect(()=>{const be=()=>te(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[te]);const[Be,$]=Mw(be=>{const Te=Ae().filter(We=>!We.disabled),qe=Te.find(We=>We.ref.current===document.activeElement),lt=kw(Te,be,qe);lt&&setTimeout(()=>lt.ref.current.focus())}),ge=N.useCallback((be,Te,qe)=>{const lt=!re.current&&!qe;(H.value!==void 0&&H.value===Te||lt)&&(ne(be),lt&&(re.current=!0))},[H.value]),pe=N.useCallback(()=>F==null?void 0:F.focus(),[F]),xe=N.useCallback((be,Te,qe)=>{const lt=!re.current&&!qe;(H.value!==void 0&&H.value===Te||lt)&&Le(be)},[H.value]),ke=o==="popper"?m1:xw,ve=ke===m1?{side:b,sideOffset:w,align:x,alignOffset:_,arrowPadding:C,collisionBoundary:D,collisionPadding:M,sticky:P,hideWhenDetached:I,avoidCollisions:B}:{};return E.jsx(mw,{scope:r,content:F,viewport:ce,onViewportChange:se,itemRefCallback:ge,selectedItem:X,onItemLeave:pe,itemTextRefCallback:xe,focusSelectedItem:q,selectedItemText:De,position:o,isPositioned:Me,searchRef:Be,children:E.jsx(ig,{as:Y5,allowPinchZoom:!0,children:E.jsx(K1,{asChild:!0,trapped:H.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:Nt(u,be=>{var Te;(Te=H.trigger)==null||Te.focus({preventScroll:!0}),be.preventDefault()}),children:E.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>H.onOpenChange(!1),children:E.jsx(ke,{role:"listbox",id:H.contentId,"data-state":H.open?"open":"closed",dir:H.dir,onContextMenu:be=>be.preventDefault(),...j,...ve,onPlaced:()=>je(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Nt(j.onKeyDown,be=>{const Te=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!Te&&be.key.length===1&&$(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let lt=Ae().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(be.key)&&(lt=lt.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const We=be.target,it=lt.indexOf(We);lt=lt.slice(it+1)}setTimeout(()=>K(lt)),be.preventDefault()}})})})})})})});pw.displayName=G5;var q5="SelectItemAlignedPosition",xw=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:o,...u}=t,d=Ds(go,r),p=Ms(go,r),[b,w]=N.useState(null),[x,_]=N.useState(null),C=En(e,Y=>_(Y)),D=gf(r),M=N.useRef(!1),P=N.useRef(!0),{viewport:I,selectedItem:B,selectedItemText:j,focusSelectedItem:H}=p,F=N.useCallback(()=>{if(d.trigger&&d.valueNode&&b&&x&&I&&B&&j){const Y=d.trigger.getBoundingClientRect(),X=x.getBoundingClientRect(),ne=d.valueNode.getBoundingClientRect(),De=j.getBoundingClientRect();if(d.dir!=="rtl"){const We=De.left-X.left,it=ne.left-We,nt=Y.left-it,Xt=Y.width+nt,An=Math.max(Xt,X.width),ir=window.innerWidth-Ia,Ut=by(it,[Ia,Math.max(Ia,ir-An)]);b.style.minWidth=Xt+"px",b.style.left=Ut+"px"}else{const We=X.right-De.right,it=window.innerWidth-ne.right-We,nt=window.innerWidth-Y.right-it,Xt=Y.width+nt,An=Math.max(Xt,X.width),ir=window.innerWidth-Ia,Ut=by(it,[Ia,Math.max(Ia,ir-An)]);b.style.minWidth=Xt+"px",b.style.right=Ut+"px"}const Le=D(),Ae=window.innerHeight-Ia*2,Me=I.scrollHeight,je=window.getComputedStyle(x),re=parseInt(je.borderTopWidth,10),K=parseInt(je.paddingTop,10),q=parseInt(je.borderBottomWidth,10),te=parseInt(je.paddingBottom,10),Oe=re+K+Me+te+q,Be=Math.min(B.offsetHeight*5,Oe),$=window.getComputedStyle(I),ge=parseInt($.paddingTop,10),pe=parseInt($.paddingBottom,10),xe=Y.top+Y.height/2-Ia,ke=Ae-xe,ve=B.offsetHeight/2,be=B.offsetTop+ve,Te=re+K+be,qe=Oe-Te;if(Te<=xe){const We=Le.length>0&&B===Le[Le.length-1].ref.current;b.style.bottom="0px";const it=x.clientHeight-I.offsetTop-I.offsetHeight,nt=Math.max(ke,ve+(We?pe:0)+it+q),Xt=Te+nt;b.style.height=Xt+"px"}else{const We=Le.length>0&&B===Le[0].ref.current;b.style.top="0px";const nt=Math.max(xe,re+I.offsetTop+(We?ge:0)+ve)+qe;b.style.height=nt+"px",I.scrollTop=Te-xe+I.offsetTop}b.style.margin=`${Ia}px 0`,b.style.minHeight=Be+"px",b.style.maxHeight=Ae+"px",o==null||o(),requestAnimationFrame(()=>M.current=!0)}},[D,d.trigger,d.valueNode,b,x,I,B,j,d.dir,o]);yr(()=>F(),[F]);const[Q,ce]=N.useState();yr(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]);const se=N.useCallback(Y=>{Y&&P.current===!0&&(F(),H==null||H(),P.current=!1)},[F,H]);return E.jsx(W5,{scope:r,contentWrapper:b,shouldExpandOnScrollRef:M,onScrollButtonChange:se,children:E.jsx("div",{ref:w,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Q},children:E.jsx(Dt.div,{...u,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...u.style}})})})});xw.displayName=q5;var X5="SelectPopperPosition",m1=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:o="start",collisionPadding:u=Ia,...d}=t,p=mf(r);return E.jsx(PN,{...p,...d,ref:e,align:o,collisionPadding:u,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m1.displayName=X5;var[W5,sg]=Ml(go,{}),p1="SelectViewport",yw=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:o,...u}=t,d=Ms(p1,r),p=sg(p1,r),b=En(e,d.onViewportChange),w=N.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),E.jsx(hf.Slot,{scope:r,children:E.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...u,ref:b,style:{position:"relative",flex:1,overflow:"hidden auto",...u.style},onScroll:Nt(u.onScroll,x=>{const _=x.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:D}=p;if(D!=null&&D.current&&C){const M=Math.abs(w.current-_.scrollTop);if(M>0){const P=window.innerHeight-Ia*2,I=parseFloat(C.style.minHeight),B=parseFloat(C.style.height),j=Math.max(I,B);if(j<P){const H=j+M,F=Math.min(P,H),Q=H-F;C.style.height=F+"px",C.style.bottom==="0px"&&(_.scrollTop=Q>0?Q:0,C.style.justifyContent="flex-end")}}}w.current=_.scrollTop})})})]})});yw.displayName=p1;var bw="SelectGroup",[K5,Z5]=Ml(bw),$5=N.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,u=Ts();return E.jsx(K5,{scope:r,id:u,children:E.jsx(Dt.div,{role:"group","aria-labelledby":u,...o,ref:e})})});$5.displayName=bw;var ww="SelectLabel",vw=N.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,u=Z5(ww,r);return E.jsx(Dt.div,{id:u.id,...o,ref:e})});vw.displayName=ww;var Xd="SelectItem",[Q5,Ew]=Ml(Xd),Sw=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:o,disabled:u=!1,textValue:d,...p}=t,b=Ds(Xd,r),w=Ms(Xd,r),x=b.value===o,[_,C]=N.useState(d??""),[D,M]=N.useState(!1),P=En(e,H=>{var F;return(F=w.itemRefCallback)==null?void 0:F.call(w,H,o,u)}),I=Ts(),B=N.useRef("touch"),j=()=>{u||(b.onValueChange(o),b.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(Q5,{scope:r,value:o,disabled:u,textId:I,isSelected:x,onItemTextChange:N.useCallback(H=>{C(F=>F||((H==null?void 0:H.textContent)??"").trim())},[]),children:E.jsx(hf.ItemSlot,{scope:r,value:o,disabled:u,textValue:_,children:E.jsx(Dt.div,{role:"option","aria-labelledby":I,"data-highlighted":D?"":void 0,"aria-selected":x&&D,"data-state":x?"checked":"unchecked","aria-disabled":u||void 0,"data-disabled":u?"":void 0,tabIndex:u?void 0:-1,...p,ref:P,onFocus:Nt(p.onFocus,()=>M(!0)),onBlur:Nt(p.onBlur,()=>M(!1)),onClick:Nt(p.onClick,()=>{B.current!=="mouse"&&j()}),onPointerUp:Nt(p.onPointerUp,()=>{B.current==="mouse"&&j()}),onPointerDown:Nt(p.onPointerDown,H=>{B.current=H.pointerType}),onPointerMove:Nt(p.onPointerMove,H=>{var F;B.current=H.pointerType,u?(F=w.onItemLeave)==null||F.call(w):B.current==="mouse"&&H.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(p.onPointerLeave,H=>{var F;H.currentTarget===document.activeElement&&((F=w.onItemLeave)==null||F.call(w))}),onKeyDown:Nt(p.onKeyDown,H=>{var Q;((Q=w.searchRef)==null?void 0:Q.current)!==""&&H.key===" "||(B5.includes(H.key)&&j(),H.key===" "&&H.preventDefault())})})})})});Sw.displayName=Xd;var Tc="SelectItemText",Aw=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:o,style:u,...d}=t,p=Ds(Tc,r),b=Ms(Tc,r),w=Ew(Tc,r),x=z5(Tc,r),[_,C]=N.useState(null),D=En(e,j=>C(j),w.onItemTextChange,j=>{var H;return(H=b.itemTextRefCallback)==null?void 0:H.call(b,j,w.value,w.disabled)}),M=_==null?void 0:_.textContent,P=N.useMemo(()=>E.jsx("option",{value:w.value,disabled:w.disabled,children:M},w.value),[w.disabled,w.value,M]),{onNativeOptionAdd:I,onNativeOptionRemove:B}=x;return yr(()=>(I(P),()=>B(P)),[I,B,P]),E.jsxs(E.Fragment,{children:[E.jsx(Dt.span,{id:w.textId,...d,ref:D}),w.isSelected&&p.valueNode&&!p.valueNodeHasChildren?Gc.createPortal(d.children,p.valueNode):null]})});Aw.displayName=Tc;var Cw="SelectItemIndicator",_w=N.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return Ew(Cw,r).isSelected?E.jsx(Dt.span,{"aria-hidden":!0,...o,ref:e}):null});_w.displayName=Cw;var x1="SelectScrollUpButton",Tw=N.forwardRef((t,e)=>{const r=Ms(x1,t.__scopeSelect),o=sg(x1,t.__scopeSelect),[u,d]=N.useState(!1),p=En(e,o.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let b=function(){const x=w.scrollTop>0;d(x)};const w=r.viewport;return b(),w.addEventListener("scroll",b),()=>w.removeEventListener("scroll",b)}},[r.viewport,r.isPositioned]),u?E.jsx(Rw,{...t,ref:p,onAutoScroll:()=>{const{viewport:b,selectedItem:w}=r;b&&w&&(b.scrollTop=b.scrollTop-w.offsetHeight)}}):null});Tw.displayName=x1;var y1="SelectScrollDownButton",Nw=N.forwardRef((t,e)=>{const r=Ms(y1,t.__scopeSelect),o=sg(y1,t.__scopeSelect),[u,d]=N.useState(!1),p=En(e,o.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let b=function(){const x=w.scrollHeight-w.clientHeight,_=Math.ceil(w.scrollTop)<x;d(_)};const w=r.viewport;return b(),w.addEventListener("scroll",b),()=>w.removeEventListener("scroll",b)}},[r.viewport,r.isPositioned]),u?E.jsx(Rw,{...t,ref:p,onAutoScroll:()=>{const{viewport:b,selectedItem:w}=r;b&&w&&(b.scrollTop=b.scrollTop+w.offsetHeight)}}):null});Nw.displayName=y1;var Rw=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:o,...u}=t,d=Ms("SelectScrollButton",r),p=N.useRef(null),b=gf(r),w=N.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return N.useEffect(()=>()=>w(),[w]),yr(()=>{var _;const x=b().find(C=>C.ref.current===document.activeElement);(_=x==null?void 0:x.ref.current)==null||_.scrollIntoView({block:"nearest"})},[b]),E.jsx(Dt.div,{"aria-hidden":!0,...u,ref:e,style:{flexShrink:0,...u.style},onPointerDown:Nt(u.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(o,50))}),onPointerMove:Nt(u.onPointerMove,()=>{var x;(x=d.onItemLeave)==null||x.call(d),p.current===null&&(p.current=window.setInterval(o,50))}),onPointerLeave:Nt(u.onPointerLeave,()=>{w()})})}),J5="SelectSeparator",Ow=N.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t;return E.jsx(Dt.div,{"aria-hidden":!0,...o,ref:e})});Ow.displayName=J5;var b1="SelectArrow",eR=N.forwardRef((t,e)=>{const{__scopeSelect:r,...o}=t,u=mf(r),d=Ds(b1,r),p=Ms(b1,r);return d.open&&p.position==="popper"?E.jsx(UN,{...u,...o,ref:e}):null});eR.displayName=b1;var tR="SelectBubbleInput",Iw=N.forwardRef(({__scopeSelect:t,value:e,...r},o)=>{const u=N.useRef(null),d=En(o,u),p=$b(e);return N.useEffect(()=>{const b=u.current;if(!b)return;const w=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(w,"value").set;if(p!==e&&_){const C=new Event("change",{bubbles:!0});_.call(b,e),b.dispatchEvent(C)}},[p,e]),E.jsx(Dt.select,{...r,style:{...Qb,...r.style},ref:d,defaultValue:e})});Iw.displayName=tR;function Dw(t){return t===""||t===void 0}function Mw(t){const e=Ns(t),r=N.useRef(""),o=N.useRef(0),u=N.useCallback(p=>{const b=r.current+p;e(b),(function w(x){r.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>w(""),1e3))})(b)},[e]),d=N.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,u,d]}function kw(t,e,r){const u=e.length>1&&Array.from(e).every(x=>x===e[0])?e[0]:e,d=r?t.indexOf(r):-1;let p=nR(t,Math.max(d,0));u.length===1&&(p=p.filter(x=>x!==r));const w=p.find(x=>x.textValue.toLowerCase().startsWith(u.toLowerCase()));return w!==r?w:void 0}function nR(t,e){return t.map((r,o)=>t[(e+o)%t.length])}var rR=ow,Lw=cw,aR=dw,iR=fw,sR=hw,jw=gw,oR=yw,Bw=vw,Pw=Sw,lR=Aw,cR=_w,Uw=Tw,Fw=Nw,zw=Ow;const w1=rR,v1=aR,Wd=N.forwardRef(({className:t,children:e,...r},o)=>E.jsxs(Lw,{ref:o,className:rn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,E.jsx(iR,{asChild:!0,children:E.jsx(yb,{className:"h-4 w-4 opacity-50"})})]}));Wd.displayName=Lw.displayName;const Hw=N.forwardRef(({className:t,...e},r)=>E.jsx(Uw,{ref:r,className:rn("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(XT,{className:"h-4 w-4"})}));Hw.displayName=Uw.displayName;const Vw=N.forwardRef(({className:t,...e},r)=>E.jsx(Fw,{ref:r,className:rn("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(yb,{className:"h-4 w-4"})}));Vw.displayName=Fw.displayName;const Kd=N.forwardRef(({className:t,children:e,position:r="popper",...o},u)=>E.jsx(sR,{children:E.jsxs(jw,{ref:u,className:rn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...o,children:[E.jsx(Hw,{}),E.jsx(oR,{className:rn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),E.jsx(Vw,{})]})}));Kd.displayName=jw.displayName;const uR=N.forwardRef(({className:t,...e},r)=>E.jsx(Bw,{ref:r,className:rn("px-2 py-1.5 text-sm font-semibold",t),...e}));uR.displayName=Bw.displayName;const wl=N.forwardRef(({className:t,children:e,...r},o)=>E.jsxs(Pw,{ref:o,className:rn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[E.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(cR,{children:E.jsx(FT,{className:"h-4 w-4"})})}),E.jsx(lR,{children:e})]}));wl.displayName=Pw.displayName;const dR=N.forwardRef(({className:t,...e},r)=>E.jsx(zw,{ref:r,className:rn("-mx-1 my-1 h-px bg-muted",t),...e}));dR.displayName=zw.displayName;function fR(t,e){return N.useReducer((r,o)=>e[r][o]??r,t)}var Xc=t=>{const{present:e,children:r}=t,o=hR(e),u=typeof r=="function"?r({present:o.isPresent}):N.Children.only(r),d=En(o.ref,gR(u));return typeof r=="function"||o.isPresent?N.cloneElement(u,{ref:d}):null};Xc.displayName="Presence";function hR(t){const[e,r]=N.useState(),o=N.useRef(null),u=N.useRef(t),d=N.useRef("none"),p=t?"mounted":"unmounted",[b,w]=fR(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const x=Nd(o.current);d.current=b==="mounted"?x:"none"},[b]),yr(()=>{const x=o.current,_=u.current;if(_!==t){const D=d.current,M=Nd(x);t?w("MOUNT"):M==="none"||(x==null?void 0:x.display)==="none"?w("UNMOUNT"):w(_&&D!==M?"ANIMATION_OUT":"UNMOUNT"),u.current=t}},[t,w]),yr(()=>{if(e){let x;const _=e.ownerDocument.defaultView??window,C=M=>{const I=Nd(o.current).includes(CSS.escape(M.animationName));if(M.target===e&&I&&(w("ANIMATION_END"),!u.current)){const B=e.style.animationFillMode;e.style.animationFillMode="forwards",x=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=B)})}},D=M=>{M.target===e&&(d.current=Nd(o.current))};return e.addEventListener("animationstart",D),e.addEventListener("animationcancel",C),e.addEventListener("animationend",C),()=>{_.clearTimeout(x),e.removeEventListener("animationstart",D),e.removeEventListener("animationcancel",C),e.removeEventListener("animationend",C)}}else w("ANIMATION_END")},[e,w]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:N.useCallback(x=>{o.current=x?getComputedStyle(x):null,r(x)},[])}}function Nd(t){return(t==null?void 0:t.animationName)||"none"}function gR(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function mR(t){const e=pR(t),r=N.forwardRef((o,u)=>{const{children:d,...p}=o,b=N.Children.toArray(d),w=b.find(yR);if(w){const x=w.props.children,_=b.map(C=>C===w?N.Children.count(x)>1?N.Children.only(null):N.isValidElement(x)?x.props.children:null:C);return E.jsx(e,{...p,ref:u,children:N.isValidElement(x)?N.cloneElement(x,void 0,_):null})}return E.jsx(e,{...p,ref:u,children:d})});return r.displayName=`${t}.Slot`,r}function pR(t){const e=N.forwardRef((r,o)=>{const{children:u,...d}=r;if(N.isValidElement(u)){const p=wR(u),b=bR(d,u.props);return u.type!==N.Fragment&&(b.ref=o?Nl(o,p):p),N.cloneElement(u,b)}return N.Children.count(u)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xR=Symbol("radix.slottable");function yR(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xR}function bR(t,e){const r={...e};for(const o in e){const u=t[o],d=e[o];/^on[A-Z]/.test(o)?u&&d?r[o]=(...b)=>{const w=d(...b);return u(...b),w}:u&&(r[o]=u):o==="style"?r[o]={...u,...d}:o==="className"&&(r[o]=[u,d].filter(Boolean).join(" "))}return{...t,...r}}function wR(t){var o,u;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(u=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:u.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pf="Dialog",[Gw]=xo(pf),[vR,Fa]=Gw(pf),Yw=t=>{const{__scopeDialog:e,children:r,open:o,defaultOpen:u,onOpenChange:d,modal:p=!0}=t,b=N.useRef(null),w=N.useRef(null),[x,_]=El({prop:o,defaultProp:u??!1,onChange:d,caller:pf});return E.jsx(vR,{scope:e,triggerRef:b,contentRef:w,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:x,onOpenChange:_,onOpenToggle:N.useCallback(()=>_(C=>!C),[_]),modal:p,children:r})};Yw.displayName=pf;var qw="DialogTrigger",ER=N.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,u=Fa(qw,r),d=En(e,u.triggerRef);return E.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":u.open,"aria-controls":u.contentId,"data-state":cg(u.open),...o,ref:d,onClick:Nt(t.onClick,u.onOpenToggle)})});ER.displayName=qw;var og="DialogPortal",[SR,Xw]=Gw(og,{forceMount:void 0}),Ww=t=>{const{__scopeDialog:e,forceMount:r,children:o,container:u}=t,d=Fa(og,e);return E.jsx(SR,{scope:e,forceMount:r,children:N.Children.map(o,p=>E.jsx(Xc,{present:r||d.open,children:E.jsx(ag,{asChild:!0,container:u,children:p})}))})};Ww.displayName=og;var Zd="DialogOverlay",Kw=N.forwardRef((t,e)=>{const r=Xw(Zd,t.__scopeDialog),{forceMount:o=r.forceMount,...u}=t,d=Fa(Zd,t.__scopeDialog);return d.modal?E.jsx(Xc,{present:o||d.open,children:E.jsx(CR,{...u,ref:e})}):null});Kw.displayName=Zd;var AR=mR("DialogOverlay.RemoveScroll"),CR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,u=Fa(Zd,r);return E.jsx(ig,{as:AR,allowPinchZoom:!0,shards:[u.contentRef],children:E.jsx(Dt.div,{"data-state":cg(u.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),mo="DialogContent",Zw=N.forwardRef((t,e)=>{const r=Xw(mo,t.__scopeDialog),{forceMount:o=r.forceMount,...u}=t,d=Fa(mo,t.__scopeDialog);return E.jsx(Xc,{present:o||d.open,children:d.modal?E.jsx(_R,{...u,ref:e}):E.jsx(TR,{...u,ref:e})})});Zw.displayName=mo;var _R=N.forwardRef((t,e)=>{const r=Fa(mo,t.__scopeDialog),o=N.useRef(null),u=En(e,r.contentRef,o);return N.useEffect(()=>{const d=o.current;if(d)return ew(d)},[]),E.jsx($w,{...t,ref:u,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,d=>{var p;d.preventDefault(),(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,d=>{const p=d.detail.originalEvent,b=p.button===0&&p.ctrlKey===!0;(p.button===2||b)&&d.preventDefault()}),onFocusOutside:Nt(t.onFocusOutside,d=>d.preventDefault())})}),TR=N.forwardRef((t,e)=>{const r=Fa(mo,t.__scopeDialog),o=N.useRef(!1),u=N.useRef(!1);return E.jsx($w,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var p,b;(p=t.onCloseAutoFocus)==null||p.call(t,d),d.defaultPrevented||(o.current||(b=r.triggerRef.current)==null||b.focus(),d.preventDefault()),o.current=!1,u.current=!1},onInteractOutside:d=>{var w,x;(w=t.onInteractOutside)==null||w.call(t,d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(u.current=!0));const p=d.target;((x=r.triggerRef.current)==null?void 0:x.contains(p))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&u.current&&d.preventDefault()}})}),$w=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:u,onCloseAutoFocus:d,...p}=t,b=Fa(mo,r),w=N.useRef(null),x=En(e,w);return _b(),E.jsxs(E.Fragment,{children:[E.jsx(K1,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:u,onUnmountAutoFocus:d,children:E.jsx(W1,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":cg(b.open),...p,ref:x,onDismiss:()=>b.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(NR,{titleId:b.titleId}),E.jsx(OR,{contentRef:w,descriptionId:b.descriptionId})]})]})}),lg="DialogTitle",Qw=N.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,u=Fa(lg,r);return E.jsx(Dt.h2,{id:u.titleId,...o,ref:e})});Qw.displayName=lg;var Jw="DialogDescription",ev=N.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,u=Fa(Jw,r);return E.jsx(Dt.p,{id:u.descriptionId,...o,ref:e})});ev.displayName=Jw;var tv="DialogClose",nv=N.forwardRef((t,e)=>{const{__scopeDialog:r,...o}=t,u=Fa(tv,r);return E.jsx(Dt.button,{type:"button",...o,ref:e,onClick:Nt(t.onClick,()=>u.onOpenChange(!1))})});nv.displayName=tv;function cg(t){return t?"open":"closed"}var rv="DialogTitleWarning",[CI,av]=U8(rv,{contentName:mo,titleName:lg,docsSlug:"dialog"}),NR=({titleId:t})=>{const e=av(rv),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},RR="DialogDescriptionWarning",OR=({contentRef:t,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${av(RR).contentName}}.`;return N.useEffect(()=>{var d;const u=(d=t.current)==null?void 0:d.getAttribute("aria-describedby");e&&u&&(document.getElementById(e)||console.warn(o))},[o,t,e]),null},IR=Yw,DR=Ww,iv=Kw,sv=Zw,ov=Qw,lv=ev,MR=nv;const xf=IR,kR=DR,cv=N.forwardRef(({className:t,...e},r)=>E.jsx(iv,{ref:r,className:rn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cv.displayName=iv.displayName;const Wc=N.forwardRef(({className:t,children:e,...r},o)=>E.jsxs(kR,{children:[E.jsx(cv,{}),E.jsxs(sv,{ref:o,className:rn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,E.jsxs(MR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(q1,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wc.displayName=sv.displayName;const Kc=({className:t,...e})=>E.jsx("div",{className:rn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kc.displayName="DialogHeader";const Zc=N.forwardRef(({className:t,...e},r)=>E.jsx(ov,{ref:r,className:rn("text-lg font-semibold leading-none tracking-tight",t),...e}));Zc.displayName=ov.displayName;const LR=N.forwardRef(({className:t,...e},r)=>E.jsx(lv,{ref:r,className:rn("text-sm text-muted-foreground",t),...e}));LR.displayName=lv.displayName;const jR=()=>{const[t,e]=N.useState([]),[r,o]=N.useState(!0),[u,d]=N.useState(!1),[p,b]=N.useState(null),[w,x]=N.useState({name:"",email:"",password:"",role:"RECEPTIONIST"});N.useEffect(()=>{_()},[]);const _=async()=>{try{const I=await vb();e(I)}catch(I){console.error(I),ot.error("Failed to load users")}finally{o(!1)}},C=async I=>{I.preventDefault();try{p?(await M8(p.id,w),ot.success("User updated successfully")):(await D8(w),ot.success("User created successfully")),d(!1),b(null),x({name:"",email:"",password:"",role:"RECEPTIONIST"}),_()}catch(B){console.error(B),ot.error(B.message||"Operation failed")}},D=async(I,B)=>{const j=B?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${j} this user?`))try{B?(await k8(I),ot.success("User deactivated")):(await L8(I),ot.success("User activated")),_()}catch{ot.error(`Failed to ${j} user`)}},M=I=>{b(I),x({name:I.name,email:I.email,password:"",role:I.role}),d(!0)},P=()=>{b(null),x({name:"",email:"",password:"",role:"RECEPTIONIST"}),d(!0)};return r?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Staff Management"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Manage system users and their permissions"})]}),E.jsxs(Je,{onClick:P,className:"bg-slate-900 hover:bg-slate-800","data-testid":"create-user-button",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),E.jsx(Kn,{className:"overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Name"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Email"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Role"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Status"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(I=>E.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`user-row-${I.id}`,children:[E.jsx("td",{className:"px-6 py-4 text-sm text-slate-900 font-medium",children:I.name}),E.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:I.email}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full ${I.role==="ADMIN"?"bg-purple-100 text-purple-700":I.role==="RECEPTIONIST"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:I.role})}),E.jsx("td",{className:"px-6 py-4",children:I.is_active?E.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-700",children:[E.jsx(xy,{className:"w-3 h-3 mr-1"}),"Active"]}):E.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-rose-100 text-rose-700",children:[E.jsx(yy,{className:"w-3 h-3 mr-1"}),"Inactive"]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Je,{size:"sm",variant:"outline",onClick:()=>M(I),"data-testid":`edit-user-${I.id}`,children:E.jsx(sf,{className:"w-4 h-4"})}),I.role!=="ADMIN"&&E.jsx(Je,{size:"sm",variant:I.is_active?"destructive":"default",onClick:()=>D(I.id,I.is_active),"data-testid":`deactivate-user-${I.id}`,className:I.is_active?"":"bg-emerald-600 hover:bg-emerald-700",children:I.is_active?E.jsx(yy,{className:"w-4 h-4"}):E.jsx(xy,{className:"w-4 h-4"})})]})})]},I.id))})]})})}),E.jsx(xf,{open:u,onOpenChange:d,children:E.jsxs(Wc,{"data-testid":"user-form-dialog",children:[E.jsx(Kc,{children:E.jsx(Zc,{children:p?"Edit Staff Member":"Add New Staff"})}),E.jsxs("form",{onSubmit:C,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"name",children:"Full Name"}),E.jsx(ar,{id:"name",value:w.name,onChange:I=>x({...w,name:I.target.value}),required:!0,"data-testid":"user-name-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"email",children:"Email"}),E.jsx(ar,{id:"email",type:"email",value:w.email,onChange:I=>x({...w,email:I.target.value}),required:!0,"data-testid":"user-email-input"})]}),E.jsxs("div",{children:[E.jsxs(wn,{htmlFor:"password",children:["Password ",p&&"(leave blank to keep current)"]}),E.jsx(ar,{id:"password",type:"password",value:w.password,onChange:I=>x({...w,password:I.target.value}),required:!p,"data-testid":"user-password-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"role",children:"Role"}),E.jsxs(w1,{value:w.role,onValueChange:I=>x({...w,role:I}),children:[E.jsx(Wd,{"data-testid":"user-role-select",children:E.jsx(v1,{})}),E.jsxs(Kd,{children:[E.jsx(wl,{value:"ADMIN",children:"Admin"}),E.jsx(wl,{value:"RECEPTIONIST",children:"Receptionist"}),E.jsx(wl,{value:"SCANNER",children:"Scanner"})]})]})]}),E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Je,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800","data-testid":"user-form-submit",children:p?"Update":"Create"}),E.jsx(Je,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})};var yf="Switch",[BR]=xo(yf),[PR,UR]=BR(yf),uv=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:o,checked:u,defaultChecked:d,required:p,disabled:b,value:w="on",onCheckedChange:x,form:_,...C}=t,[D,M]=N.useState(null),P=En(e,F=>M(F)),I=N.useRef(!1),B=D?_||!!D.closest("form"):!0,[j,H]=El({prop:u,defaultProp:d??!1,onChange:x,caller:yf});return E.jsxs(PR,{scope:r,checked:j,disabled:b,children:[E.jsx(Dt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":p,"data-state":gv(j),"data-disabled":b?"":void 0,disabled:b,value:w,...C,ref:P,onClick:Nt(t.onClick,F=>{H(Q=>!Q),B&&(I.current=F.isPropagationStopped(),I.current||F.stopPropagation())})}),B&&E.jsx(hv,{control:D,bubbles:!I.current,name:o,value:w,checked:j,required:p,disabled:b,form:_,style:{transform:"translateX(-100%)"}})]})});uv.displayName=yf;var dv="SwitchThumb",fv=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...o}=t,u=UR(dv,r);return E.jsx(Dt.span,{"data-state":gv(u.checked),"data-disabled":u.disabled?"":void 0,...o,ref:e})});fv.displayName=dv;var FR="SwitchBubbleInput",hv=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:o=!0,...u},d)=>{const p=N.useRef(null),b=En(p,d),w=$b(r),x=Fb(e);return N.useEffect(()=>{const _=p.current;if(!_)return;const C=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(C,"checked").set;if(w!==r&&M){const P=new Event("click",{bubbles:o});M.call(_,r),_.dispatchEvent(P)}},[w,r,o]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...u,tabIndex:-1,ref:b,style:{...u.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hv.displayName=FR;function gv(t){return t?"checked":"unchecked"}var mv=uv,zR=fv;const $d=N.forwardRef(({className:t,...e},r)=>E.jsx(mv,{className:rn("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:E.jsx(zR,{className:rn("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));$d.displayName=mv.displayName;const HR=async()=>{const{data:t,error:e}=await It.from("categories").select("*").order("name");if(e)throw e;return t},VR=async()=>{const{data:t,error:e}=await It.from("categories").select("*").eq("active",!0).order("name");if(e)throw e;return t},pv=async(t,e=null)=>{let r=It.from("categories").select("id").eq("code_prefix",t.toUpperCase());e&&(r=r.neq("id",e));const{data:o,error:u}=await r;if(u)throw u;return o.length===0},GR=async t=>{if(!await pv(t.code_prefix))throw new Error(`Prefix "${t.code_prefix}" is already in use`);const{data:r,error:o}=await It.from("categories").insert({name:t.name,code_prefix:t.code_prefix.toUpperCase(),requires_nim:t.requires_nim||!1,price:t.price||0,active:t.active!==void 0?t.active:!0,description:t.description||null}).select().single();if(o)throw o;return r},YR=async(t,e)=>{if(e.code_prefix){if(!await pv(e.code_prefix,t))throw new Error(`Prefix "${e.code_prefix}" is already in use`);e.code_prefix=e.code_prefix.toUpperCase()}const{data:r,error:o}=await It.from("categories").update(e).eq("id",t).select().single();if(o)throw o;return r},qR=async(t,e)=>{const{data:r,error:o}=await It.from("categories").update({active:e}).eq("id",t).select().single();if(o)throw o;return r},XR=()=>{const[t,e]=N.useState([]),[r,o]=N.useState(!0),[u,d]=N.useState(!1),[p,b]=N.useState(null),[w,x]=N.useState({name:"",code_prefix:"",price:"",requires_nim:!1,active:!0,description:""}),[_,C]=N.useState(!1);N.useEffect(()=>{D()},[]);const D=async()=>{try{const j=await HR();e(j)}catch(j){console.error(j),ot.error("Failed to load categories")}finally{o(!1)}},M=()=>{x({name:"",code_prefix:"",price:"",requires_nim:!1,active:!0,description:""}),b(null),d(!1)},P=j=>{var H;x({name:j.name,code_prefix:j.code_prefix,price:((H=j.price)==null?void 0:H.toString())||"",requires_nim:j.requires_nim,active:j.active,description:j.description||""}),b(j.id),d(!0)},I=async j=>{if(j.preventDefault(),!w.name.trim()){ot.error("Category name is required");return}if(!w.code_prefix.trim()){ot.error("Code prefix is required");return}if(w.code_prefix.length>3){ot.error("Code prefix must be 1-3 characters");return}if(!w.price||parseFloat(w.price)<0){ot.error("Valid price is required");return}C(!0);try{const H={name:w.name.trim(),code_prefix:w.code_prefix.toUpperCase().trim(),price:parseFloat(w.price),requires_nim:w.requires_nim,active:w.active,description:w.description.trim()||null};p?(await YR(p,H),ot.success("Category updated successfully")):(await GR(H),ot.success("Category created successfully")),M(),D()}catch(H){console.error(H),ot.error(H.message||"Failed to save category")}finally{C(!1)}},B=async j=>{try{await qR(j.id,!j.active),ot.success(`Category ${j.active?"disabled":"enabled"}`),D()}catch(H){console.error(H),ot.error("Failed to update category status")}};return r?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Ticket Categories"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Manage ticket categories, prefixes, and pricing"})]}),!u&&E.jsxs(Je,{onClick:()=>d(!0),className:"bg-slate-900 hover:bg-slate-800","data-testid":"add-category-button",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),u&&E.jsx(Kn,{className:"p-6 border-2 border-sky-500","data-testid":"category-form",children:E.jsxs("form",{onSubmit:I,className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:p?"Edit Category":"New Category"}),E.jsx(Je,{type:"button",variant:"ghost",size:"icon",onClick:M,children:E.jsx(q1,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"name",children:"Category Name *"}),E.jsx(ar,{id:"name",value:w.name,onChange:j=>x({...w,name:j.target.value}),placeholder:"e.g., Umum, VIP, Mahasiswa",className:"mt-1","data-testid":"category-name-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"code_prefix",children:"Code Prefix * (1-3 chars)"}),E.jsx(ar,{id:"code_prefix",value:w.code_prefix,onChange:j=>x({...w,code_prefix:j.target.value.toUpperCase().slice(0,3)}),placeholder:"e.g., U, VIP, M",maxLength:3,className:"mt-1 uppercase","data-testid":"category-prefix-input"}),E.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Used in ticket codes: ",w.code_prefix||"XXX","-20260112-0001-A1B2"]})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"price",children:"Price (Rp) *"}),E.jsx(ar,{id:"price",type:"number",min:"0",step:"1000",value:w.price,onChange:j=>x({...w,price:j.target.value}),placeholder:"e.g., 15000",className:"mt-1","data-testid":"category-price-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"description",children:"Description"}),E.jsx(ar,{id:"description",value:w.description,onChange:j=>x({...w,description:j.target.value}),placeholder:"Optional description",className:"mt-1","data-testid":"category-description-input"})]})]}),E.jsxs("div",{className:"flex items-center gap-6 pt-2",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx($d,{id:"requires_nim",checked:w.requires_nim,onCheckedChange:j=>x({...w,requires_nim:j}),"data-testid":"category-nim-switch"}),E.jsx(wn,{htmlFor:"requires_nim",className:"cursor-pointer",children:"Requires NIM (Student ID)"})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx($d,{id:"active",checked:w.active,onCheckedChange:j=>x({...w,active:j}),"data-testid":"category-active-switch"}),E.jsx(wn,{htmlFor:"active",className:"cursor-pointer",children:"Active"})]})]}),E.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[E.jsx(Je,{type:"button",variant:"outline",onClick:M,disabled:_,children:"Cancel"}),E.jsx(Je,{type:"submit",disabled:_,className:"bg-slate-900 hover:bg-slate-800","data-testid":"save-category-button",children:_?"Saving...":p?"Update Category":"Create Category"})]})]})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(j=>E.jsxs(Kn,{className:`p-5 transition-all ${j.active?"":"opacity-60 bg-slate-50"}`,"data-testid":`category-card-${j.id}`,children:[E.jsx("div",{className:"flex items-start justify-between mb-3",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center font-bold text-lg ${j.active?"bg-sky-100 text-sky-700":"bg-slate-200 text-slate-500"}`,children:j.code_prefix}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:j.name}),E.jsx("p",{className:"text-sm text-slate-500",children:j.description||"No description"})]})]})}),E.jsxs("div",{className:"space-y-2 mb-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-slate-600",children:"Price:"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["Rp ",(j.price||0).toLocaleString()]})]}),E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-slate-600",children:"Ticket Code:"}),E.jsxs("span",{className:"font-mono text-xs bg-slate-100 px-2 py-0.5 rounded",children:[j.code_prefix,"-YYYYMMDD-XXXX"]})]}),E.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[j.requires_nim&&E.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded",children:[E.jsx(bb,{className:"w-3 h-3 mr-1"}),"NIM Required"]}),E.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${j.active?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:j.active?"Active":"Disabled"})]})]}),E.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-slate-200",children:[E.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>P(j),className:"flex-1","data-testid":`edit-category-${j.id}`,children:[E.jsx(g8,{className:"w-4 h-4 mr-1"}),"Edit"]}),E.jsx(Je,{variant:j.active?"outline":"default",size:"sm",onClick:()=>B(j),className:`flex-1 ${j.active?"":"bg-emerald-600 hover:bg-emerald-700"}`,"data-testid":`toggle-category-${j.id}`,children:j.active?"Disable":"Enable"})]})]},j.id))}),t.length===0&&E.jsxs(Kn,{className:"p-12 text-center",children:[E.jsx(of,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),E.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Categories Yet"}),E.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first ticket category to get started"}),E.jsxs(Je,{onClick:()=>d(!0),className:"bg-slate-900 hover:bg-slate-800",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Category"]})]})]})},WR=async()=>{const{data:t,error:e}=await It.from("sessions").select("*").order("start_time");if(e)throw e;return t},KR=async t=>{const{data:e,error:r}=await It.from("sessions").insert(t).select().single();if(r)throw r;return e},ZR=async(t,e)=>{const{data:r,error:o}=await It.from("sessions").update(e).eq("id",t).select().single();if(o)throw o;return r},$R=async t=>{const{error:e}=await It.from("sessions").delete().eq("id",t);if(e)throw e},QR=async()=>{const{data:t,error:e}=await It.from("packages").select("*").order("name");if(e)throw e;return t},JR=async t=>{const{data:e,error:r}=await It.from("packages").insert(t).select().single();if(r)throw r;return e},eO=async(t,e)=>{const{data:r,error:o}=await It.from("packages").update(e).eq("id",t).select().single();if(o)throw o;return r},tO=async t=>{const{error:e}=await It.from("packages").delete().eq("id",t);if(e)throw e},nO=async()=>{const{data:t,error:e}=await It.from("locations").select("*").order("name");if(e)throw e;return t},rO=async t=>{const{data:e,error:r}=await It.from("locations").insert(t).select().single();if(r)throw r;return e},aO=async(t,e)=>{const{data:r,error:o}=await It.from("locations").update(e).eq("id",t).select().single();if(o)throw o;return r},iO=async t=>{const{error:e}=await It.from("locations").delete().eq("id",t);if(e)throw e},sO=[{id:"Monday",label:"Mon"},{id:"Tuesday",label:"Tue"},{id:"Wednesday",label:"Wed"},{id:"Thursday",label:"Thu"},{id:"Friday",label:"Fri"},{id:"Saturday",label:"Sat"},{id:"Sunday",label:"Sun"}],oO=()=>{const[t,e]=N.useState([]),[r,o]=N.useState(!0),[u,d]=N.useState(!1),[p,b]=N.useState(null),[w,x]=N.useState({name:"",start_time:"07:00",end_time:"08:30",days:[],is_recurring:!0});N.useEffect(()=>{_()},[]);const _=async()=>{try{const j=await WR();e(j)}catch(j){console.error(j),ot.error("Failed to load sessions")}finally{o(!1)}},C=async j=>{if(j.preventDefault(),w.days.length===0){ot.error("Please select at least one day");return}try{p?(await ZR(p.id,w),ot.success("Session updated successfully")):(await KR(w),ot.success("Session created successfully")),d(!1),b(null),M(),_()}catch(H){console.error(H),ot.error(H.message||"Operation failed")}},D=async j=>{if(window.confirm("Are you sure you want to delete this session?"))try{await $R(j),ot.success("Session deleted"),_()}catch(H){console.error(H),ot.error("Failed to delete session")}},M=()=>{x({name:"",start_time:"07:00",end_time:"08:30",days:[],is_recurring:!0})},P=j=>{b(j),x({name:j.name,start_time:j.start_time,end_time:j.end_time,days:j.days||[],is_recurring:j.is_recurring}),d(!0)},I=()=>{b(null),M(),d(!0)},B=j=>{x(H=>({...H,days:H.days.includes(j)?H.days.filter(F=>F!==j):[...H.days,j]}))};return r?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Session Management"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Manage pool sessions and schedules"})]}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800","data-testid":"create-session-button",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Session"]})]}),t.length===0?E.jsxs(Kn,{className:"p-12 text-center",children:[E.jsx(Hd,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),E.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Sessions"}),E.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first session to get started"}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Session"]})]}):E.jsx(Kn,{className:"overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Session Name"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Time"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Days"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Recurring"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(j=>{var H;return E.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`session-row-${j.id}`,children:[E.jsx("td",{className:"px-6 py-4 text-sm text-slate-900 font-medium",children:j.name}),E.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:E.jsxs("span",{className:"inline-flex items-center",children:[E.jsx(Hd,{className:"w-4 h-4 mr-1 text-slate-400"}),j.start_time," - ",j.end_time]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("div",{className:"flex flex-wrap gap-1",children:(H=j.days)==null?void 0:H.map(F=>E.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded bg-sky-100 text-sky-700",children:F.substring(0,3)},F))})}),E.jsx("td",{className:"px-6 py-4",children:j.is_recurring?E.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-700",children:"Yes"}):E.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full bg-slate-100 text-slate-600",children:"No"})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Je,{size:"sm",variant:"outline",onClick:()=>P(j),"data-testid":`edit-session-${j.id}`,children:E.jsx(sf,{className:"w-4 h-4"})}),E.jsx(Je,{size:"sm",variant:"destructive",onClick:()=>D(j.id),"data-testid":`delete-session-${j.id}`,children:E.jsx(G1,{className:"w-4 h-4"})})]})})]},j.id)})})]})})}),E.jsx(xf,{open:u,onOpenChange:d,children:E.jsxs(Wc,{"data-testid":"session-form-dialog",children:[E.jsx(Kc,{children:E.jsx(Zc,{children:p?"Edit Session":"Add New Session"})}),E.jsxs("form",{onSubmit:C,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"name",children:"Session Name"}),E.jsx(ar,{id:"name",value:w.name,onChange:j=>x({...w,name:j.target.value}),placeholder:"e.g., Session 1, Club Caesar",required:!0,"data-testid":"session-name-input"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"start_time",children:"Start Time"}),E.jsx(ar,{id:"start_time",type:"time",value:w.start_time,onChange:j=>x({...w,start_time:j.target.value}),required:!0,"data-testid":"session-start-time-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"end_time",children:"End Time"}),E.jsx(ar,{id:"end_time",type:"time",value:w.end_time,onChange:j=>x({...w,end_time:j.target.value}),required:!0,"data-testid":"session-end-time-input"})]})]}),E.jsxs("div",{children:[E.jsx(wn,{className:"mb-3 block",children:"Days of Week"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:sO.map(j=>E.jsx("button",{type:"button",onClick:()=>B(j.id),className:`px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${w.days.includes(j.id)?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-300 hover:border-slate-400"}`,"data-testid":`session-day-${j.id.toLowerCase()}`,children:j.label},j.id))})]}),E.jsxs("div",{className:"flex items-center justify-between py-2",children:[E.jsx(wn,{htmlFor:"is_recurring",className:"cursor-pointer",children:"Recurring Session"}),E.jsx($d,{id:"is_recurring",checked:w.is_recurring,onCheckedChange:j=>x({...w,is_recurring:j}),"data-testid":"session-recurring-switch"})]}),E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Je,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800","data-testid":"session-form-submit",children:p?"Update":"Create"}),E.jsx(Je,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},xv=N.forwardRef(({className:t,...e},r)=>E.jsx("textarea",{className:rn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));xv.displayName="Textarea";const lO=()=>{const[t,e]=N.useState([]),[r,o]=N.useState(!0),[u,d]=N.useState(!1),[p,b]=N.useState(null),[w,x]=N.useState({name:"",depth_range:"",description:""});N.useEffect(()=>{_()},[]);const _=async()=>{try{const B=await QR();e(B)}catch(B){console.error(B),ot.error("Failed to load packages")}finally{o(!1)}},C=async B=>{B.preventDefault();try{p?(await eO(p.id,w),ot.success("Package updated successfully")):(await JR(w),ot.success("Package created successfully")),d(!1),b(null),M(),_()}catch(j){console.error(j),ot.error(j.message||"Operation failed")}},D=async B=>{if(window.confirm("Are you sure you want to delete this package?"))try{await tO(B),ot.success("Package deleted"),_()}catch(j){console.error(j),ot.error("Failed to delete package")}},M=()=>{x({name:"",depth_range:"",description:""})},P=B=>{b(B),x({name:B.name,depth_range:B.depth_range,description:B.description||""}),d(!0)},I=()=>{b(null),M(),d(!0)};return r?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Package Management"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Manage pool packages and depth ranges"})]}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800","data-testid":"create-package-button",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Package"]})]}),t.length===0?E.jsxs(Kn,{className:"p-12 text-center",children:[E.jsx(c1,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),E.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Packages"}),E.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first package to get started"}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Package"]})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(B=>E.jsxs(Kn,{className:"p-6","data-testid":`package-card-${B.id}`,children:[E.jsx("div",{className:"flex items-start justify-between mb-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-lg flex items-center justify-center mr-3",children:E.jsx(c1,{className:"w-5 h-5 text-sky-600"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-slate-900 text-lg",children:B.name}),E.jsx("p",{className:"text-sm text-sky-600 font-medium",children:B.depth_range})]})]})}),B.description&&E.jsx("p",{className:"text-sm text-slate-600 mb-4",children:B.description}),E.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-slate-200",children:[E.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>P(B),className:"flex-1","data-testid":`edit-package-${B.id}`,children:[E.jsx(sf,{className:"w-4 h-4 mr-1"}),"Edit"]}),E.jsx(Je,{size:"sm",variant:"destructive",onClick:()=>D(B.id),"data-testid":`delete-package-${B.id}`,children:E.jsx(G1,{className:"w-4 h-4"})})]})]},B.id))}),E.jsx(xf,{open:u,onOpenChange:d,children:E.jsxs(Wc,{"data-testid":"package-form-dialog",children:[E.jsx(Kc,{children:E.jsx(Zc,{children:p?"Edit Package":"Add New Package"})}),E.jsxs("form",{onSubmit:C,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"name",children:"Package Name"}),E.jsx(ar,{id:"name",value:w.name,onChange:B=>x({...w,name:B.target.value}),placeholder:"e.g., PAUD, SD, SMP",required:!0,"data-testid":"package-name-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"depth_range",children:"Depth Range"}),E.jsx(ar,{id:"depth_range",value:w.depth_range,onChange:B=>x({...w,depth_range:B.target.value}),placeholder:"e.g., 0-40 cm, 40-100 cm",required:!0,"data-testid":"package-depth-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"description",children:"Description (Optional)"}),E.jsx(xv,{id:"description",value:w.description,onChange:B=>x({...w,description:B.target.value}),placeholder:"Enter package description...",rows:3,"data-testid":"package-description-input"})]}),E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Je,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800","data-testid":"package-form-submit",children:p?"Update":"Create"}),E.jsx(Je,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},cO=()=>{const[t,e]=N.useState([]),[r,o]=N.useState(!0),[u,d]=N.useState(!1),[p,b]=N.useState(null),[w,x]=N.useState({name:"",capacity:""});N.useEffect(()=>{_()},[]);const _=async()=>{try{const B=await nO();e(B)}catch(B){console.error(B),ot.error("Failed to load locations")}finally{o(!1)}},C=async B=>{B.preventDefault();try{const j={name:w.name,capacity:w.capacity?parseInt(w.capacity,10):null};p?(await aO(p.id,j),ot.success("Location updated successfully")):(await rO(j),ot.success("Location created successfully")),d(!1),b(null),M(),_()}catch(j){console.error(j),ot.error(j.message||"Operation failed")}},D=async B=>{if(window.confirm("Are you sure you want to delete this location?"))try{await iO(B),ot.success("Location deleted"),_()}catch(j){console.error(j),ot.error("Failed to delete location")}},M=()=>{x({name:"",capacity:""})},P=B=>{var j;b(B),x({name:B.name,capacity:((j=B.capacity)==null?void 0:j.toString())||""}),d(!0)},I=()=>{b(null),M(),d(!0)};return r?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Location Management"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"Manage pool locations and capacities"})]}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800","data-testid":"create-location-button",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Location"]})]}),t.length===0?E.jsxs(Kn,{className:"p-12 text-center",children:[E.jsx(l1,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),E.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Locations"}),E.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first location to get started"}),E.jsxs(Je,{onClick:I,className:"bg-slate-900 hover:bg-slate-800",children:[E.jsx(ja,{className:"w-4 h-4 mr-2"}),"Add Location"]})]}):E.jsx(Kn,{className:"overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Location Name"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Capacity"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Created"}),E.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(B=>E.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`location-row-${B.id}`,children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center mr-3",children:E.jsx(l1,{className:"w-4 h-4 text-sky-600"})}),E.jsx("span",{className:"text-sm text-slate-900 font-medium",children:B.name})]})}),E.jsx("td",{className:"px-6 py-4",children:B.capacity?E.jsxs("span",{className:"inline-flex items-center text-sm text-slate-600",children:[E.jsx(Y1,{className:"w-4 h-4 mr-1 text-slate-400"}),B.capacity," people"]}):E.jsx("span",{className:"text-sm text-slate-400",children:"Not set"})}),E.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(B.created_at).toLocaleDateString()}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Je,{size:"sm",variant:"outline",onClick:()=>P(B),"data-testid":`edit-location-${B.id}`,children:E.jsx(sf,{className:"w-4 h-4"})}),E.jsx(Je,{size:"sm",variant:"destructive",onClick:()=>D(B.id),"data-testid":`delete-location-${B.id}`,children:E.jsx(G1,{className:"w-4 h-4"})})]})})]},B.id))})]})})}),E.jsx(xf,{open:u,onOpenChange:d,children:E.jsxs(Wc,{"data-testid":"location-form-dialog",children:[E.jsx(Kc,{children:E.jsx(Zc,{children:p?"Edit Location":"Add New Location"})}),E.jsxs("form",{onSubmit:C,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"name",children:"Location Name"}),E.jsx(ar,{id:"name",value:w.name,onChange:B=>x({...w,name:B.target.value}),placeholder:"e.g., Main Pool, Kids Pool",required:!0,"data-testid":"location-name-input"})]}),E.jsxs("div",{children:[E.jsx(wn,{htmlFor:"capacity",children:"Capacity (Optional)"}),E.jsx(ar,{id:"capacity",type:"number",min:"1",value:w.capacity,onChange:B=>x({...w,capacity:B.target.value}),placeholder:"e.g., 50","data-testid":"location-capacity-input"}),E.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Maximum number of people allowed"})]}),E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Je,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800","data-testid":"location-form-submit",children:p?"Update":"Create"}),E.jsx(Je,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})};var G0="rovingFocusGroup.onEntryFocus",uO={bubbles:!1,cancelable:!0},$c="RovingFocusGroup",[E1,yv,dO]=Sb($c),[fO,bv]=xo($c,[dO]),[hO,gO]=fO($c),wv=N.forwardRef((t,e)=>E.jsx(E1.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(E1.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(mO,{...t,ref:e})})}));wv.displayName=$c;var mO=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:u=!1,dir:d,currentTabStopId:p,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:x,preventScrollOnEntryFocus:_=!1,...C}=t,D=N.useRef(null),M=En(e,D),P=X1(d),[I,B]=El({prop:p,defaultProp:b??null,onChange:w,caller:$c}),[j,H]=N.useState(!1),F=Ns(x),Q=yv(r),ce=N.useRef(!1),[se,Y]=N.useState(0);return N.useEffect(()=>{const X=D.current;if(X)return X.addEventListener(G0,F),()=>X.removeEventListener(G0,F)},[F]),E.jsx(hO,{scope:r,orientation:o,dir:P,loop:u,currentTabStopId:I,onItemFocus:N.useCallback(X=>B(X),[B]),onItemShiftTab:N.useCallback(()=>H(!0),[]),onFocusableItemAdd:N.useCallback(()=>Y(X=>X+1),[]),onFocusableItemRemove:N.useCallback(()=>Y(X=>X-1),[]),children:E.jsx(Dt.div,{tabIndex:j||se===0?-1:0,"data-orientation":o,...C,ref:M,style:{outline:"none",...t.style},onMouseDown:Nt(t.onMouseDown,()=>{ce.current=!0}),onFocus:Nt(t.onFocus,X=>{const ne=!ce.current;if(X.target===X.currentTarget&&ne&&!j){const De=new CustomEvent(G0,uO);if(X.currentTarget.dispatchEvent(De),!De.defaultPrevented){const Le=Q().filter(K=>K.focusable),Ae=Le.find(K=>K.active),Me=Le.find(K=>K.id===I),re=[Ae,Me,...Le].filter(Boolean).map(K=>K.ref.current);Sv(re,_)}}ce.current=!1}),onBlur:Nt(t.onBlur,()=>H(!1))})})}),vv="RovingFocusGroupItem",Ev=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:u=!1,tabStopId:d,children:p,...b}=t,w=Ts(),x=d||w,_=gO(vv,r),C=_.currentTabStopId===x,D=yv(r),{onFocusableItemAdd:M,onFocusableItemRemove:P,currentTabStopId:I}=_;return N.useEffect(()=>{if(o)return M(),()=>P()},[o,M,P]),E.jsx(E1.ItemSlot,{scope:r,id:x,focusable:o,active:u,children:E.jsx(Dt.span,{tabIndex:C?0:-1,"data-orientation":_.orientation,...b,ref:e,onMouseDown:Nt(t.onMouseDown,B=>{o?_.onItemFocus(x):B.preventDefault()}),onFocus:Nt(t.onFocus,()=>_.onItemFocus(x)),onKeyDown:Nt(t.onKeyDown,B=>{if(B.key==="Tab"&&B.shiftKey){_.onItemShiftTab();return}if(B.target!==B.currentTarget)return;const j=yO(B,_.orientation,_.dir);if(j!==void 0){if(B.metaKey||B.ctrlKey||B.altKey||B.shiftKey)return;B.preventDefault();let F=D().filter(Q=>Q.focusable).map(Q=>Q.ref.current);if(j==="last")F.reverse();else if(j==="prev"||j==="next"){j==="prev"&&F.reverse();const Q=F.indexOf(B.currentTarget);F=_.loop?bO(F,Q+1):F.slice(Q+1)}setTimeout(()=>Sv(F))}}),children:typeof p=="function"?p({isCurrentTabStop:C,hasTabStop:I!=null}):p})})});Ev.displayName=vv;var pO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yO(t,e,r){const o=xO(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return pO[o]}function Sv(t,e=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:e}),document.activeElement!==r))return}function bO(t,e){return t.map((r,o)=>t[(e+o)%t.length])}var wO=wv,vO=Ev,bf="Tabs",[EO]=xo(bf,[bv]),Av=bv(),[SO,ug]=EO(bf),Cv=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:o,onValueChange:u,defaultValue:d,orientation:p="horizontal",dir:b,activationMode:w="automatic",...x}=t,_=X1(b),[C,D]=El({prop:o,onChange:u,defaultProp:d??"",caller:bf});return E.jsx(SO,{scope:r,baseId:Ts(),value:C,onValueChange:D,orientation:p,dir:_,activationMode:w,children:E.jsx(Dt.div,{dir:_,"data-orientation":p,...x,ref:e})})});Cv.displayName=bf;var _v="TabsList",Tv=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:o=!0,...u}=t,d=ug(_v,r),p=Av(r);return E.jsx(wO,{asChild:!0,...p,orientation:d.orientation,dir:d.dir,loop:o,children:E.jsx(Dt.div,{role:"tablist","aria-orientation":d.orientation,...u,ref:e})})});Tv.displayName=_v;var Nv="TabsTrigger",Rv=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:o,disabled:u=!1,...d}=t,p=ug(Nv,r),b=Av(r),w=Dv(p.baseId,o),x=Mv(p.baseId,o),_=o===p.value;return E.jsx(vO,{asChild:!0,...b,focusable:!u,active:_,children:E.jsx(Dt.button,{type:"button",role:"tab","aria-selected":_,"aria-controls":x,"data-state":_?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:w,...d,ref:e,onMouseDown:Nt(t.onMouseDown,C=>{!u&&C.button===0&&C.ctrlKey===!1?p.onValueChange(o):C.preventDefault()}),onKeyDown:Nt(t.onKeyDown,C=>{[" ","Enter"].includes(C.key)&&p.onValueChange(o)}),onFocus:Nt(t.onFocus,()=>{const C=p.activationMode!=="manual";!_&&!u&&C&&p.onValueChange(o)})})})});Rv.displayName=Nv;var Ov="TabsContent",Iv=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:o,forceMount:u,children:d,...p}=t,b=ug(Ov,r),w=Dv(b.baseId,o),x=Mv(b.baseId,o),_=o===b.value,C=N.useRef(_);return N.useEffect(()=>{const D=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(D)},[]),E.jsx(Xc,{present:u||_,children:({present:D})=>E.jsx(Dt.div,{"data-state":_?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":w,hidden:!D,id:x,tabIndex:0,...p,ref:e,style:{...t.style,animationDuration:C.current?"0s":void 0},children:D&&d})})});Iv.displayName=Ov;function Dv(t,e){return`${t}-trigger-${e}`}function Mv(t,e){return`${t}-content-${e}`}var AO=Cv,kv=Tv,Lv=Rv,jv=Iv;const CO=AO,Bv=N.forwardRef(({className:t,...e},r)=>E.jsx(kv,{ref:r,className:rn("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Bv.displayName=kv.displayName;const kd=N.forwardRef(({className:t,...e},r)=>E.jsx(Lv,{ref:r,className:rn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));kd.displayName=Lv.displayName;const _O=N.forwardRef(({className:t,...e},r)=>E.jsx(jv,{ref:r,className:rn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_O.displayName=jv.displayName;const TO=()=>{var se,Y,X,ne,De,Le,Ae,Me,je,re,K;const[t,e]=N.useState("daily"),[r,o]=N.useState(null),[u,d]=N.useState(!1),[p,b]=N.useState(new Date().toISOString().split("T")[0]),[w,x]=N.useState(new Date().getMonth()+1),[_,C]=N.useState(new Date().getFullYear()),[D,M]=N.useState("summary"),[P,I]=N.useState(1),B=20,j=async()=>{d(!0);try{let q;t==="daily"?q=await Eb(p):t==="monthly"?q=await j8(_,w):t==="batch"&&(q=await B8(p)),o(q),I(1)}catch(q){console.error(q),ot.error("Failed to load report: "+q.message)}finally{d(!1)}};N.useEffect(()=>{j()},[p,w,_,t]),N.useEffect(()=>{M("summary")},[t]);const H=()=>{window.print()},F=()=>{if(!r||!r.tickets||r.tickets.length===0){ot.error("No ticket data to export");return}const q=r.tickets,te=["No","Ticket ID","Category","Staff","Quantity","Price (Rp)","Status","Date","Time"],Oe=q.map((be,Te)=>{const qe=new Date(be.created_at);return[Te+1,be.id,be.category_name,be.created_by_name,be.quantity||1,be.price,be.status,qe.toLocaleDateString("id-ID"),qe.toLocaleTimeString("id-ID")]}),Be=q.reduce((be,Te)=>be+parseFloat(Te.price),0),$=q.reduce((be,Te)=>be+(Te.quantity||1),0);Oe.push(["","","","TOTAL",$,Be,"","",""]);const ge=[te,...Oe].map(be=>be.map(Te=>`"${Te}"`).join(",")).join(`
`),pe=new Blob(["\uFEFF"+ge],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a"),ke=URL.createObjectURL(pe);xe.setAttribute("href",ke);const ve=t==="daily"?`ticket_history_${p}.csv`:`ticket_history_${_}-${String(w).padStart(2,"0")}.csv`;xe.setAttribute("download",ve),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),ot.success("Excel file downloaded successfully!")},Q=()=>{if(!r||!r.tickets)return[];const q=(P-1)*B,te=q+B;return r.tickets.slice(q,te)},ce=()=>!r||!r.tickets?1:Math.ceil(r.tickets.length/B);return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center print:hidden",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Reports"}),E.jsx("p",{className:"text-slate-600 mt-1",children:"View sales and operational analytics"})]}),E.jsxs(Je,{onClick:H,variant:"outline",children:[E.jsx(wb,{className:"w-4 h-4 mr-2"}),"Print Report"]})]}),E.jsx(CO,{defaultValue:"daily",value:t,onValueChange:e,className:"print:hidden",children:E.jsxs(Bv,{className:"mb-4",children:[E.jsx(kd,{value:"daily",children:"Daily Report"}),E.jsx(kd,{value:"monthly",children:"Monthly Report"}),E.jsx(kd,{value:"batch",children:"Batch Audit"})]})}),E.jsxs(Kn,{className:"p-6 print:shadow-none print:border-none",children:[E.jsxs("div",{className:"flex items-center space-x-4 mb-6 print:hidden",children:[t==="daily"||t==="batch"?E.jsxs("div",{className:"flex-1 max-w-xs",children:[E.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Date"}),E.jsx("input",{type:"date",value:p,onChange:q=>b(q.target.value),className:"w-full h-10 px-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500"})]}):E.jsxs("div",{className:"flex space-x-4",children:[E.jsxs("div",{className:"w-32",children:[E.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Month"}),E.jsxs(w1,{value:w.toString(),onValueChange:q=>x(parseInt(q)),children:[E.jsx(Wd,{children:E.jsx(v1,{})}),E.jsx(Kd,{children:Array.from({length:12},(q,te)=>E.jsx(wl,{value:(te+1).toString(),children:new Date(0,te).toLocaleString("default",{month:"long"})},te+1))})]})]}),E.jsxs("div",{className:"w-32",children:[E.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Year"}),E.jsxs(w1,{value:_.toString(),onValueChange:q=>C(parseInt(q)),children:[E.jsx(Wd,{children:E.jsx(v1,{})}),E.jsx(Kd,{children:[2024,2025,2026].map(q=>E.jsx(wl,{value:q.toString(),children:q},q))})]})]})]}),E.jsx(Je,{onClick:j,className:"bg-slate-900 hover:bg-slate-800 mt-7",children:"Refresh"})]}),u?E.jsx("div",{className:"flex justify-center py-12",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):r?E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"hidden print:block mb-8 text-center border-b pb-4",children:[E.jsx("h1",{className:"text-2xl font-bold",children:"KOLAM RENANG UNY - LAPORAN"}),E.jsx("p",{className:"text-sm text-slate-600",children:t==="daily"?`Daily Report: ${p}`:t==="monthly"?`Monthly Report: ${w}/${_}`:`Batch Audit: ${p}`})]}),t==="batch"?E.jsx("div",{className:"space-y-4",children:r.length===0?E.jsx("p",{className:"text-center text-slate-500 py-8",children:"No batches found for this date."}):r.map(q=>E.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"font-semibold text-slate-900",children:["Batch ID: ",E.jsx("span",{className:"font-mono text-xs",children:q.batch_id})]}),E.jsxs("p",{className:"text-sm text-slate-600",children:["Created by: ",q.created_by_name," | Shift: ",q.shift]}),E.jsx("p",{className:"text-xs text-slate-400",children:new Date(q.created_at).toLocaleTimeString()})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:"font-bold text-lg",children:["Rp ",q.total_revenue.toLocaleString()]}),E.jsxs("p",{className:"text-sm text-emerald-600",children:[q.total_tickets," Tickets"]})]})]}),E.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100 text-xs text-slate-500 flex flex-wrap gap-2",children:q.tickets.map(te=>E.jsxs("span",{className:`px-2 py-1 rounded ${te.status==="USED"?"bg-emerald-100 text-emerald-800":"bg-slate-100"}`,children:[te.category_name," ",te.status==="USED"?"(Scanned)":""]},te.id))})]},q.batch_id))}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 mb-6 print:hidden",children:[E.jsxs("div",{className:"flex space-x-4",children:[E.jsx("button",{onClick:()=>M("summary"),className:`pb-3 px-1 text-sm font-medium transition-colors ${D==="summary"?"text-slate-900 border-b-2 border-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"Summary"}),E.jsxs("button",{onClick:()=>M("history"),className:`pb-3 px-1 text-sm font-medium transition-colors ${D==="history"?"text-slate-900 border-b-2 border-slate-900":"text-slate-500 hover:text-slate-700"}`,children:["Ticket History (",((se=r.tickets)==null?void 0:se.length)||0,")"]})]}),D==="history"&&E.jsxs(Je,{onClick:F,variant:"outline",size:"sm",className:"mb-2",children:[E.jsx(r8,{className:"w-4 h-4 mr-2"}),"Export to Excel"]})]}),D==="summary"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[E.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Tickets Sold"}),E.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.tickets_sold})]}),E.jsxs("div",{className:"p-6 bg-emerald-50 border border-emerald-200 rounded-lg",children:[E.jsx("p",{className:"text-sm text-emerald-600 font-medium mb-1",children:"Tickets Scanned"}),E.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:r.tickets_scanned})]}),E.jsxs("div",{className:"p-6 bg-amber-50 border border-amber-200 rounded-lg",children:[E.jsx("p",{className:"text-sm text-amber-600 font-medium mb-1",children:"Total Revenue"}),E.jsxs("p",{className:"text-3xl font-bold text-amber-900",children:["Rp ",(Y=r.total_revenue)==null?void 0:Y.toLocaleString()]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Sales by Category"}),E.jsx("div",{className:"border rounded-lg overflow-hidden",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-900",children:"Category"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Count"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Revenue"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:(X=r.by_category)==null?void 0:X.map((q,te)=>{var Oe;return E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:q._id}),E.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 text-right",children:q.count}),E.jsxs("td",{className:"px-4 py-2 text-sm text-slate-900 font-medium text-right",children:["Rp ",(Oe=q.revenue)==null?void 0:Oe.toLocaleString()]})]},te)})})]})})]}),t==="daily"&&E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Sales by Staff"}),E.jsx("div",{className:"border rounded-lg overflow-hidden",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-900",children:"Staff"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Count"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Revenue"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:(ne=r.by_staff)==null?void 0:ne.map((q,te)=>{var Oe;return E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:q.staff_name}),E.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 text-right",children:q.count}),E.jsxs("td",{className:"px-4 py-2 text-sm text-slate-900 font-medium text-right",children:["Rp ",(Oe=q.revenue)==null?void 0:Oe.toLocaleString()]})]},te)})})]})})]}),t==="monthly"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Daily Sales Trend"}),E.jsx("div",{className:"border rounded-lg overflow-hidden h-64 overflow-y-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-900",children:"Date"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Count"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Revenue"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:(De=r.by_day)==null?void 0:De.map((q,te)=>{var Oe;return E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:q.date}),E.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 text-right",children:q.count}),E.jsxs("td",{className:"px-4 py-2 text-sm text-slate-900 font-medium text-right",children:["Rp ",(Oe=q.revenue)==null?void 0:Oe.toLocaleString()]})]},te)})})]})})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Sales by Staff"}),E.jsx("div",{className:"border rounded-lg overflow-hidden h-64 overflow-y-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-900",children:"Staff"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Count"}),E.jsx("th",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900",children:"Revenue"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:(Le=r.by_staff)==null?void 0:Le.map((q,te)=>{var Oe;return E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:q.staff_name}),E.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 text-right",children:q.count}),E.jsxs("td",{className:"px-4 py-2 text-sm text-slate-900 font-medium text-right",children:["Rp ",(Oe=q.revenue)==null?void 0:Oe.toLocaleString()]})]},te)})})]})})]})]})]})]}):E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"border rounded-lg overflow-hidden",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900",children:"No"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900",children:"Ticket ID"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900",children:"Category"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900",children:"Staff"}),E.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-900",children:"Qty"}),E.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-900",children:"Price"}),E.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-slate-900",children:"Status"}),E.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-900",children:"Date & Time"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-200",children:Q().map((q,te)=>{var Be;const Oe=new Date(q.created_at);return E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:(P-1)*B+te+1}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 font-mono text-xs",children:[(Be=q.id)==null?void 0:Be.substring(0,8),"..."]}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-900",children:q.category_name}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:q.created_by_name}),E.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:q.quantity||1}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 font-medium text-right",children:["Rp ",parseFloat(q.price).toLocaleString()]}),E.jsx("td",{className:"px-4 py-3 text-center",children:E.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${q.status==="USED"?"bg-emerald-100 text-emerald-800":"bg-slate-100 text-slate-600"}`,children:q.status})}),E.jsxs("td",{className:"px-4 py-3 text-sm text-slate-600",children:[Oe.toLocaleDateString("id-ID")," ",Oe.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]},q.id)})})]})}),ce()>1&&E.jsxs("div",{className:"flex items-center justify-between mt-4",children:[E.jsxs("p",{className:"text-sm text-slate-600",children:["Showing ",(P-1)*B+1," - ",Math.min(P*B,((Ae=r.tickets)==null?void 0:Ae.length)||0)," of ",((Me=r.tickets)==null?void 0:Me.length)||0," tickets"]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Je,{variant:"outline",size:"sm",onClick:()=>I(q=>Math.max(1,q-1)),disabled:P===1,children:E.jsx(VT,{className:"w-4 h-4"})}),E.jsxs("span",{className:"text-sm text-slate-600",children:["Page ",P," of ",ce()]}),E.jsx(Je,{variant:"outline",size:"sm",onClick:()=>I(q=>Math.min(ce(),q+1)),disabled:P===ce(),children:E.jsx(YT,{className:"w-4 h-4"})})]})]}),E.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mt-4",children:E.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-slate-600",children:"Total Tickets"}),E.jsx("p",{className:"text-xl font-bold text-slate-900",children:((je=r.tickets)==null?void 0:je.length)||0})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-slate-600",children:"Total Quantity"}),E.jsx("p",{className:"text-xl font-bold text-slate-900",children:((re=r.tickets)==null?void 0:re.reduce((q,te)=>q+(te.quantity||1),0))||0})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-slate-600",children:"Total Revenue"}),E.jsxs("p",{className:"text-xl font-bold text-emerald-600",children:["Rp ",(K=r.total_revenue)==null?void 0:K.toLocaleString()]})]})]})})]})]})]}):E.jsxs("div",{className:"text-center py-12 text-slate-500",children:[E.jsx(jT,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),E.jsx("p",{children:"Select filter and click Generate Report"})]})]})]})},NO=(t=4)=>{const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},RO=async(t,e)=>{const o=new Date().toISOString().slice(0,10).replace(/-/g,""),u=String(e).padStart(4,"0"),d=NO(4);return`${t}-${o}-${u}-${d}`},OO=async()=>{const t=new Date().toISOString().slice(0,10),e=`${t}T00:00:00`,r=`${t}T23:59:59`,{count:o,error:u}=await It.from("tickets").select("*",{count:"exact",head:!0}).gte("created_at",e).lte("created_at",r);if(u)throw u;return(o||0)+1},IO=async t=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(t)}`,DO=async(t,e,r)=>{const o=crypto.randomUUID(),{data:u,error:d}=await It.from("categories").select("*");if(d)throw d;let p=await OO();const b=[];for(const _ of t){const C=u.find(D=>D.id===_.category_id);if(!C)throw new Error(`Category not found: ${_.category_id}`);for(let D=0;D<_.quantity;D++){const M=crypto.randomUUID(),P=await RO(C.code_prefix,p);b.push({id:M,ticket_code:P,batch_id:o,category_id:_.category_id,category_name:C.name,status:"UNUSED",price:C.price,nim:_.nim||null,qr_code:await IO(P),created_by:e.id,created_by_name:e.name,shift:r}),p++}}const{data:w,error:x}=await It.from("tickets").insert(b).select();if(x)throw x;return{batch_id:o,total_tickets:w.length,tickets:w}},MO=async(t,e)=>{let r=null,o=null;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)){const b=await It.from("tickets").select("*").eq("id",t).single();r=b.data,o=b.error}else{const b=await It.from("tickets").select("*").eq("ticket_code",t.toUpperCase()).single();r=b.data,o=b.error}if(o||!r)return{success:!1,status:"INVALID",message:"Ticket not found",ticket:null};if(r.status==="USED")return{success:!1,status:"USED",message:`Ticket already scanned at ${new Date(r.scanned_at).toLocaleString()}`,ticket:r};const{data:d,error:p}=await It.from("tickets").update({status:"USED",scanned_at:new Date().toISOString(),scanned_by:e.id}).eq("id",r.id).select().single();if(p)throw p;return await It.from("scan_logs").insert({ticket_id:r.id,scanned_by:e.id,scanned_by_name:e.name,category_name:r.category_name}),{success:!0,status:"VALID",message:"Ticket validated successfully!",ticket:d}},kO=()=>{const{user:t,logout:e}=Tl(),r=po(),[o,u]=N.useState([]),[d,p]=N.useState([]),[b,w]=N.useState({}),[x,_]=N.useState(!0),[C,D]=N.useState(!1),[M,P]=N.useState([]),[I,B]=N.useState("Pagi");N.useEffect(()=>{j()},[]);const j=async()=>{try{const X=await VR();u(X)}catch(X){ot.error("Failed to load data: "+X.message)}finally{_(!1)}},H=X=>{const ne=d.find(De=>De.category_id===X.id);p(ne?d.map(De=>De.category_id===X.id?{...De,quantity:De.quantity+1}:De):[...d,{category_id:X.id,category_name:X.name,quantity:1,price:X.price,requires_nim:X.requires_nim}])},F=(X,ne)=>{p(d.map(De=>{if(De.category_id===X){const Le=De.quantity+ne;return Le>0?{...De,quantity:Le}:null}return De}).filter(Boolean))},Q=X=>{p(d.filter(De=>De.category_id!==X));const ne={...b};delete ne[X],w(ne)},ce=()=>d.reduce((X,ne)=>X+ne.price*ne.quantity,0),se=async()=>{for(const X of d)if(X.requires_nim&&!b[X.category_id]){ot.error(`NIM required for ${X.category_name}`);return}D(!0);try{const X=d.map(De=>({category_id:De.category_id,quantity:De.quantity,nim:De.requires_nim?b[De.category_id]:null})),ne=await DO(X,t,I);P(ne.tickets),ot.success(`${ne.total_tickets} tickets created successfully!`),setTimeout(()=>{window.print(),p([]),w({}),P([])},500)}catch(X){console.error(X),ot.error("Failed to create tickets: "+X.message)}finally{D(!1)}},Y=()=>{e(),r("/login")};return x?E.jsx("div",{className:"flex items-center justify-center min-h-screen",children:E.jsx("div",{className:"w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):E.jsxs("div",{className:"min-h-screen bg-slate-50","data-testid":"receptionist-dashboard",children:[E.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Kolam Renang UNY - Resepsionis"}),E.jsxs("p",{className:"text-sm text-slate-600",children:["Selamat datang, ",t==null?void 0:t.name]})]}),E.jsxs(Je,{variant:"outline",onClick:Y,"data-testid":"logout-button",children:[E.jsx(V1,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),E.jsxs("div",{className:"flex h-[calc(100vh-73px)]",children:[E.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h2",{className:"text-2xl font-semibold text-slate-900",style:{fontFamily:"Outfit"},children:"Select Ticket Type"}),E.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-lg border border-slate-200",children:[E.jsx(Hd,{className:"w-4 h-4 text-slate-500"}),E.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Shift:"}),E.jsxs("select",{value:I,onChange:X=>B(X.target.value),className:"bg-transparent border-none text-sm font-semibold focus:ring-0 cursor-pointer",children:[E.jsx("option",{value:"Pagi",children:"Pagi"}),E.jsx("option",{value:"Siang",children:"Siang"}),E.jsx("option",{value:"Sore",children:"Sore"})]})]})]}),E.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map(X=>E.jsxs(Kn,{className:"p-6 cursor-pointer ticket-category-card hover:border-sky-500 transition-colors",onClick:()=>H(X),"data-testid":`ticket-category-${X.id}`,children:[E.jsxs("div",{className:"flex items-start justify-between mb-3",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:X.name}),E.jsx("p",{className:"text-sm text-slate-600 mt-1",children:X.description})]}),E.jsx(of,{className:"w-8 h-8 text-sky-500"})]}),E.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-200",children:[E.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["Rp ",X.price.toLocaleString()]}),E.jsx(Je,{size:"sm",className:"bg-slate-900 hover:bg-slate-800",children:E.jsx(ja,{className:"w-4 h-4"})})]})]},X.id))})]}),E.jsxs("div",{className:"w-96 bg-white border-l border-slate-200 p-6 overflow-auto flex flex-col",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h2",{className:"text-2xl font-semibold text-slate-900",style:{fontFamily:"Outfit"},children:"Cart"}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-sky-100 text-sky-700 rounded full",children:["Shift: ",I]}),E.jsx(py,{className:"w-6 h-6 text-slate-600"})]})]}),d.length===0?E.jsxs("div",{className:"text-center py-12 text-slate-500 flex-1 flex flex-col justify-center",children:[E.jsx(py,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),E.jsx("p",{children:"No tickets selected"}),E.jsx("p",{className:"text-sm",children:"Click on a ticket type to add"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"space-y-4 flex-1 overflow-auto pb-4",children:d.map(X=>E.jsx(Kn,{className:"p-4","data-testid":`cart-item-${X.category_id}`,children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-slate-900",children:X.category_name}),E.jsxs("p",{className:"text-sm text-slate-600",children:["Rp ",X.price.toLocaleString()," each"]})]}),E.jsx(Je,{size:"sm",variant:"ghost",onClick:()=>Q(X.category_id),className:"text-rose-600 hover:text-rose-700 hover:bg-rose-50",children:"Remove"})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Je,{size:"sm",variant:"outline",onClick:()=>F(X.category_id,-1),"data-testid":`decrease-qty-${X.category_id}`,children:E.jsx(d8,{className:"w-4 h-4"})}),E.jsx("span",{className:"w-12 text-center font-semibold",children:X.quantity}),E.jsx(Je,{size:"sm",variant:"outline",onClick:()=>F(X.category_id,1),"data-testid":`increase-qty-${X.category_id}`,children:E.jsx(ja,{className:"w-4 h-4"})})]}),X.requires_nim&&E.jsxs("div",{children:[E.jsx(wn,{htmlFor:`nim-${X.category_id}`,className:"text-xs",children:"Student NIM (Required)"}),E.jsx(ar,{id:`nim-${X.category_id}`,value:b[X.category_id]||"",onChange:ne=>w({...b,[X.category_id]:ne.target.value}),placeholder:"Enter NIM",className:"mt-1 h-9 text-sm","data-testid":`nim-input-${X.category_id}`})]}),E.jsx("div",{className:"pt-2 border-t border-slate-200",children:E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["Rp ",(X.price*X.quantity).toLocaleString()]})]})})]})},X.category_id))}),E.jsxs("div",{className:"pt-4 border-t-2 border-slate-300 mt-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("span",{className:"text-lg font-semibold text-slate-900",children:"Total:"}),E.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["Rp ",ce().toLocaleString()]})]}),E.jsxs(Je,{onClick:se,disabled:C||d.length===0,className:"w-full h-12 bg-slate-900 hover:bg-slate-800 text-base","data-testid":"print-tickets-button",children:[E.jsx(wb,{className:"w-5 h-5 mr-2"}),C?"Processing...":"Print Tickets"]})]})]})]})]}),M.length>0&&E.jsx("div",{className:"hidden print:block",children:M.map((X,ne)=>E.jsxs("div",{className:"printable-ticket",style:{pageBreakAfter:"always",padding:"10px",width:"300px"},children:[E.jsxs("div",{className:"text-center mb-2",children:[E.jsx("h2",{className:"text-xl font-bold",children:"KOLAM RENANG UNY"}),E.jsx("h3",{className:"text-lg font-semibold",children:X.category_name})]}),E.jsx("div",{className:"flex justify-center my-4",children:E.jsx("img",{src:X.qr_code,alt:"QR Code",className:"w-48 h-48"})}),E.jsxs("div",{className:"text-sm space-y-1 font-mono",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Code:"})," ",X.ticket_code]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Price:"})," Rp ",X.price.toLocaleString()]}),X.nim&&E.jsxs("p",{children:[E.jsx("strong",{children:"NIM:"})," ",X.nim]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Shift:"})," ",X.shift]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Date:"})," ",new Date(X.created_at).toLocaleString("id-ID")]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Staff:"})," ",X.created_by_name]}),E.jsxs("div",{className:"text-center pt-4 mt-4 border-t border-dashed border-black",children:[E.jsx("p",{className:"font-bold",children:"TIKET HANYA BERLAKU 1 KALI"}),E.jsx("p",{children:"TIKET YANG SUDAH DIBELI TIDAK DAPAT DIKEMBALIKAN"})]})]})]},X.id))})]})};var Fe;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var Gy=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Yy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Yy||(Yy={}));function LO(t){return Object.values(Fe).includes(t)}var Is;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Is||(Is={}));var ka=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Is.SCAN_TYPE_CAMERA,Is.SCAN_TYPE_FILE],t})(),Pv=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Gy.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Gy.get(e))},t})(),qy=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),S1;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(S1||(S1={}));var Uv=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:S1.UNKWOWN_ERROR}},t})(),Fv=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Qa(t){return typeof t>"u"||t===null}function jO(t,e,r){return t>r?r:t<e?e:t}var pl=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),$t=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),Xy=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),zv=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var o=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(u),p=Object.keys(e),b=0,w=p;b<w.length;b++){var x=w[b];if(d.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t})(),Nc={exports:{}},BO=Nc.exports,Wy;function PO(){return Wy||(Wy=1,(function(t,e){(function(r,o){o(e)})(BO,(function(r){function o(k){return k==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,a){k.__proto__=a}||function(k,a){for(var s in a)a.hasOwnProperty(s)&&(k[s]=a[s])};function d(k,a){u(k,a);function s(){this.constructor=k}k.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}function p(k,a){var s=Object.setPrototypeOf;s?s(k,a):k.__proto__=a}function b(k,a){a===void 0&&(a=k.constructor);var s=Error.captureStackTrace;s&&s(k,a)}var w=(function(k){d(a,k);function a(s){var l=this.constructor,f=k.call(this,s)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),p(f,l.prototype),b(f),f}return a})(Error);class x extends w{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}x.kind="Exception";class _ extends x{}_.kind="ArgumentException";class C extends x{}C.kind="IllegalArgumentException";class D{constructor(a){if(this.binarizer=a,a===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,s){return this.binarizer.getBlackRow(a,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,s,l,f){const h=this.binarizer.getLuminanceSource().crop(a,s,l,f);return new D(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends x{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class P{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(a,s,l,f,h){for(;h--;)l[f++]=a[s++]}static currentTimeMillis(){return Date.now()}}class B extends x{}B.kind="IndexOutOfBoundsException";class j extends B{constructor(a=void 0,s=void 0){super(s),this.index=a,this.message=s}}j.kind="ArrayIndexOutOfBoundsException";class H{static fill(a,s){for(let l=0,f=a.length;l<f;l++)a[l]=s}static fillWithin(a,s,l,f){H.rangeCheck(a.length,s,l);for(let h=s;h<l;h++)a[h]=f}static rangeCheck(a,s,l){if(s>l)throw new C("fromIndex("+s+") > toIndex("+l+")");if(s<0)throw new j(s);if(l>a)throw new j(l)}static asList(...a){return a}static create(a,s,l){return Array.from({length:a}).map(h=>Array.from({length:s}).fill(l))}static createInt32Array(a,s,l){return Array.from({length:a}).map(h=>Int32Array.from({length:s}).fill(l))}static equals(a,s){if(!a||!s||!a.length||!s.length||a.length!==s.length)return!1;for(let l=0,f=a.length;l<f;l++)if(a[l]!==s[l])return!1;return!0}static hashCode(a){if(a===null)return 0;let s=1;for(const l of a)s=31*s+l;return s}static fillUint8Array(a,s){for(let l=0;l!==a.length;l++)a[l]=s}static copyOf(a,s){return a.slice(0,s)}static copyOfUint8Array(a,s){if(a.length<=s){const l=new Uint8Array(s);return l.set(a),l}return a.slice(0,s)}static copyOfRange(a,s,l){const f=l-s,h=new Int32Array(f);return I.arraycopy(a,s,h,0,f),h}static binarySearch(a,s,l){l===void 0&&(l=H.numberComparator);let f=0,h=a.length-1;for(;f<=h;){const m=h+f>>1,y=l(s,a[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(a,s){return a-s}}class F{static numberOfTrailingZeros(a){let s;if(a===0)return 32;let l=31;return s=a<<16,s!==0&&(l-=16,a=s),s=a<<8,s!==0&&(l-=8,a=s),s=a<<4,s!==0&&(l-=4,a=s),s=a<<2,s!==0&&(l-=2,a=s),l-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let s=1;return a>>>16||(s+=16,a<<=16),a>>>24||(s+=8,a<<=8),a>>>28||(s+=4,a<<=4),a>>>30||(s+=2,a<<=2),s-=a>>>31,s}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,s){return Math.trunc(a/s)}static parseInt(a,s=void 0){return parseInt(a,s)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(a,s){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,s==null?this.bits=Q.makeArray(a):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const s=Q.makeArray(a);I.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const s=this.size;if(a>=s)return s;const l=this.bits;let f=Math.floor(a/32),h=l[f];h&=~((1<<(a&31))-1);const m=l.length;for(;h===0;){if(++f===m)return s;h=l[f]}const y=f*32+F.numberOfTrailingZeros(h);return y>s?s:y}getNextUnset(a){const s=this.size;if(a>=s)return s;const l=this.bits;let f=Math.floor(a/32),h=~l[f];h&=~((1<<(a&31))-1);const m=l.length;for(;h===0;){if(++f===m)return s;h=~l[f]}const y=f*32+F.numberOfTrailingZeros(h);return y>s?s:y}setBulk(a,s){this.bits[Math.floor(a/32)]=s}setRange(a,s){if(s<a||a<0||s>this.size)throw new C;if(s===a)return;s--;const l=Math.floor(a/32),f=Math.floor(s/32),h=this.bits;for(let m=l;m<=f;m++){const y=m>l?0:a&31,T=(2<<(m<f?31:s&31))-(1<<y);h[m]|=T}}clear(){const a=this.bits.length,s=this.bits;for(let l=0;l<a;l++)s[l]=0}isRange(a,s,l){if(s<a||a<0||s>this.size)throw new C;if(s===a)return!0;s--;const f=Math.floor(a/32),h=Math.floor(s/32),m=this.bits;for(let y=f;y<=h;y++){const S=y>f?0:a&31,R=(2<<(y<h?31:s&31))-(1<<S)&4294967295;if((m[y]&R)!==(l?R:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,s){if(s<0||s>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let l=s;l>0;l--)this.appendBit((a>>l-1&1)===1)}appendBitArray(a){const s=a.size;this.ensureCapacity(this.size+s);for(let l=0;l<s;l++)this.appendBit(a.get(l))}xor(a){if(this.size!==a.size)throw new C("Sizes don't match");const s=this.bits;for(let l=0,f=s.length;l<f;l++)s[l]^=a.bits[l]}toBytes(a,s,l,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(a)&&(m|=1<<7-y),a++;s[l+h]=m}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),l=s+1,f=this.bits;for(let h=0;h<l;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,a[s-h]=m}if(this.size!==l*32){const h=l*32-this.size;let m=a[0]>>>h;for(let y=1;y<l;y++){const S=a[y];m|=S<<32-h,a[y-1]=m,m=S>>>h}a[l-1]=m}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof Q))return!1;const s=a;return this.size===s.size&&H.equals(this.bits,s.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let a="";for(let s=0,l=this.size;s<l;s++)(s&7)===0&&(a+=" "),a+=this.get(s)?"X":".";return a}clone(){return new Q(this.size,this.bits.slice())}}var ce;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ce||(ce={}));var se=ce;class Y extends x{static getFormatInstance(){return new Y}}Y.kind="FormatException";var X;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(X||(X={}));class ne{constructor(a,s,l,...f){this.valueIdentifier=a,this.name=l,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=f,ne.VALUE_IDENTIFIER_TO_ECI.set(a,this),ne.NAME_TO_ECI.set(l,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const S=h[m];ne.VALUES_TO_ECI.set(S,this)}for(const m of f)ne.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new Y("incorect value");const s=ne.VALUES_TO_ECI.get(a);if(s===void 0)throw new Y("incorect value");return s}static getCharacterSetECIByName(a){const s=ne.NAME_TO_ECI.get(a);if(s===void 0)throw new Y("incorect value");return s}equals(a){if(!(a instanceof ne))return!1;const s=a;return this.getName()===s.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(X.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(X.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(X.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(X.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(X.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(X.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(X.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(X.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(X.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(X.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(X.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(X.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(X.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(X.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(X.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(X.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(X.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(X.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(X.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(X.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(X.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(X.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(X.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(X.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(X.Big5,28,"Big5"),ne.GB18030=new ne(X.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(X.EUC_KR,30,"EUC_KR","EUC-KR");class De extends x{}De.kind="UnsupportedOperationException";class Le{static decode(a,s){const l=this.encodingName(s);return this.customDecoder?this.customDecoder(a,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(a,l):new TextDecoder(l).decode(a)}static shouldDecodeOnFallback(a){return!Le.isBrowser()&&a==="ISO-8859-1"}static encode(a,s){const l=this.encodingName(s);return this.customEncoder?this.customEncoder(a,l):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof ne?a:ne.getCharacterSetECIByName(a)}static decodeFallback(a,s){const l=this.encodingCharacterSet(s);if(Le.isDecodeFallbackSupported(l)){let f="";for(let h=0,m=a.length;h<m;h++){let y=a[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(l.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new De(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(ne.UTF8)||a.equals(ne.ISO8859_1)||a.equals(ne.ASCII)}static encodeFallback(a){const l=btoa(unescape(encodeURIComponent(a))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class Ae{static castAsNonUtf8Char(a,s=null){const l=s?s.getName():this.ISO88591;return Le.decode(new Uint8Array([a]),l)}static guessEncoding(a,s){if(s!=null&&s.get(se.CHARACTER_SET)!==void 0)return s.get(se.CHARACTER_SET).toString();const l=a.length;let f=!0,h=!0,m=!0,y=0,S=0,T=0,R=0,L=0,U=0,G=0,Z=0,J=0,ie=0,fe=0;const Re=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let _e=0;_e<l&&(f||h||m);_e++){const Ce=a[_e]&255;m&&(y>0?(Ce&128)===0?m=!1:y--:(Ce&128)!==0&&((Ce&64)===0?m=!1:(y++,(Ce&32)===0?S++:(y++,(Ce&16)===0?T++:(y++,(Ce&8)===0?R++:m=!1))))),f&&(Ce>127&&Ce<160?f=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&fe++),h&&(L>0?Ce<64||Ce===127||Ce>252?h=!1:L--:Ce===128||Ce===160||Ce>239?h=!1:Ce>160&&Ce<224?(U++,Z=0,G++,G>J&&(J=G)):Ce>127?(L++,G=0,Z++,Z>ie&&(ie=Z)):(G=0,Z=0))}return m&&y>0&&(m=!1),h&&L>0&&(h=!1),m&&(Re||S+T+R>0)?Ae.UTF8:h&&(Ae.ASSUME_SHIFT_JIS||J>=3||ie>=3)?Ae.SHIFT_JIS:f&&h?J===2&&U===2||fe*10>=l?Ae.SHIFT_JIS:Ae.ISO88591:f?Ae.ISO88591:h?Ae.SHIFT_JIS:m?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(a,...s){let l=-1;function f(m,y,S,T,R,L){if(m==="%%")return"%";if(s[++l]===void 0)return;m=T?parseInt(T.substr(1)):void 0;let U=R?parseInt(R.substr(1)):void 0,G;switch(L){case"s":G=s[l];break;case"c":G=s[l][0];break;case"f":G=parseFloat(s[l]).toFixed(m);break;case"p":G=parseFloat(s[l]).toPrecision(m);break;case"e":G=parseFloat(s[l]).toExponential(m);break;case"x":G=parseInt(s[l]).toString(U||16);break;case"d":G=parseFloat(parseInt(s[l],U||10).toPrecision(m)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(U);let Z=parseInt(S),J=S&&S[0]+""=="0"?"0":" ";for(;G.length<Z;)G=y!==void 0?G+J:J+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(h,f)}static getBytes(a,s){return Le.encode(a,s)}static getCharCode(a,s=0){return a.charCodeAt(s)}static getCharAt(a){return String.fromCharCode(a)}}Ae.SHIFT_JIS=ne.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=ne.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=ne.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Me{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,s,l){for(let f=s;s<s+l;f++)this.append(a[f]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,s){this.value=this.value.substr(0,a)+s+this.value.substr(a+1)}substring(a,s){return this.value.substring(a,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,s){this.value=this.value.substr(0,a)+s+this.value.substr(a+s.length)}}class je{constructor(a,s,l,f){if(this.width=a,this.height=s,this.rowSize=l,this.bits=f,s==null&&(s=a),this.height=s,a<1||s<1)throw new C("Both dimensions must be greater than 0");l==null&&(l=Math.floor((a+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const s=a.length,l=a[0].length,f=new je(l,s);for(let h=0;h<s;h++){const m=a[h];for(let y=0;y<l;y++)m[y]&&f.set(y,h)}return f}static parseFromString(a,s,l){if(a===null)throw new C("stringRepresentation cannot be null");const f=new Array(a.length);let h=0,m=0,y=-1,S=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new C("row lengths do not match");m=h,S++}T++}else if(a.substring(T,T+s.length)===s)T+=s.length,f[h]=!0,h++;else if(a.substring(T,T+l.length)===l)T+=l.length,f[h]=!1,h++;else throw new C("illegal character encountered: "+a.substring(T));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new C("row lengths do not match");S++}const R=new je(y,S);for(let L=0;L<h;L++)f[L]&&R.set(Math.floor(L%y),Math.floor(L/y));return R}get(a,s){const l=s*this.rowSize+Math.floor(a/32);return(this.bits[l]>>>(a&31)&1)!==0}set(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]|=1<<(a&31)&4294967295}unset(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]&=~(1<<(a&31)&4294967295)}flip(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new C("input matrix dimensions do not match");const s=new Q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*l,S=a.getRow(h,s).getBitArray();for(let T=0;T<l;T++)f[y+T]^=S[T]}}clear(){const a=this.bits,s=a.length;for(let l=0;l<s;l++)a[l]=0}setRegion(a,s,l,f){if(s<0||a<0)throw new C("Left and top must be nonnegative");if(f<1||l<1)throw new C("Height and width must be at least 1");const h=a+l,m=s+f;if(m>this.height||h>this.width)throw new C("The region must fit inside the matrix");const y=this.rowSize,S=this.bits;for(let T=s;T<m;T++){const R=T*y;for(let L=a;L<h;L++)S[R+Math.floor(L/32)]|=1<<(L&31)&4294967295}}getRow(a,s){s==null||s.getSize()<this.width?s=new Q(this.width):s.clear();const l=this.rowSize,f=this.bits,h=a*l;for(let m=0;m<l;m++)s.setBulk(m*32,f[h+m]);return s}setRow(a,s){I.arraycopy(s.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),s=this.getHeight();let l=new Q(a),f=new Q(a);for(let h=0,m=Math.floor((s+1)/2);h<m;h++)l=this.getRow(h,l),f=this.getRow(s-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(s-1-h,l)}getEnclosingRectangle(){const a=this.width,s=this.height,l=this.rowSize,f=this.bits;let h=a,m=s,y=-1,S=-1;for(let T=0;T<s;T++)for(let R=0;R<l;R++){const L=f[T*l+R];if(L!==0){if(T<m&&(m=T),T>S&&(S=T),R*32<h){let U=0;for(;(L<<31-U&4294967295)===0;)U++;R*32+U<h&&(h=R*32+U)}if(R*32+31>y){let U=31;for(;!(L>>>U);)U--;R*32+U>y&&(y=R*32+U)}}}return y<h||S<m?null:Int32Array.from([h,m,y-h+1,S-m+1])}getTopLeftOnBit(){const a=this.rowSize,s=this.bits;let l=0;for(;l<s.length&&s[l]===0;)l++;if(l===s.length)return null;const f=l/a;let h=l%a*32;const m=s[l];let y=0;for(;(m<<31-y&4294967295)===0;)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const a=this.rowSize,s=this.bits;let l=s.length-1;for(;l>=0&&s[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/a);let h=Math.floor(l%a)*32;const m=s[l];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof je))return!1;const s=a;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&H.equals(this.bits,s.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+H.hashCode(this.bits),a}toString(a="X ",s="  ",l=`
`){return this.buildToString(a,s,l)}buildToString(a,s,l){let f=new Me;for(let h=0,m=this.height;h<m;h++){for(let y=0,S=this.width;y<S;y++)f.append(this.get(y,h)?a:s);f.append(l)}return f.toString()}clone(){return new je(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class K extends P{constructor(a){super(a),this.luminances=K.EMPTY,this.buckets=new Int32Array(K.LUMINANCE_BUCKETS)}getBlackRow(a,s){const l=this.getLuminanceSource(),f=l.getWidth();s==null||s.getSize()<f?s=new Q(f):s.clear(),this.initArrays(f);const h=l.getRow(a,this.luminances),m=this.buckets;for(let S=0;S<f;S++)m[(h[S]&255)>>K.LUMINANCE_SHIFT]++;const y=K.estimateBlackPoint(m);if(f<3)for(let S=0;S<f;S++)(h[S]&255)<y&&s.set(S);else{let S=h[0]&255,T=h[1]&255;for(let R=1;R<f-1;R++){const L=h[R+1]&255;(T*4-S-L)/2<y&&s.set(R),S=T,T=L}}return s}getBlackMatrix(){const a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight(),f=new je(s,l);this.initArrays(s);const h=this.buckets;for(let S=1;S<5;S++){const T=Math.floor(l*S/5),R=a.getRow(T,this.luminances),L=Math.floor(s*4/5);for(let U=Math.floor(s/5);U<L;U++){const G=R[U]&255;h[G>>K.LUMINANCE_SHIFT]++}}const m=K.estimateBlackPoint(h),y=a.getMatrix();for(let S=0;S<l;S++){const T=S*s;for(let R=0;R<s;R++)(y[T+R]&255)<m&&f.set(R,S)}return f}createBinarizer(a){return new K(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const s=this.buckets;for(let l=0;l<K.LUMINANCE_BUCKETS;l++)s[l]=0}static estimateBlackPoint(a){const s=a.length;let l=0,f=0,h=0;for(let R=0;R<s;R++)a[R]>h&&(f=R,h=a[R]),a[R]>l&&(l=a[R]);let m=0,y=0;for(let R=0;R<s;R++){const L=R-f,U=a[R]*L*L;U>y&&(m=R,y=U)}if(f>m){const R=f;f=m,m=R}if(m-f<=s/16)throw new re;let S=m-1,T=-1;for(let R=m-1;R>f;R--){const L=R-f,U=L*L*(m-R)*(l-a[R]);U>T&&(S=R,T=U)}return S<<K.LUMINANCE_SHIFT}}K.LUMINANCE_BITS=5,K.LUMINANCE_SHIFT=8-K.LUMINANCE_BITS,K.LUMINANCE_BUCKETS=1<<K.LUMINANCE_BITS,K.EMPTY=Uint8ClampedArray.from([0]);class q extends K{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight();if(s>=q.MINIMUM_DIMENSION&&l>=q.MINIMUM_DIMENSION){const f=a.getMatrix();let h=s>>q.BLOCK_SIZE_POWER;(s&q.BLOCK_SIZE_MASK)!==0&&h++;let m=l>>q.BLOCK_SIZE_POWER;(l&q.BLOCK_SIZE_MASK)!==0&&m++;const y=q.calculateBlackPoints(f,h,m,s,l),S=new je(s,l);q.calculateThresholdForBlock(f,h,m,s,l,y,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new q(a)}static calculateThresholdForBlock(a,s,l,f,h,m,y){const S=h-q.BLOCK_SIZE,T=f-q.BLOCK_SIZE;for(let R=0;R<l;R++){let L=R<<q.BLOCK_SIZE_POWER;L>S&&(L=S);const U=q.cap(R,2,l-3);for(let G=0;G<s;G++){let Z=G<<q.BLOCK_SIZE_POWER;Z>T&&(Z=T);const J=q.cap(G,2,s-3);let ie=0;for(let Re=-2;Re<=2;Re++){const _e=m[U+Re];ie+=_e[J-2]+_e[J-1]+_e[J]+_e[J+1]+_e[J+2]}const fe=ie/25;q.thresholdBlock(a,Z,L,fe,f,y)}}}static cap(a,s,l){return a<s?s:a>l?l:a}static thresholdBlock(a,s,l,f,h,m){for(let y=0,S=l*h+s;y<q.BLOCK_SIZE;y++,S+=h)for(let T=0;T<q.BLOCK_SIZE;T++)(a[S+T]&255)<=f&&m.set(s+T,l+y)}static calculateBlackPoints(a,s,l,f,h){const m=h-q.BLOCK_SIZE,y=f-q.BLOCK_SIZE,S=new Array(l);for(let T=0;T<l;T++){S[T]=new Int32Array(s);let R=T<<q.BLOCK_SIZE_POWER;R>m&&(R=m);for(let L=0;L<s;L++){let U=L<<q.BLOCK_SIZE_POWER;U>y&&(U=y);let G=0,Z=255,J=0;for(let fe=0,Re=R*f+U;fe<q.BLOCK_SIZE;fe++,Re+=f){for(let _e=0;_e<q.BLOCK_SIZE;_e++){const Ce=a[Re+_e]&255;G+=Ce,Ce<Z&&(Z=Ce),Ce>J&&(J=Ce)}if(J-Z>q.MIN_DYNAMIC_RANGE)for(fe++,Re+=f;fe<q.BLOCK_SIZE;fe++,Re+=f)for(let _e=0;_e<q.BLOCK_SIZE;_e++)G+=a[Re+_e]&255}let ie=G>>q.BLOCK_SIZE_POWER*2;if(J-Z<=q.MIN_DYNAMIC_RANGE&&(ie=Z/2,T>0&&L>0)){const fe=(S[T-1][L]+2*S[T][L-1]+S[T-1][L-1])/4;Z<fe&&(ie=fe)}S[T][L]=ie}}return S}}q.BLOCK_SIZE_POWER=3,q.BLOCK_SIZE=1<<q.BLOCK_SIZE_POWER,q.BLOCK_SIZE_MASK=q.BLOCK_SIZE-1,q.MINIMUM_DIMENSION=q.BLOCK_SIZE*5,q.MIN_DYNAMIC_RANGE=24;class te{constructor(a,s){this.width=a,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,s,l,f){throw new De("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new De("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new De("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let s=new Me;for(let l=0;l<this.height;l++){const f=this.getRow(l,a);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",s.append(y)}s.append(`
`)}return s.toString()}}class Oe extends te{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,s){const l=this.delegate.getRow(a,s),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const a=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s);for(let f=0;f<s;f++)l[f]=255-(a[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(a,s,l,f){return new Oe(this.delegate.crop(a,s,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class Be extends te{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=Be.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const s=a.getContext("2d").getImageData(0,0,a.width,a.height);return Be.toGrayscaleBuffer(s.data,a.width,a.height)}static toGrayscaleBuffer(a,s,l){const f=new Uint8ClampedArray(s*l);for(let h=0,m=0,y=a.length;h<y;h+=4,m++){let S;if(a[h+3]===0)S=255;else{const R=a[h],L=a[h+1],U=a[h+2];S=306*R+601*L+117*U+512>>10}f[m]=S}return f}getRow(a,s){if(a<0||a>=this.getHeight())throw new C("Requested row is outside the image: "+a);const l=this.getWidth(),f=a*l;return s===null?s=this.buffer.slice(f,f+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(f,f+l))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,s,l,f){return super.crop(a,s,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const s=this.getTempCanvasElement(),l=s.getContext("2d"),f=a*Be.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),S=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return s.width=y,s.height=S,l.translate(y/2,S/2),l.rotate(f),l.drawImage(this.canvas,h/-2,m/-2),this.buffer=Be.makeBufferFromCanvasImageData(s),this}invert(){return new Oe(this)}}Be.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(a,s,l){this.deviceId=a,this.label=s,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||gd||self||window||void 0)&&(globalThis||gd||self||window||void 0).__awaiter||function(k,a,s,l){function f(h){return h instanceof s?h:new s(function(m){m(h)})}return new(s||(s=Promise))(function(h,m){function y(R){try{T(l.next(R))}catch(L){m(L)}}function S(R){try{T(l.throw(R))}catch(L){m(L)}}function T(R){R.done?h(R.value):f(R.value).then(y,S)}T((l=l.apply(k,a||[])).next())})};class pe{constructor(a,s=500,l){this.reader=a,this.timeBetweenScansMillis=s,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const l of a){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,m=l.label||`Video device ${s.length+1}`,y=l.groupId,S={deviceId:h,label:m,kind:f,groupId:y};s.push(S)}return s})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new $(s.deviceId,s.label))})}findDeviceById(a){return ge(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(l=>l.deviceId===a):null})}decodeFromInputVideoDevice(a,s){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,s)})}decodeOnceFromVideoDevice(a,s){return ge(this,void 0,void 0,function*(){this.reset();let l;a?l={deviceId:{exact:a}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,s)})}decodeOnceFromConstraints(a,s){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(l,s)})}decodeOnceFromStream(a,s){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(a,s);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(a,s,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,s,l)})}decodeFromVideoDevice(a,s,l){return ge(this,void 0,void 0,function*(){let f;a?f={deviceId:{exact:a}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,s,l)})}decodeFromConstraints(a,s,l){return ge(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(f,s,l)})}decodeFromStream(a,s,l){return ge(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(a,s);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,s){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(s);return this.addVideoSource(l,a),this.videoElement=l,this.stream=a,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(a){return new Promise((s,l)=>this.playVideoOnLoad(a,()=>s()))}playVideoOnLoad(a,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",s),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,s){const l=document.getElementById(a);if(!l)throw new _(`element with id '${a}' not found`);if(l.nodeName.toLowerCase()!==s.toLowerCase())throw new _(`element with id '${a}' must be an ${s} element`);return l}decodeFromImage(a,s){if(!a&&!s)throw new _("either imageElement with a src set or an url must be provided");return s&&!a?this.decodeFromImageUrl(s):this.decodeFromImageElement(a)}decodeFromVideo(a,s){if(!a&&!s)throw new _("Either an element with a src set or an URL must be provided");return s&&!a?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,s,l){if(a===void 0&&s===void 0)throw new _("Either an element with a src set or an URL must be provided");return s&&!a?this.decodeFromVideoUrlContinuously(s,l):this.decodeFromVideoElementContinuously(a,l)}decodeFromImageElement(a){if(!a)throw new _("An image element must be provided.");this.reset();const s=this.prepareImageElement(a);this.imageElement=s;let l;return this.isImageLoaded(s)?l=this.decodeOnce(s,!1,!0):l=this._decodeOnLoadImage(s),l}decodeFromVideoElement(a){const s=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(a,s){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(l,s)}_decodeFromVideoElementSetup(a){if(!a)throw new _("A video element must be provided.");this.reset();const s=this.prepareVideoElement(a);return this.videoElement=s,s}decodeFromImageUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const l=this._decodeOnLoadImage(s);return s.src=a,l}decodeFromVideoUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElement(s);return s.src=a,l}decodeFromVideoUrlContinuously(a,s){if(!a)throw new _("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,s);return l.src=a,f}_decodeOnLoadImage(a){return new Promise((s,l)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(s,l),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,s){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,s)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let s;return typeof a>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof a=="string"&&(s=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(s=a),s}prepareVideoElement(a){let s;return!a&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof a=="string"&&(s=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(s=a),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(a,s=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(a);h(y)}catch(y){const S=s&&y instanceof re,R=(y instanceof M||y instanceof Y)&&l;if(S||R)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(a,s){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(a);s(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){s(null,f);const h=f instanceof M||f instanceof Y,m=f instanceof re;(h||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(a){const s=this.createBinaryBitmap(a);return this.decodeBitmap(s)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,s,l){s||(s={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(a,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(a,s,l=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(a,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const s=this.getCaptureCanvas(a),l=new Be(s),f=new q(l);return new D(f)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const s=this.createCaptureCanvas(a);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let l,f;return typeof a<"u"&&(a instanceof HTMLVideoElement?(l=a.videoWidth,f=a.videoHeight):a instanceof HTMLImageElement&&(l=a.naturalWidth||a.width,f=a.naturalHeight||a.height)),s.style.width=l+"px",s.style.height=f+"px",s.width=l,s.height=f,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,s){try{a.srcObject=s}catch{a.src=URL.createObjectURL(s)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class xe{constructor(a,s,l=s==null?0:8*s.length,f,h,m=I.currentTimeMillis()){this.text=a,this.rawBytes=s,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=a,this.rawBytes=s,l==null?this.numBits=s==null?0:8*s.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=I.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,s)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const s=this.resultPoints;if(s===null)this.resultPoints=a;else if(a!==null&&a.length>0){const l=new Array(s.length+a.length);I.arraycopy(s,0,l,0,s.length),I.arraycopy(a,0,l,s.length,a.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ke;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var ve=ke,be;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(be||(be={}));var Te=be;class qe{constructor(a,s,l,f,h=-1,m=-1){this.rawBytes=a,this.text=s,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(a){return this.expTable[a]}log(a){if(a===0)throw new C;return this.logTable[a]}static addOrSubtract(a,s){return a^s}}class We{constructor(a,s){if(s.length===0)throw new C;this.field=a;const l=s.length;if(l>1&&s[0]===0){let f=1;for(;f<l&&s[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),I.arraycopy(s,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const s=this.coefficients;let l;if(a===1){l=0;for(let m=0,y=s.length;m!==y;m++){const S=s[m];l=lt.addOrSubtract(l,S)}return l}l=s[0];const f=s.length,h=this.field;for(let m=1;m<f;m++)l=lt.addOrSubtract(h.multiply(a,l),s[m]);return l}addOrSubtract(a){if(!this.field.equals(a.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let s=this.coefficients,l=a.coefficients;if(s.length>l.length){const m=s;s=l,l=m}let f=new Int32Array(l.length);const h=l.length-s.length;I.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=lt.addOrSubtract(s[m-h],l[m]);return new We(this.field,f)}multiply(a){if(!this.field.equals(a.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const s=this.coefficients,l=s.length,f=a.coefficients,h=f.length,m=new Int32Array(l+h-1),y=this.field;for(let S=0;S<l;S++){const T=s[S];for(let R=0;R<h;R++)m[S+R]=lt.addOrSubtract(m[S+R],y.multiply(T,f[R]))}return new We(y,m)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const s=this.coefficients.length,l=this.field,f=new Int32Array(s),h=this.coefficients;for(let m=0;m<s;m++)f[m]=l.multiply(h[m],a);return new We(l,f)}multiplyByMonomial(a,s){if(a<0)throw new C;if(s===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+a),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(l[y],s);return new We(m,h)}divide(a){if(!this.field.equals(a.field))throw new C("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new C("Divide by 0");const s=this.field;let l=s.getZero(),f=this;const h=a.getCoefficient(a.getDegree()),m=s.inverse(h);for(;f.getDegree()>=a.getDegree()&&!f.isZero();){const y=f.getDegree()-a.getDegree(),S=s.multiply(f.getCoefficient(f.getDegree()),m),T=a.multiplyByMonomial(y,S),R=s.buildMonomial(y,S);l=l.addOrSubtract(R),f=f.addOrSubtract(T)}return[l,f]}toString(){let a="";for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);if(l!==0){if(l<0?(a+=" - ",l=-l):a.length>0&&(a+=" + "),s===0||l!==1){const f=this.field.log(l);f===0?a+="1":f===1?a+="a":(a+="a^",a+=f)}s!==0&&(s===1?a+="x":(a+="x^",a+=s))}}return a}}class it extends x{}it.kind="ArithmeticException";class nt extends lt{constructor(a,s,l){super(),this.primitive=a,this.size=s,this.generatorBase=l;const f=new Int32Array(s);let h=1;for(let y=0;y<s;y++)f[y]=h,h*=2,h>=s&&(h^=a,h&=s-1);this.expTable=f;const m=new Int32Array(s);for(let y=0;y<s-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new We(this,Int32Array.from([0])),this.one=new We(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,s){if(a<0)throw new C;if(s===0)return this.zero;const l=new Int32Array(a+1);return l[0]=s,new We(this,l)}inverse(a){if(a===0)throw new it;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,s){return a===0||s===0?0:this.expTable[(this.logTable[a]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}nt.AZTEC_DATA_12=new nt(4201,4096,1),nt.AZTEC_DATA_10=new nt(1033,1024,1),nt.AZTEC_DATA_6=new nt(67,64,1),nt.AZTEC_PARAM=new nt(19,16,1),nt.QR_CODE_FIELD_256=new nt(285,256,0),nt.DATA_MATRIX_FIELD_256=new nt(301,256,1),nt.AZTEC_DATA_8=nt.DATA_MATRIX_FIELD_256,nt.MAXICODE_FIELD_64=nt.AZTEC_DATA_6;class Xt extends x{}Xt.kind="ReedSolomonException";class An extends x{}An.kind="IllegalStateException";class ir{constructor(a){this.field=a}decode(a,s){const l=this.field,f=new We(l,a),h=new Int32Array(s);let m=!0;for(let G=0;G<s;G++){const Z=f.evaluateAt(l.exp(G+l.getGeneratorBase()));h[h.length-1-G]=Z,Z!==0&&(m=!1)}if(m)return;const y=new We(l,h),S=this.runEuclideanAlgorithm(l.buildMonomial(s,1),y,s),T=S[0],R=S[1],L=this.findErrorLocations(T),U=this.findErrorMagnitudes(R,L);for(let G=0;G<L.length;G++){const Z=a.length-1-l.log(L[G]);if(Z<0)throw new Xt("Bad error location");a[Z]=nt.addOrSubtract(a[Z],U[G])}}runEuclideanAlgorithm(a,s,l){if(a.getDegree()<s.getDegree()){const G=a;a=s,s=G}const f=this.field;let h=a,m=s,y=f.getZero(),S=f.getOne();for(;m.getDegree()>=(l/2|0);){let G=h,Z=y;if(h=m,y=S,h.isZero())throw new Xt("r_{i-1} was zero");m=G;let J=f.getZero();const ie=h.getCoefficient(h.getDegree()),fe=f.inverse(ie);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const Re=m.getDegree()-h.getDegree(),_e=f.multiply(m.getCoefficient(m.getDegree()),fe);J=J.addOrSubtract(f.buildMonomial(Re,_e)),m=m.addOrSubtract(h.multiplyByMonomial(Re,_e))}if(S=J.multiply(y).addOrSubtract(Z),m.getDegree()>=h.getDegree())throw new An("Division algorithm failed to reduce polynomial?")}const T=S.getCoefficient(0);if(T===0)throw new Xt("sigmaTilde(0) was zero");const R=f.inverse(T),L=S.multiplyScalar(R),U=m.multiplyScalar(R);return[L,U]}findErrorLocations(a){const s=a.getDegree();if(s===1)return Int32Array.from([a.getCoefficient(1)]);const l=new Int32Array(s);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<s;m++)a.evaluateAt(m)===0&&(l[f]=h.inverse(m),f++);if(f!==s)throw new Xt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(a,s){const l=s.length,f=new Int32Array(l),h=this.field;for(let m=0;m<l;m++){const y=h.inverse(s[m]);let S=1;for(let T=0;T<l;T++)if(m!==T){const R=h.multiply(s[T],y),L=(R&1)===0?R|1:R&-2;S=h.multiply(S,L)}f[m]=h.multiply(a.evaluateAt(y),h.inverse(S)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var Ut;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Ut||(Ut={}));class Rt{decode(a){this.ddata=a;let s=a.getBits(),l=this.extractBits(s),f=this.correctBits(l),h=Rt.convertBoolArrayToByteArray(f),m=Rt.getEncodedData(f),y=new qe(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let s=a.length,l=Ut.UPPER,f=Ut.UPPER,h="",m=0;for(;m<s;)if(f===Ut.BINARY){if(s-m<5)break;let y=Rt.readCode(a,m,5);if(m+=5,y===0){if(s-m<11)break;y=Rt.readCode(a,m,11)+31,m+=11}for(let S=0;S<y;S++){if(s-m<8){m=s;break}const T=Rt.readCode(a,m,8);h+=Ae.castAsNonUtf8Char(T),m+=8}f=l}else{let y=f===Ut.DIGIT?4:5;if(s-m<y)break;let S=Rt.readCode(a,m,y);m+=y;let T=Rt.getCharacter(f,S);T.startsWith("CTRL_")?(l=f,f=Rt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(l=f)):(h+=T,f=l)}return h}static getTable(a){switch(a){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;case"U":default:return Ut.UPPER}}static getCharacter(a,s){switch(a){case Ut.UPPER:return Rt.UPPER_TABLE[s];case Ut.LOWER:return Rt.LOWER_TABLE[s];case Ut.MIXED:return Rt.MIXED_TABLE[s];case Ut.PUNCT:return Rt.PUNCT_TABLE[s];case Ut.DIGIT:return Rt.DIGIT_TABLE[s];default:throw new An("Bad table")}}correctBits(a){let s,l;this.ddata.getNbLayers()<=2?(l=6,s=nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,s=nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,s=nt.AZTEC_DATA_10):(l=12,s=nt.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=a.length/l;if(h<f)throw new Y;let m=a.length%l,y=new Int32Array(h);for(let U=0;U<h;U++,m+=l)y[U]=Rt.readCode(a,m,l);try{new ir(s).decode(y,h-f)}catch(U){throw new Y(U)}let S=(1<<l)-1,T=0;for(let U=0;U<f;U++){let G=y[U];if(G===0||G===S)throw new Y;(G===1||G===S-1)&&T++}let R=new Array(f*l-T),L=0;for(let U=0;U<f;U++){let G=y[U];if(G===1||G===S-1)R.fill(G>1,L,L+l-1),L+=l-1;else for(let Z=l-1;Z>=0;--Z)R[L++]=(G&1<<Z)!==0}return R}extractBits(a){let s=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(s?11:14)+l*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,s));if(s)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*F.truncDivision(F.truncDivision(f,2)-1,15),S=f/2,T=F.truncDivision(y,2);for(let R=0;R<S;R++){let L=R+F.truncDivision(R,15);h[S-R-1]=T-L-1,h[S+R]=T+L+1}}for(let y=0,S=0;y<l;y++){let T=(l-y)*4+(s?9:12),R=y*2,L=f-1-R;for(let U=0;U<T;U++){let G=U*2;for(let Z=0;Z<2;Z++)m[S+G+Z]=a.get(h[R+Z],h[R+U]),m[S+2*T+G+Z]=a.get(h[R+U],h[L-Z]),m[S+4*T+G+Z]=a.get(h[L-Z],h[L-U]),m[S+6*T+G+Z]=a.get(h[L-U],h[R+Z])}S+=T*8}return m}static readCode(a,s,l){let f=0;for(let h=s;h<s+l;h++)f<<=1,a[h]&&(f|=1);return f}static readByte(a,s){let l=a.length-s;return l>=8?Rt.readCode(a,s,8):Rt.readCode(a,s,l)<<8-l}static convertBoolArrayToByteArray(a){let s=new Uint8Array((a.length+7)/8);for(let l=0;l<s.length;l++)s[l]=Rt.readByte(a,8*l);return s}totalBitsInLayer(a,s){return((s?88:112)+16*a)*a}}Rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,s,l,f){const h=a-l,m=s-f;return Math.sqrt(h*h+m*m)}static sum(a){let s=0;for(let l=0,f=a.length;l!==f;l++){const h=a[l];s+=h}return s}}class za{static floatToIntBits(a){return a}}za.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(a,s){this.x=a,this.y=s}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Ue){const s=a;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*za.floatToIntBits(this.x)+za.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const s=this.distance(a[0],a[1]),l=this.distance(a[1],a[2]),f=this.distance(a[0],a[2]);let h,m,y;if(l>=s&&l>=f?(m=a[0],h=a[1],y=a[2]):f>=l&&f>=s?(m=a[1],h=a[0],y=a[2]):(m=a[2],h=a[0],y=a[1]),this.crossProductZ(h,m,y)<0){const S=h;h=y,y=S}a[0]=h,a[1]=m,a[2]=y}static distance(a,s){return et.distance(a.x,a.y,s.x,s.y)}static crossProductZ(a,s,l){const f=s.x,h=s.y;return(l.x-f)*(a.y-h)-(l.y-h)*(a.x-f)}}class zn{constructor(a,s){this.bits=a,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class wa extends zn{constructor(a,s,l,f,h){super(a,s),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class dn{constructor(a,s,l,f){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),s==null&&(s=dn.INIT_SIZE),l==null&&(l=a.getWidth()/2|0),f==null&&(f=a.getHeight()/2|0);const h=s/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let a=this.leftInit,s=this.rightInit,l=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,S=!1,T=!1,R=!1,L=!1;const U=this.width,G=this.height;for(;m;){m=!1;let Z=!0;for(;(Z||!S)&&s<U;)Z=this.containsBlackPoint(l,f,s,!1),Z?(s++,m=!0,S=!0):S||s++;if(s>=U){h=!0;break}let J=!0;for(;(J||!T)&&f<G;)J=this.containsBlackPoint(a,s,f,!0),J?(f++,m=!0,T=!0):T||f++;if(f>=G){h=!0;break}let ie=!0;for(;(ie||!R)&&a>=0;)ie=this.containsBlackPoint(l,f,a,!1),ie?(a--,m=!0,R=!0):R||a--;if(a<0){h=!0;break}let fe=!0;for(;(fe||!L)&&l>=0;)fe=this.containsBlackPoint(a,s,l,!0),fe?(l--,m=!0,L=!0):L||l--;if(l<0){h=!0;break}m&&(y=!0)}if(!h&&y){const Z=s-a;let J=null;for(let _e=1;J===null&&_e<Z;_e++)J=this.getBlackPointOnSegment(a,f-_e,a+_e,f);if(J==null)throw new re;let ie=null;for(let _e=1;ie===null&&_e<Z;_e++)ie=this.getBlackPointOnSegment(a,l+_e,a+_e,l);if(ie==null)throw new re;let fe=null;for(let _e=1;fe===null&&_e<Z;_e++)fe=this.getBlackPointOnSegment(s,l+_e,s-_e,l);if(fe==null)throw new re;let Re=null;for(let _e=1;Re===null&&_e<Z;_e++)Re=this.getBlackPointOnSegment(s,f-_e,s-_e,f);if(Re==null)throw new re;return this.centerEdges(Re,J,fe,ie)}else throw new re}getBlackPointOnSegment(a,s,l,f){const h=et.round(et.distance(a,s,l,f)),m=(l-a)/h,y=(f-s)/h,S=this.image;for(let T=0;T<h;T++){const R=et.round(a+T*m),L=et.round(s+T*y);if(S.get(R,L))return new Ue(R,L)}return null}centerEdges(a,s,l,f){const h=a.getX(),m=a.getY(),y=s.getX(),S=s.getY(),T=l.getX(),R=l.getY(),L=f.getX(),U=f.getY(),G=dn.CORR;return h<this.width/2?[new Ue(L-G,U+G),new Ue(y+G,S+G),new Ue(T-G,R-G),new Ue(h+G,m-G)]:[new Ue(L+G,U+G),new Ue(y+G,S-G),new Ue(T-G,R+G),new Ue(h-G,m-G)]}containsBlackPoint(a,s,l,f){const h=this.image;if(f){for(let m=a;m<=s;m++)if(h.get(m,l))return!0}else for(let m=a;m<=s;m++)if(h.get(l,m))return!0;return!1}}dn.INIT_SIZE=10,dn.CORR=1;class ks{static checkAndNudgePoints(a,s){const l=a.getWidth(),f=a.getHeight();let h=!0;for(let m=0;m<s.length&&h;m+=2){const y=Math.floor(s[m]),S=Math.floor(s[m+1]);if(y<-1||y>l||S<-1||S>f)throw new re;h=!1,y===-1?(s[m]=0,h=!0):y===l&&(s[m]=l-1,h=!0),S===-1?(s[m+1]=0,h=!0):S===f&&(s[m+1]=f-1,h=!0)}h=!0;for(let m=s.length-2;m>=0&&h;m-=2){const y=Math.floor(s[m]),S=Math.floor(s[m+1]);if(y<-1||y>l||S<-1||S>f)throw new re;h=!1,y===-1?(s[m]=0,h=!0):y===l&&(s[m]=l-1,h=!0),S===-1?(s[m+1]=0,h=!0):S===f&&(s[m+1]=f-1,h=!0)}}}class Zn{constructor(a,s,l,f,h,m,y,S,T){this.a11=a,this.a21=s,this.a31=l,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=S,this.a33=T}static quadrilateralToQuadrilateral(a,s,l,f,h,m,y,S,T,R,L,U,G,Z,J,ie){const fe=Zn.quadrilateralToSquare(a,s,l,f,h,m,y,S);return Zn.squareToQuadrilateral(T,R,L,U,G,Z,J,ie).times(fe)}transformPoints(a){const s=a.length,l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,S=this.a23,T=this.a31,R=this.a32,L=this.a33;for(let U=0;U<s;U+=2){const G=a[U],Z=a[U+1],J=h*G+S*Z+L;a[U]=(l*G+m*Z+T)/J,a[U+1]=(f*G+y*Z+R)/J}}transformPointsWithValues(a,s){const l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,S=this.a23,T=this.a31,R=this.a32,L=this.a33,U=a.length;for(let G=0;G<U;G++){const Z=a[G],J=s[G],ie=h*Z+S*J+L;a[G]=(l*Z+m*J+T)/ie,s[G]=(f*Z+y*J+R)/ie}}static squareToQuadrilateral(a,s,l,f,h,m,y,S){const T=a-l+h-y,R=s-f+m-S;if(T===0&&R===0)return new Zn(l-a,h-l,a,f-s,m-f,s,0,0,1);{const L=l-h,U=y-h,G=f-m,Z=S-m,J=L*Z-U*G,ie=(T*Z-U*R)/J,fe=(L*R-T*G)/J;return new Zn(l-a+ie*l,y-a+fe*y,a,f-s+ie*f,S-s+fe*S,s,ie,fe,1)}}static quadrilateralToSquare(a,s,l,f,h,m,y,S){return Zn.squareToQuadrilateral(a,s,l,f,h,m,y,S).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Zn(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Ls extends ks{sampleGrid(a,s,l,f,h,m,y,S,T,R,L,U,G,Z,J,ie,fe,Re,_e){const Ce=Zn.quadrilateralToQuadrilateral(f,h,m,y,S,T,R,L,U,G,Z,J,ie,fe,Re,_e);return this.sampleGridWithTransform(a,s,l,Ce)}sampleGridWithTransform(a,s,l,f){if(s<=0||l<=0)throw new re;const h=new je(s,l),m=new Float32Array(2*s);for(let y=0;y<l;y++){const S=m.length,T=y+.5;for(let R=0;R<S;R+=2)m[R]=R/2+.5,m[R+1]=T;f.transformPoints(m),ks.checkAndNudgePoints(a,m);try{for(let R=0;R<S;R+=2)a.get(Math.floor(m[R]),Math.floor(m[R+1]))&&h.set(R/2,y)}catch{throw new re}}return h}}class mr{static setGridSampler(a){mr.gridSampler=a}static getInstance(){return mr.gridSampler}}mr.gridSampler=new Ls;class kn{constructor(a,s){this.x=a,this.y=s}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class oa{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let s=this.getMatrixCenter(),l=this.getBullsEyeCorners(s);if(a){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new wa(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new re;let s=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(a[0],a[1],s),this.sampleLine(a[1],a[2],s),this.sampleLine(a[2],a[3],s),this.sampleLine(a[3],a[0],s)]);this.shift=this.getRotation(l,s);let f=0;for(let m=0;m<4;m++){let y=l[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(a,s){let l=0;a.forEach((f,h,m)=>{let y=(f>>s-2<<1)+(f&1);l=(l<<3)+y}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(F.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new re}getCorrectedParameterData(a,s){let l,f;s?(l=7,f=2):(l=10,f=4);let h=l-f,m=new Int32Array(l);for(let S=l-1;S>=0;--S)m[S]=a&15,a>>=4;try{new ir(nt.AZTEC_PARAM).decode(m,h)}catch{throw new re}let y=0;for(let S=0;S<f;S++)y=(y<<4)+m[S];return y}getBullsEyeCorners(a){let s=a,l=a,f=a,h=a,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let L=this.getFirstDifferent(s,m,1,-1),U=this.getFirstDifferent(l,m,1,1),G=this.getFirstDifferent(f,m,-1,1),Z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let J=this.distancePoint(Z,L)*this.nbCenterLayers/(this.distancePoint(h,s)*(this.nbCenterLayers+2));if(J<.75||J>1.25||!this.isWhiteOrBlackRectangle(L,U,G,Z))break}s=L,l=U,f=G,h=Z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let y=new Ue(s.getX()+.5,s.getY()-.5),S=new Ue(l.getX()+.5,l.getY()+.5),T=new Ue(f.getX()-.5,f.getY()+.5),R=new Ue(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,S,T,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,s,l,f;try{let y=new dn(this.image).detect();a=y[0],s=y[1],l=y[2],f=y[3]}catch{let S=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new kn(S+7,T-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new kn(S+7,T+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kn(S-7,T+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new kn(S-7,T-7),!1,-1,-1).toResultPoint()}let h=et.round((a.getX()+f.getX()+s.getX()+l.getX())/4),m=et.round((a.getY()+f.getY()+s.getY()+l.getY())/4);try{let y=new dn(this.image,15,h,m).detect();a=y[0],s=y[1],l=y[2],f=y[3]}catch{a=this.getFirstDifferent(new kn(h+7,m-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new kn(h+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new kn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new kn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=et.round((a.getX()+f.getX()+s.getX()+l.getX())/4),m=et.round((a.getY()+f.getY()+s.getY()+l.getY())/4),new kn(h,m)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,s,l,f,h){let m=mr.getInstance(),y=this.getDimension(),S=y/2-this.nbCenterLayers,T=y/2+this.nbCenterLayers;return m.sampleGrid(a,y,y,S,S,T,S,T,T,S,T,s.getX(),s.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(a,s,l){let f=0,h=this.distanceResultPoint(a,s),m=h/l,y=a.getX(),S=a.getY(),T=m*(s.getX()-a.getX())/h,R=m*(s.getY()-a.getY())/h;for(let L=0;L<l;L++)this.image.get(et.round(y+L*T),et.round(S+L*R))&&(f|=1<<l-L-1);return f}isWhiteOrBlackRectangle(a,s,l,f){let h=3;a=new kn(a.getX()-h,a.getY()+h),s=new kn(s.getX()-h,s.getY()-h),l=new kn(l.getX()+h,l.getY()-h),f=new kn(f.getX()+h,f.getY()+h);let m=this.getColor(f,a);if(m===0)return!1;let y=this.getColor(a,s);return y!==m||(y=this.getColor(s,l),y!==m)?!1:(y=this.getColor(l,f),y===m)}getColor(a,s){let l=this.distancePoint(a,s),f=(s.getX()-a.getX())/l,h=(s.getY()-a.getY())/l,m=0,y=a.getX(),S=a.getY(),T=this.image.get(a.getX(),a.getY()),R=Math.ceil(l);for(let U=0;U<R;U++)y+=f,S+=h,this.image.get(et.round(y),et.round(S))!==T&&m++;let L=m/l;return L>.1&&L<.9?0:L<=.1===T?1:-1}getFirstDifferent(a,s,l,f){let h=a.getX()+l,m=a.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===s;)h+=l,m+=f;for(h-=l,m-=f;this.isValid(h,m)&&this.image.get(h,m)===s;)h+=l;for(h-=l;this.isValid(h,m)&&this.image.get(h,m)===s;)m+=f;return m-=f,new kn(h,m)}expandSquare(a,s,l){let f=l/(2*s),h=a[0].getX()-a[2].getX(),m=a[0].getY()-a[2].getY(),y=(a[0].getX()+a[2].getX())/2,S=(a[0].getY()+a[2].getY())/2,T=new Ue(y+f*h,S+f*m),R=new Ue(y-f*h,S-f*m);h=a[1].getX()-a[3].getX(),m=a[1].getY()-a[3].getY(),y=(a[1].getX()+a[3].getX())/2,S=(a[1].getY()+a[3].getY())/2;let L=new Ue(y+f*h,S+f*m),U=new Ue(y-f*h,S-f*m);return[T,L,R,U]}isValid(a,s){return a>=0&&a<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(a){let s=et.round(a.getX()),l=et.round(a.getY());return this.isValid(s,l)}distancePoint(a,s){return et.distance(a.getX(),a.getY(),s.getX(),s.getY())}distanceResultPoint(a,s){return et.distance(a.getX(),a.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class ai{decode(a,s=null){let l=null,f=new oa(a.getBlackMatrix()),h=null,m=null;try{let R=f.detectMirror(!1);h=R.getPoints(),this.reportFoundResultPoints(s,h),m=new Rt().decode(R)}catch(R){l=R}if(m==null)try{let R=f.detectMirror(!0);h=R.getPoints(),this.reportFoundResultPoints(s,h),m=new Rt().decode(R)}catch(R){throw l??R}let y=new xe(m.getText(),m.getRawBytes(),m.getNumBits(),h,ve.AZTEC,I.currentTimeMillis()),S=m.getByteSegments();S!=null&&y.putMetadata(Te.BYTE_SEGMENTS,S);let T=m.getECLevel();return T!=null&&y.putMetadata(Te.ERROR_CORRECTION_LEVEL,T),y}reportFoundResultPoints(a,s){if(a!=null){let l=a.get(se.NEED_RESULT_POINT_CALLBACK);l!=null&&s.forEach((f,h,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class Ha extends pe{constructor(a=500){super(new ai,a)}}class Qt{decode(a,s){try{return this.doDecode(a,s)}catch{if(s&&s.get(se.TRY_HARDER)===!0&&a.isRotateSupported()){const h=a.rotateCounterClockwise(),m=this.doDecode(h,s),y=m.getResultMetadata();let S=270;y!==null&&y.get(Te.ORIENTATION)===!0&&(S=S+y.get(Te.ORIENTATION)%360),m.putMetadata(Te.ORIENTATION,S);const T=m.getResultPoints();if(T!==null){const R=h.getHeight();for(let L=0;L<T.length;L++)T[L]=new Ue(R-T[L].getY()-1,T[L].getX())}return m}else throw new re}}reset(){}doDecode(a,s){const l=a.getWidth(),f=a.getHeight();let h=new Q(l);const m=s&&s.get(se.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let S;m?S=f:S=15;const T=Math.trunc(f/2);for(let R=0;R<S;R++){const L=Math.trunc((R+1)/2),U=(R&1)===0,G=T+y*(U?L:-L);if(G<0||G>=f)break;try{h=a.getBlackRow(G,h)}catch{continue}for(let Z=0;Z<2;Z++){if(Z===1&&(h.reverse(),s&&s.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const J=new Map;s.forEach((ie,fe)=>J.set(fe,ie)),J.delete(se.NEED_RESULT_POINT_CALLBACK),s=J}try{const J=this.decodeRow(G,h,s);if(Z===1){J.putMetadata(Te.ORIENTATION,180);const ie=J.getResultPoints();ie!==null&&(ie[0]=new Ue(l-ie[0].getX()-1,ie[0].getY()),ie[1]=new Ue(l-ie[1].getX()-1,ie[1].getY()))}return J}catch{}}}throw new re}static recordPattern(a,s,l){const f=l.length;for(let T=0;T<f;T++)l[T]=0;const h=a.getSize();if(s>=h)throw new re;let m=!a.get(s),y=0,S=s;for(;S<h;){if(a.get(S)!==m)l[y]++;else{if(++y===f)break;l[y]=1,m=!m}S++}if(!(y===f||y===f-1&&S===h))throw new re}static recordPatternInReverse(a,s,l){let f=l.length,h=a.get(s);for(;s>0&&f>=0;)a.get(--s)!==h&&(f--,h=!h);if(f>=0)throw new re;Qt.recordPattern(a,s+1,l)}static patternMatchVariance(a,s,l){const f=a.length;let h=0,m=0;for(let T=0;T<f;T++)h+=a[T],m+=s[T];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;l*=y;let S=0;for(let T=0;T<f;T++){const R=a[T],L=s[T]*y,U=R>L?R-L:L-R;if(U>l)return Number.POSITIVE_INFINITY;S+=U}return S/h}}class Ne extends Qt{static findStartPattern(a){const s=a.getSize(),l=a.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=l,y=!1;const S=6;for(let T=l;T<s;T++)if(a.get(T)!==y)h[f]++;else{if(f===S-1){let R=Ne.MAX_AVG_VARIANCE,L=-1;for(let U=Ne.CODE_START_A;U<=Ne.CODE_START_C;U++){const G=Qt.patternMatchVariance(h,Ne.CODE_PATTERNS[U],Ne.MAX_INDIVIDUAL_VARIANCE);G<R&&(R=G,L=U)}if(L>=0&&a.isRange(Math.max(0,m-(T-m)/2),m,!1))return Int32Array.from([m,T,L]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new re}static decodeCode(a,s,l){Qt.recordPattern(a,l,s);let f=Ne.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Ne.CODE_PATTERNS.length;m++){const y=Ne.CODE_PATTERNS[m],S=this.patternMatchVariance(s,y,Ne.MAX_INDIVIDUAL_VARIANCE);S<f&&(f=S,h=m)}if(h>=0)return h;throw new re}decodeRow(a,s,l){const f=l&&l.get(se.ASSUME_GS1)===!0,h=Ne.findStartPattern(s),m=h[2];let y=0;const S=new Uint8Array(20);S[y++]=m;let T;switch(m){case Ne.CODE_START_A:T=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:T=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:T=Ne.CODE_CODE_C;break;default:throw new Y}let R=!1,L=!1,U="",G=h[0],Z=h[1];const J=Int32Array.from([0,0,0,0,0,0]);let ie=0,fe=0,Re=m,_e=0,Ce=!0,pt=!1,ut=!1;for(;!R;){const hi=L;switch(L=!1,ie=fe,fe=Ne.decodeCode(s,J,Z),S[y++]=fe,fe!==Ne.CODE_STOP&&(Ce=!0),fe!==Ne.CODE_STOP&&(_e++,Re+=_e*fe),G=Z,Z+=J.reduce((du,Vl)=>du+Vl,0),fe){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new Y}switch(T){case Ne.CODE_CODE_A:if(fe<64)ut===pt?U+=String.fromCharCode(32+fe):U+=String.fromCharCode(32+fe+128),ut=!1;else if(fe<96)ut===pt?U+=String.fromCharCode(fe-64):U+=String.fromCharCode(fe+64),ut=!1;else switch(fe!==Ne.CODE_STOP&&(Ce=!1),fe){case Ne.CODE_FNC_1:f&&(U.length===0?U+="]C1":U+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!pt&&ut?(pt=!0,ut=!1):pt&&ut?(pt=!1,ut=!1):ut=!0;break;case Ne.CODE_SHIFT:L=!0,T=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:T=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:T=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:R=!0;break}break;case Ne.CODE_CODE_B:if(fe<96)ut===pt?U+=String.fromCharCode(32+fe):U+=String.fromCharCode(32+fe+128),ut=!1;else switch(fe!==Ne.CODE_STOP&&(Ce=!1),fe){case Ne.CODE_FNC_1:f&&(U.length===0?U+="]C1":U+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!pt&&ut?(pt=!0,ut=!1):pt&&ut?(pt=!1,ut=!1):ut=!0;break;case Ne.CODE_SHIFT:L=!0,T=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:T=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:T=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:R=!0;break}break;case Ne.CODE_CODE_C:if(fe<100)fe<10&&(U+="0"),U+=fe;else switch(fe!==Ne.CODE_STOP&&(Ce=!1),fe){case Ne.CODE_FNC_1:f&&(U.length===0?U+="]C1":U+="");break;case Ne.CODE_CODE_A:T=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:T=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:R=!0;break}break}hi&&(T=T===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const Rn=Z-G;if(Z=s.getNextUnset(Z),!s.isRange(Z,Math.min(s.getSize(),Z+(Z-G)/2),!1))throw new re;if(Re-=_e*ie,Re%103!==ie)throw new M;const Ir=U.length;if(Ir===0)throw new re;Ir>0&&Ce&&(T===Ne.CODE_CODE_C?U=U.substring(0,Ir-2):U=U.substring(0,Ir-1));const lr=(h[1]+h[0])/2,qt=G+Rn/2,er=S.length,Cr=new Uint8Array(er);for(let hi=0;hi<er;hi++)Cr[hi]=S[hi];const $i=[new Ue(lr,a),new Ue(qt,a)];return new xe(U,Cr,0,$i,ve.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Ft extends Qt{constructor(a=!1,s=!1){super(),this.usingCheckDigit=a,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,s,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=Ft.findAsteriskPattern(s,f),m=s.getNextSet(h[1]),y=s.getSize(),S,T;do{Ft.recordPattern(s,m,f);let J=Ft.toNarrowWidePattern(f);if(J<0)throw new re;S=Ft.patternToChar(J),this.decodeRowResult+=S,T=m;for(let ie of f)m+=ie;m=s.getNextSet(m)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let J of f)R+=J;let L=m-T-R;if(m!==y&&L*2<R)throw new re;if(this.usingCheckDigit){let J=this.decodeRowResult.length-1,ie=0;for(let fe=0;fe<J;fe++)ie+=Ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(J)!==Ft.ALPHABET_STRING.charAt(ie%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,J)}if(this.decodeRowResult.length===0)throw new re;let U;this.extendedMode?U=Ft.decodeExtended(this.decodeRowResult):U=this.decodeRowResult;let G=(h[1]+h[0])/2,Z=T+R/2;return new xe(U,null,0,[new Ue(G,a),new Ue(Z,a)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(a,s){let l=a.getSize(),f=a.getNextSet(0),h=0,m=f,y=!1,S=s.length;for(let T=f;T<l;T++)if(a.get(T)!==y)s[h]++;else{if(h===S-1){if(this.toNarrowWidePattern(s)===Ft.ASTERISK_ENCODING&&a.isRange(Math.max(0,m-Math.floor((T-m)/2)),m,!1))return[m,T];m+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,y=!y}throw new re}static toNarrowWidePattern(a){let s=a.length,l=0,f;do{let h=2147483647;for(let S of a)S<h&&S>l&&(h=S);l=h,f=0;let m=0,y=0;for(let S=0;S<s;S++){let T=a[S];T>l&&(y|=1<<s-1-S,f++,m+=T)}if(f===3){for(let S=0;S<s&&f>0;S++){let T=a[S];if(T>l&&(f--,T*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(a){for(let s=0;s<Ft.CHARACTER_ENCODINGS.length;s++)if(Ft.CHARACTER_ENCODINGS[s]===a)return Ft.ALPHABET_STRING.charAt(s);if(a===Ft.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(a){let s=a.length,l="";for(let f=0;f<s;f++){let h=a.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=a.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new Y;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new Y;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new Y;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new Y;break}l+=y,f++}else l+=h}return l}}Ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ft.ASTERISK_ENCODING=148;class dt extends Qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,s,l){let f=this.decodeStart(s),h=this.decodeEnd(s),m=new Me;dt.decodeMiddle(s,f[1],h[0],m);let y=m.toString(),S=null;l!=null&&(S=l.get(se.ALLOWED_LENGTHS)),S==null&&(S=dt.DEFAULT_ALLOWED_LENGTHS);let T=y.length,R=!1,L=0;for(let Z of S){if(T===Z){R=!0;break}Z>L&&(L=Z)}if(!R&&T>L&&(R=!0),!R)throw new Y;const U=[new Ue(f[1],a),new Ue(h[0],a)];return new xe(y,null,0,U,ve.ITF,new Date().getTime())}static decodeMiddle(a,s,l,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);s<l;){Qt.recordPattern(a,s,h);for(let T=0;T<5;T++){let R=2*T;m[T]=h[R],y[T]=h[R+1]}let S=dt.decodeDigit(m);f.append(S.toString()),S=this.decodeDigit(y),f.append(S.toString()),h.forEach(function(T){s+=T})}}decodeStart(a){let s=dt.skipWhiteSpace(a),l=dt.findGuardPattern(a,s,dt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(a,l[0]),l}validateQuietZone(a,s){let l=this.narrowLineWidth*10;l=l<s?l:s;for(let f=s-1;l>0&&f>=0&&!a.get(f);f--)l--;if(l!==0)throw new re}static skipWhiteSpace(a){const s=a.getSize(),l=a.getNextSet(0);if(l===s)throw new re;return l}decodeEnd(a){a.reverse();try{let s=dt.skipWhiteSpace(a),l;try{l=dt.findGuardPattern(a,s,dt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(l=dt.findGuardPattern(a,s,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,l[0]);let f=l[0];return l[0]=a.getSize()-l[1],l[1]=a.getSize()-f,l}finally{a.reverse()}}static findGuardPattern(a,s,l){let f=l.length,h=new Int32Array(f),m=a.getSize(),y=!1,S=0,T=s;h.fill(0);for(let R=s;R<m;R++)if(a.get(R)!==y)h[S]++;else{if(S===f-1){if(Qt.patternMatchVariance(h,l,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[T,R];T+=h[0]+h[1],I.arraycopy(h,2,h,0,S-1),h[S-1]=0,h[S]=0,S--}else S++;h[S]=1,y=!y}throw new re}static decodeDigit(a){let s=dt.MAX_AVG_VARIANCE,l=-1,f=dt.PATTERNS.length;for(let h=0;h<f;h++){let m=dt.PATTERNS[h],y=Qt.patternMatchVariance(a,m,dt.MAX_INDIVIDUAL_VARIANCE);y<s?(s=y,l=h):y===s&&(l=-1)}if(l>=0)return l%10;throw new re}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends Qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let s=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!s;){h=Int32Array.from([0,0,0]),l=cn.findGuardPattern(a,f,!1,this.START_END_PATTERN,h);let m=l[0];f=l[1];let y=m-(f-m);y>=0&&(s=a.isRange(y,m,!1))}return l}static checkChecksum(a){return cn.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let s=a.length;if(s===0)return!1;let l=parseInt(a.charAt(s-1),10);return cn.getStandardUPCEANChecksum(a.substring(0,s-1))===l}static getStandardUPCEANChecksum(a){let s=a.length,l=0;for(let f=s-1;f>=0;f-=2){let h=a.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new Y;l+=h}l*=3;for(let f=s-2;f>=0;f-=2){let h=a.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new Y;l+=h}return(1e3-l)%10}static decodeEnd(a,s){return cn.findGuardPattern(a,s,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,s,l,f){return this.findGuardPattern(a,s,l,f,new Int32Array(f.length))}static findGuardPattern(a,s,l,f,h){let m=a.getSize();s=l?a.getNextUnset(s):a.getNextSet(s);let y=0,S=s,T=f.length,R=l;for(let L=s;L<m;L++)if(a.get(L)!==R)h[y]++;else{if(y===T-1){if(Qt.patternMatchVariance(h,f,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([S,L]);S+=h[0]+h[1];let U=h.slice(2,h.length-1);for(let G=0;G<y-1;G++)h[G]=U[G];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,R=!R}throw new re}static decodeDigit(a,s,l,f){this.recordPattern(a,l,s);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let S=0;S<y;S++){let T=f[S],R=Qt.patternMatchVariance(s,T,cn.MAX_INDIVIDUAL_VARIANCE);R<h&&(h=R,m=S)}if(m>=0)return m;throw new re}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class va{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,s,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(s,l,f),m=f.toString(),y=va.parseExtensionString(m),S=[new Ue((l[0]+l[1])/2,a),new Ue(h,a)],T=new xe(m,null,0,S,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&T.putAllMetadata(y),T}decodeMiddle(a,s,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=a.getSize(),m=s[1],y=0;for(let T=0;T<5&&m<h;T++){let R=cn.decodeDigit(a,f,m,cn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let L of f)m+=L;R>=10&&(y|=1<<4-T),T!==4&&(m=a.getNextSet(m),m=a.getNextUnset(m))}if(l.length!==5)throw new re;let S=this.determineCheckDigit(y);if(va.extensionChecksum(l.toString())!==S)throw new re;return m}static extensionChecksum(a){let s=a.length,l=0;for(let f=s-2;f>=0;f-=2)l+=a.charAt(f).charCodeAt(0)-48;l*=3;for(let f=s-1;f>=0;f-=2)l+=a.charAt(f).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(a){for(let s=0;s<10;s++)if(a===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new re}static parseExtensionString(a){if(a.length!==5)return null;let s=va.parseExtension5String(a);return s==null?null:new Map([[Te.SUGGESTED_PRICE,s]])}static parseExtension5String(a){let s;switch(a.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let l=parseInt(a.substring(1)),f=(l/100).toString(),h=l%100,m=h<10?"0"+h:h.toString();return s+f+"."+m}}class Tr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,s,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(s,l,f),m=f.toString(),y=Tr.parseExtensionString(m),S=[new Ue((l[0]+l[1])/2,a),new Ue(h,a)],T=new xe(m,null,0,S,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&T.putAllMetadata(y),T}decodeMiddle(a,s,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=a.getSize(),m=s[1],y=0;for(let S=0;S<2&&m<h;S++){let T=cn.decodeDigit(a,f,m,cn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let R of f)m+=R;T>=10&&(y|=1<<1-S),S!==1&&(m=a.getNextSet(m),m=a.getNextUnset(m))}if(l.length!==2)throw new re;if(parseInt(l.toString())%4!==y)throw new re;return m}static parseExtensionString(a){return a.length!==2?null:new Map([[Te.ISSUE_NUMBER,parseInt(a)]])}}class ii{static decodeRow(a,s,l){let f=cn.findGuardPattern(s,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new va().decodeRow(a,s,f)}catch{return new Tr().decodeRow(a,s,f)}}}ii.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends cn{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let s=bt.L_PATTERNS[a-10],l=new Int32Array(s.length);for(let f=0;f<s.length;f++)l[f]=s[s.length-f-1];bt.L_AND_G_PATTERNS[a]=l}}decodeRow(a,s,l){let f=bt.findStartGuardPattern(s),h=l==null?null:l.get(se.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Ce=new Ue((f[0]+f[1])/2,a);h.foundPossibleResultPoint(Ce)}let m=this.decodeMiddle(s,f,this.decodeRowStringBuffer),y=m.rowOffset,S=m.resultString;if(h!=null){const Ce=new Ue(y,a);h.foundPossibleResultPoint(Ce)}let T=this.decodeEnd(s,y);if(h!=null){const Ce=new Ue((T[0]+T[1])/2,a);h.foundPossibleResultPoint(Ce)}let R=T[1],L=R+(R-T[0]);if(L>=s.getSize()||!s.isRange(R,L,!1))throw new re;let U=S.toString();if(U.length<8)throw new Y;if(!bt.checkChecksum(U))throw new M;let G=(f[1]+f[0])/2,Z=(T[1]+T[0])/2,J=this.getBarcodeFormat(),ie=[new Ue(G,a),new Ue(Z,a)],fe=new xe(U,null,0,ie,J,new Date().getTime()),Re=0;try{let Ce=ii.decodeRow(a,s,T[1]);fe.putMetadata(Te.UPC_EAN_EXTENSION,Ce.getText()),fe.putAllMetadata(Ce.getResultMetadata()),fe.addResultPoints(Ce.getResultPoints()),Re=Ce.getText().length}catch{}let _e=l==null?null:l.get(se.ALLOWED_EAN_EXTENSIONS);if(_e!=null){let Ce=!1;for(let pt in _e)if(Re.toString()===pt){Ce=!0;break}if(!Ce)throw new re}return fe}decodeEnd(a,s){return bt.findGuardPattern(a,s,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return bt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let s=a.length;if(s===0)return!1;let l=parseInt(a.charAt(s-1),10);return bt.getStandardUPCEANChecksum(a.substring(0,s-1))===l}static getStandardUPCEANChecksum(a){let s=a.length,l=0;for(let f=s-1;f>=0;f-=2){let h=a.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new Y;l+=h}l*=3;for(let f=s-2;f>=0;f-=2){let h=a.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new Y;l+=h}return(1e3-l)%10}}class br extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,s,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=a.getSize(),m=s[1],y=0;for(let T=0;T<6&&m<h;T++){let R=bt.decodeDigit(a,f,m,bt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let L of f)m+=L;R>=10&&(y|=1<<5-T)}l=br.determineFirstDigit(l,y),m=bt.findGuardPattern(a,m,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&m<h;T++){let R=bt.decodeDigit(a,f,m,bt.L_PATTERNS);l+=String.fromCharCode(48+R);for(let L of f)m+=L}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(a,s){for(let l=0;l<10;l++)if(s===this.FIRST_DIGIT_ENCODINGS[l])return a=String.fromCharCode(48+l)+a,a;throw new re}}br.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ur extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,s,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=a.getSize(),m=s[1];for(let S=0;S<4&&m<h;S++){let T=bt.decodeDigit(a,f,m,bt.L_PATTERNS);l+=String.fromCharCode(48+T);for(let R of f)m+=R}m=bt.findGuardPattern(a,m,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&m<h;S++){let T=bt.decodeDigit(a,f,m,bt.L_PATTERNS);l+=String.fromCharCode(48+T);for(let R of f)m+=R}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return ve.EAN_8}}class st extends bt{constructor(){super(...arguments),this.ean13Reader=new br}getBarcodeFormat(){return ve.UPC_A}decode(a,s){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,s,l))}decodeMiddle(a,s,l){return this.ean13Reader.decodeMiddle(a,s,l)}maybeReturnResult(a){let s=a.getText();if(s.charAt(0)==="0"){let l=new xe(s.substring(1),null,null,a.getResultPoints(),ve.UPC_A);return a.getResultMetadata()!=null&&l.putAllMetadata(a.getResultMetadata()),l}else throw new re}reset(){this.ean13Reader.reset()}}class St extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,s,l){const f=this.decodeMiddleCounters.map(T=>T);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=a.getSize();let m=s[1],y=0;for(let T=0;T<6&&m<h;T++){const R=St.decodeDigit(a,f,m,St.L_AND_G_PATTERNS);l+=String.fromCharCode(48+R%10);for(let L of f)m+=L;R>=10&&(y|=1<<5-T)}let S=St.determineNumSysAndCheckDigit(l,y);return{rowOffset:m,resultString:S}}decodeEnd(a,s){return St.findGuardPatternWithoutCounters(a,s,!0,St.MIDDLE_END_PATTERN)}checkChecksum(a){return bt.checkChecksum(St.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,s){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode(48+l),m=String.fromCharCode(48+f);return h+a+m}throw re.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(a){const s=a.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new Me;l.append(a.charAt(0));let f=s[5];switch(f){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(f),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(f);break}return a.length>=8&&l.append(a.charAt(7)),l.toString()}}St.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Cn extends Qt{constructor(a){super();let s=a==null?null:a.get(se.POSSIBLE_FORMATS),l=[];o(s)?(l.push(new br),l.push(new st),l.push(new Ur),l.push(new St)):(s.indexOf(ve.EAN_13)>-1&&l.push(new br),s.indexOf(ve.UPC_A)>-1&&l.push(new st),s.indexOf(ve.EAN_8)>-1&&l.push(new Ur),s.indexOf(ve.UPC_E)>-1&&l.push(new St)),this.readers=l}decodeRow(a,s,l){for(let f of this.readers)try{const h=f.decodeRow(a,s,l),m=h.getBarcodeFormat()===ve.EAN_13&&h.getText().charAt(0)==="0",y=l==null?null:l.get(se.POSSIBLE_FORMATS),S=y==null||y.includes(ve.UPC_A);if(m&&S){const T=h.getRawBytes(),R=new xe(h.getText().substring(1),T,T?T.length:null,h.getResultPoints(),ve.UPC_A);return R.putAllMetadata(h.getResultMetadata()),R}return h}catch{}throw new re}reset(){for(let a of this.readers)a.reset()}}class Mt extends Qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,s){for(let l=0;l<s.length;l++)if(Qt.patternMatchVariance(a,s[l],Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return l;throw new re}static count(a){return et.sum(new Int32Array(a))}static increment(a,s){let l=0,f=s[0];for(let h=1;h<a.length;h++)s[h]>f&&(f=s[h],l=h);a[l]++}static decrement(a,s){let l=0,f=s[0];for(let h=1;h<a.length;h++)s[h]<f&&(f=s[h],l=h);a[l]--}static isFinderPattern(a){let s=a[0]+a[1],l=s+a[2]+a[3],f=s/l;if(f>=Mt.MIN_FINDER_PATTERN_RATIO&&f<=Mt.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of a)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}Mt.MAX_AVG_VARIANCE=.2,Mt.MAX_INDIVIDUAL_VARIANCE=.45,Mt.MIN_FINDER_PATTERN_RATIO=9.5/12,Mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class wr{constructor(a,s){this.value=a,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof wr))return!1;const s=a;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jt{constructor(a,s,l,f,h){this.value=a,this.startEnd=s,this.value=a,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Ue(l,h)),this.resultPoints.push(new Ue(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Jt))return!1;const s=a;return this.value===s.value}hashCode(){return this.value}}class fn{constructor(){}static getRSSvalue(a,s,l){let f=0;for(let S of a)f+=S;let h=0,m=0,y=a.length;for(let S=0;S<y-1;S++){let T;for(T=1,m|=1<<S;T<a[S];T++,m&=~(1<<S)){let R=fn.combins(f-T-1,y-S-2);if(l&&m===0&&f-T-(y-S-1)>=y-S-1&&(R-=fn.combins(f-T-(y-S),y-S-2)),y-S-1>1){let L=0;for(let U=f-T-(y-S-2);U>s;U--)L+=fn.combins(f-T-U-1,y-S-3);R-=L*(y-1-S)}else f-T>s&&R--;h+=R}f-=T}return h}static combins(a,s){let l,f;a-s>s?(f=s,l=a-s):(f=a-s,l=s);let h=1,m=1;for(let y=a;y>l;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class si{static buildBitArray(a){let s=a.length*2-1;a[a.length-1].getRightChar()==null&&(s-=1);let l=12*s,f=new Q(l),h=0,y=a[0].getRightChar().getValue();for(let S=11;S>=0;--S)(y&1<<S)!=0&&f.set(h),h++;for(let S=1;S<a.length;++S){let T=a[S],R=T.getLeftChar().getValue();for(let L=11;L>=0;--L)(R&1<<L)!=0&&f.set(h),h++;if(T.getRightChar()!=null){let L=T.getRightChar().getValue();for(let U=11;U>=0;--U)(L&1<<U)!=0&&f.set(h),h++}}return f}}class _n{constructor(a,s){s?this.decodedInformation=null:(this.finished=a,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class sr{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class Ln extends sr{constructor(a,s){super(a),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Ln.FNC1}}Ln.FNC1="$";class $n extends sr{constructor(a,s,l){super(a),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class pr extends sr{constructor(a,s,l){if(super(a),s<0||s>10||l<0||l>10)throw new Y;this.firstDigit=s,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===pr.FNC1}isSecondDigitFNC1(){return this.secondDigit===pr.FNC1}isAnyFNC1(){return this.firstDigit===pr.FNC1||this.secondDigit===pr.FNC1}}pr.FNC1=10;class Pe{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new re;let s=a.substring(0,2);for(let h of Pe.TWO_DIGIT_DATA_LENGTH)if(h[0]===s)return h[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(2,h[2],a):Pe.processFixedAI(2,h[1],a);if(a.length<3)throw new re;let l=a.substring(0,3);for(let h of Pe.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(3,h[2],a):Pe.processFixedAI(3,h[1],a);for(let h of Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,h[2],a):Pe.processFixedAI(4,h[1],a);if(a.length<4)throw new re;let f=a.substring(0,4);for(let h of Pe.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,h[2],a):Pe.processFixedAI(4,h[1],a);throw new re}static processFixedAI(a,s,l){if(l.length<a)throw new re;let f=l.substring(0,a);if(l.length<a+s)throw new re;let h=l.substring(a,a+s),m=l.substring(a+s),y="("+f+")"+h,S=Pe.parseFieldsInGeneralPurpose(m);return S==null?y:y+S}static processVariableAI(a,s,l){let f=l.substring(0,a),h;l.length<a+s?h=l.length:h=a+s;let m=l.substring(a,h),y=l.substring(h),S="("+f+")"+m,T=Pe.parseFieldsInGeneralPurpose(y);return T==null?S:S+T}}Pe.VARIABLE_LENGTH=[],Pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Pe.VARIABLE_LENGTH,20],["22",Pe.VARIABLE_LENGTH,29],["30",Pe.VARIABLE_LENGTH,8],["37",Pe.VARIABLE_LENGTH,8],["90",Pe.VARIABLE_LENGTH,30],["91",Pe.VARIABLE_LENGTH,30],["92",Pe.VARIABLE_LENGTH,30],["93",Pe.VARIABLE_LENGTH,30],["94",Pe.VARIABLE_LENGTH,30],["95",Pe.VARIABLE_LENGTH,30],["96",Pe.VARIABLE_LENGTH,30],["97",Pe.VARIABLE_LENGTH,3],["98",Pe.VARIABLE_LENGTH,30],["99",Pe.VARIABLE_LENGTH,30]],Pe.THREE_DIGIT_DATA_LENGTH=[["240",Pe.VARIABLE_LENGTH,30],["241",Pe.VARIABLE_LENGTH,30],["242",Pe.VARIABLE_LENGTH,6],["250",Pe.VARIABLE_LENGTH,30],["251",Pe.VARIABLE_LENGTH,30],["253",Pe.VARIABLE_LENGTH,17],["254",Pe.VARIABLE_LENGTH,20],["400",Pe.VARIABLE_LENGTH,30],["401",Pe.VARIABLE_LENGTH,30],["402",17],["403",Pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Pe.VARIABLE_LENGTH,20],["421",Pe.VARIABLE_LENGTH,15],["422",3],["423",Pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Pe.VARIABLE_LENGTH,15],["391",Pe.VARIABLE_LENGTH,18],["392",Pe.VARIABLE_LENGTH,15],["393",Pe.VARIABLE_LENGTH,18],["703",Pe.VARIABLE_LENGTH,30]],Pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Pe.VARIABLE_LENGTH,20],["8003",Pe.VARIABLE_LENGTH,30],["8004",Pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Pe.VARIABLE_LENGTH,30],["8008",Pe.VARIABLE_LENGTH,12],["8018",18],["8020",Pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Pe.VARIABLE_LENGTH,70],["8200",Pe.VARIABLE_LENGTH,70]];class vr{constructor(a){this.buffer=new Me,this.information=a}decodeAllCodes(a,s){let l=s,f=null;do{let h=this.decodeGeneralPurposeField(l,f),m=Pe.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&a.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let s=a;s<a+3;++s)if(this.information.get(s))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(a,4);return h===0?new pr(this.information.getSize(),pr.FNC1,pr.FNC1):new pr(this.information.getSize(),h-1,pr.FNC1)}let s=this.extractNumericValueFromBitArray(a,7),l=(s-8)/11,f=(s-8)%11;return new pr(a+7,l,f)}extractNumericValueFromBitArray(a,s){return vr.extractNumericValueFromBitArray(this.information,a,s)}static extractNumericValueFromBitArray(a,s,l){let f=0;for(let h=0;h<l;++h)a.get(s+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(a,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(a);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new $n(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new $n(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,s;do{let l=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),a=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),a=s.isFinished()):(s=this.parseNumericBlock(),a=s.isFinished()),!(l!==this.current.getPosition())&&!a)break}while(!a);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let s;return a.isSecondDigitFNC1()?s=new $n(this.current.getPosition(),this.buffer.toString()):s=new $n(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new _n(!0,s)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let s=new $n(this.current.getPosition(),this.buffer.toString());return new _n(!0,s)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new _n(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let s=new $n(this.current.getPosition(),this.buffer.toString());return new _n(!0,s)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new _n(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let s=new $n(this.current.getPosition(),this.buffer.toString());return new _n(!0,s)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new _n(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(a,5);if(s>=5&&s<16)return!0;if(a+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,7);if(l>=64&&l<116)return!0;if(a+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(a,8);return f>=232&&f<253}decodeIsoIec646(a){let s=this.extractNumericValueFromBitArray(a,5);if(s===15)return new Ln(a+5,Ln.FNC1);if(s>=5&&s<15)return new Ln(a+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(a,7);if(l>=64&&l<90)return new Ln(a+7,""+(l+1));if(l>=90&&l<116)return new Ln(a+7,""+(l+7));let f=this.extractNumericValueFromBitArray(a,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new Y}return new Ln(a+8,h)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(a,5);if(s>=5&&s<16)return!0;if(a+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,6);return l>=16&&l<63}decodeAlphanumeric(a){let s=this.extractNumericValueFromBitArray(a,5);if(s===15)return new Ln(a+5,Ln.FNC1);if(s>=5&&s<15)return new Ln(a+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(a,6);if(l>=32&&l<58)return new Ln(a+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new An("Decoding invalid alphanumeric value: "+l)}return new Ln(a+6,f)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let s=0;s<5&&s+a<this.information.getSize();++s)if(s===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+s))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let s=a;s<a+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let s=0;s<4&&s+a<this.information.getSize();++s)if(this.information.get(a+s))return!1;return!0}}class jn{constructor(a){this.information=a,this.generalDecoder=new vr(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends jn{constructor(a){super(a)}encodeCompressedGtin(a,s){a.append("(01)");let l=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,s,l)}encodeCompressedGtinWithoutAI(a,s,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*f,10);h/100===0&&a.append("0"),h/10===0&&a.append("0"),a.append(h)}Wt.appendCheckDigit(a,l)}static appendCheckDigit(a,s){let l=0;for(let f=0;f<13;f++){let h=a.charAt(f+s).charCodeAt(0)-48;l+=(f&1)===0?3*h:h}l=10-l%10,l===10&&(l=0),a.append(l)}}Wt.GTIN_SIZE=40;class Fr extends Wt{constructor(a){super(a)}parseInformation(){let a=new Me;a.append("(01)");let s=a.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Fr.HEADER_SIZE,4);return a.append(l),this.encodeCompressedGtinWithoutAI(a,Fr.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(a,Fr.HEADER_SIZE+44)}}Fr.HEADER_SIZE=4;class Pi extends jn{constructor(a){super(a)}parseInformation(){let a=new Me;return this.getGeneralDecoder().decodeAllCodes(a,Pi.HEADER_SIZE)}}Pi.HEADER_SIZE=5;class yo extends Wt{constructor(a){super(a)}encodeCompressedWeight(a,s,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(a,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&a.append("0"),m/=10;a.append(h)}}class la extends yo{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=la.HEADER_SIZE+yo.GTIN_SIZE+la.WEIGHT_SIZE)throw new re;let a=new Me;return this.encodeCompressedGtin(a,la.HEADER_SIZE),this.encodeCompressedWeight(a,la.HEADER_SIZE+yo.GTIN_SIZE,la.WEIGHT_SIZE),a.toString()}}la.HEADER_SIZE=5,la.WEIGHT_SIZE=15;class Qc extends la{constructor(a){super(a)}addWeightCode(a,s){a.append("(3103)")}checkWeight(a){return a}}class js extends la{constructor(a){super(a)}addWeightCode(a,s){s<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class Nr extends Wt{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Nr.HEADER_SIZE+Wt.GTIN_SIZE)throw new re;let a=new Me;this.encodeCompressedGtin(a,Nr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Nr.HEADER_SIZE+Wt.GTIN_SIZE,Nr.LAST_DIGIT_SIZE);a.append("(392"),a.append(s),a.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Nr.HEADER_SIZE+Wt.GTIN_SIZE+Nr.LAST_DIGIT_SIZE,null);return a.append(l.getNewString()),a.toString()}}Nr.HEADER_SIZE=8,Nr.LAST_DIGIT_SIZE=2;class Tn extends Wt{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Tn.HEADER_SIZE+Wt.GTIN_SIZE)throw new re;let a=new Me;this.encodeCompressedGtin(a,Tn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Tn.HEADER_SIZE+Wt.GTIN_SIZE,Tn.LAST_DIGIT_SIZE);a.append("(393"),a.append(s),a.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Tn.HEADER_SIZE+Wt.GTIN_SIZE+Tn.LAST_DIGIT_SIZE,Tn.FIRST_THREE_DIGITS_SIZE);l/100==0&&a.append("0"),l/10==0&&a.append("0"),a.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Tn.HEADER_SIZE+Wt.GTIN_SIZE+Tn.LAST_DIGIT_SIZE+Tn.FIRST_THREE_DIGITS_SIZE,null);return a.append(f.getNewString()),a.toString()}}Tn.HEADER_SIZE=8,Tn.LAST_DIGIT_SIZE=2,Tn.FIRST_THREE_DIGITS_SIZE=10;class zt extends yo{constructor(a,s,l){super(a),this.dateCode=l,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new re;let a=new Me;return this.encodeCompressedGtin(a,zt.HEADER_SIZE),this.encodeCompressedWeight(a,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(a,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,zt.DATE_SIZE);if(l==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let m=l;m/10==0&&a.append("0"),a.append(m),h/10==0&&a.append("0"),a.append(h),f/10==0&&a.append("0"),a.append(f)}addWeightCode(a,s){a.append("("),a.append(this.firstAIdigits),a.append(s/1e5),a.append(")")}checkWeight(a){return a%1e5}}zt.HEADER_SIZE=8,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function Ui(k){try{if(k.get(1))return new Fr(k);if(!k.get(2))return new Pi(k);switch(vr.extractNumericValueFromBitArray(k,1,4)){case 4:return new Qc(k);case 5:return new js(k)}switch(vr.extractNumericValueFromBitArray(k,1,5)){case 12:return new Nr(k);case 13:return new Tn(k)}switch(vr.extractNumericValueFromBitArray(k,1,7)){case 56:return new zt(k,"310","11");case 57:return new zt(k,"320","11");case 58:return new zt(k,"310","13");case 59:return new zt(k,"320","13");case 60:return new zt(k,"310","15");case 61:return new zt(k,"320","15");case 62:return new zt(k,"310","17");case 63:return new zt(k,"320","17")}}catch(a){throw console.log(a),new An("unknown decoder: "+k)}}class Er{constructor(a,s,l,f){this.leftchar=a,this.rightchar=s,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,s){return a instanceof Er?Er.equalsOrNull(a.leftchar,s.leftchar)&&Er.equalsOrNull(a.rightchar,s.rightchar)&&Er.equalsOrNull(a.finderpattern,s.finderpattern):!1}static equalsOrNull(a,s){return a===null?s===null:Er.equals(a,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nn{constructor(a,s,l){this.pairs=a,this.rowNumber=s,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,s){return a instanceof Nn?this.checkEqualitity(a,s)&&a.wasReversed===s.wasReversed:!1}checkEqualitity(a,s){if(!a||!s)return;let l;return a.forEach((f,h)=>{s.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class Se extends Mt{constructor(a){super(...arguments),this.pairs=new Array(Se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,s,l){this.pairs.length=0,this.startFromEven=!1;try{return Se.constructResult(this.decodeRow2pairs(a,s))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Se.constructResult(this.decodeRow2pairs(a,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,s){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,a))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(a,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return a&&(this.rows=this.rows.reverse()),s}checkRows(a,s){for(let l=s;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of a)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(a);h.push(f);try{return this.checkRows(h,l+1)}catch(m){this.verbose&&console.log(m)}}throw new re}static isValidSequence(a){for(let s of Se.FINDER_PATTERN_SEQUENCES){if(a.length>s.length)continue;let l=!0;for(let f=0;f<a.length;f++)if(a[f].getFinderPattern().getValue()!=s[f]){l=!1;break}if(l)return!0}return!1}storeRow(a,s){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>a){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}h||f||Se.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Nn(this.pairs,a,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,s){for(let l of s)if(l.getPairs().length!==a.length){for(let f of l.getPairs())for(let h of a)if(Er.equals(f,h))break}}static isPartialRow(a,s){for(let l of s){let f=!0;for(let h of a){let m=!1;for(let y of l.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(a){let s=si.buildBitArray(a),f=Ui(s).parseInformation(),h=a[0].getFinderPattern().getResultPoints(),m=a[a.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new xe(f,null,null,y,ve.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),s=a.getLeftChar(),l=a.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let S=this.pairs.get(y);f+=S.getLeftChar().getChecksumPortion(),h++;let T=S.getRightChar();T!=null&&(f+=T.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==s.getValue()}static getNextSecondBar(a,s){let l;return a.get(s)?(l=a.getNextUnset(s),l=a.getNextSet(l)):(l=a.getNextSet(s),l=a.getNextUnset(l)),l}retrieveNextPair(a,s,l){let f=s.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(a,s,y),h=this.parseFoundFinderPattern(a,l,f),h==null?y=Se.getNextSecondBar(a,this.startEnd[0]):m=!1;while(m);let S=this.decodeDataCharacter(a,h,f,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new re;let T;try{T=this.decodeDataCharacter(a,h,f,!1)}catch(R){T=null,this.verbose&&console.log(R)}return new Er(S,T,h,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,s,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=a.getSize(),m;l>=0?m=l:this.isEmptyPair(s)?m=0:m=s[s.length-1].getFinderPattern().getStartEnd()[1];let y=s.length%2!=0;this.startFromEven&&(y=!y);let S=!1;for(;m<h&&(S=!a.get(m),!!S);)m++;let T=0,R=m;for(let L=m;L<h;L++)if(a.get(L)!=S)f[T]++;else{if(T==3){if(y&&Se.reverseCounters(f),Se.isFinderPattern(f)){this.startEnd[0]=R,this.startEnd[1]=L;return}y&&Se.reverseCounters(f),R+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,T--}else T++;f[T]=1,S=!S}throw new re}static reverseCounters(a){let s=a.length;for(let l=0;l<s/2;++l){let f=a[l];a[l]=a[s-l-1],a[s-l-1]=f}}parseFoundFinderPattern(a,s,l){let f,h,m;if(l){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,f=this.startEnd[0]-T,h=T,m=this.startEnd[1]}else h=this.startEnd[0],m=a.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();I.arraycopy(y,0,y,1,y.length-1),y[0]=f;let S;try{S=this.parseFinderValue(y,Se.FINDER_PATTERNS)}catch{return null}return new Jt(S,[h,m],h,m,s)}decodeDataCharacter(a,s,l,f){let h=this.getDataCharacterCounters();for(let qt=0;qt<h.length;qt++)h[qt]=0;if(f)Se.recordPatternInReverse(a,s.getStartEnd()[0],h);else{Se.recordPattern(a,s.getStartEnd()[1],h);for(let qt=0,er=h.length-1;qt<er;qt++,er--){let Cr=h[qt];h[qt]=h[er],h[er]=Cr}}let m=17,y=et.sum(new Int32Array(h))/m,S=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(y-S)/S>.3)throw new re;let T=this.getOddCounts(),R=this.getEvenCounts(),L=this.getOddRoundingErrors(),U=this.getEvenRoundingErrors();for(let qt=0;qt<h.length;qt++){let er=1*h[qt]/y,Cr=er+.5;if(Cr<1){if(er<.3)throw new re;Cr=1}else if(Cr>8){if(er>8.7)throw new re;Cr=8}let $i=qt/2;(qt&1)==0?(T[$i]=Cr,L[$i]=er-Cr):(R[$i]=Cr,U[$i]=er-Cr)}this.adjustOddEvenCounts(m);let G=4*s.getValue()+(l?0:2)+(f?0:1)-1,Z=0,J=0;for(let qt=T.length-1;qt>=0;qt--){if(Se.isNotA1left(s,l,f)){let er=Se.WEIGHTS[G][2*qt];J+=T[qt]*er}Z+=T[qt]}let ie=0;for(let qt=R.length-1;qt>=0;qt--)if(Se.isNotA1left(s,l,f)){let er=Se.WEIGHTS[G][2*qt+1];ie+=R[qt]*er}let fe=J+ie;if((Z&1)!=0||Z>13||Z<4)throw new re;let Re=(13-Z)/2,_e=Se.SYMBOL_WIDEST[Re],Ce=9-_e,pt=fn.getRSSvalue(T,_e,!0),ut=fn.getRSSvalue(R,Ce,!1),Rn=Se.EVEN_TOTAL_SUBSET[Re],Ir=Se.GSUM[Re],lr=pt*Rn+ut+Ir;return new wr(lr,fe)}static isNotA1left(a,s,l){return!(a.getValue()==0&&s&&l)}adjustOddEvenCounts(a){let s=et.sum(new Int32Array(this.getOddCounts())),l=et.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;s>13?h=!0:s<4&&(f=!0);let m=!1,y=!1;l>13?y=!0:l<4&&(m=!0);let S=s+l-a,T=(s&1)==1,R=(l&1)==0;if(S==1)if(T){if(R)throw new re;h=!0}else{if(!R)throw new re;y=!0}else if(S==-1)if(T){if(R)throw new re;f=!0}else{if(!R)throw new re;m=!0}else if(S==0){if(T){if(!R)throw new re;s<l?(f=!0,y=!0):(h=!0,m=!0)}else if(R)throw new re}else throw new re;if(f){if(h)throw new re;Se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new re;Se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Se.SYMBOL_WIDEST=[7,5,4,3,1],Se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Se.GSUM=[0,348,1388,2948,3988],Se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Se.FINDER_PAT_A=0,Se.FINDER_PAT_B=1,Se.FINDER_PAT_C=2,Se.FINDER_PAT_D=3,Se.FINDER_PAT_E=4,Se.FINDER_PAT_F=5,Se.FINDER_PATTERN_SEQUENCES=[[Se.FINDER_PAT_A,Se.FINDER_PAT_A],[Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B],[Se.FINDER_PAT_A,Se.FINDER_PAT_C,Se.FINDER_PAT_B,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_C],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F]],Se.MAX_PAIRS=11;class Jc extends wr{constructor(a,s,l){super(a,s),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends Mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,s,l){const f=this.decodePair(s,!1,a,l);Gt.addOrTally(this.possibleLeftPairs,f),s.reverse();let h=this.decodePair(s,!0,a,l);Gt.addOrTally(this.possibleRightPairs,h),s.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&Gt.checkChecksum(m,y))return Gt.constructResult(m,y)}throw new re}static addOrTally(a,s){if(s==null)return;let l=!1;for(let f of a)if(f.getValue()===s.getValue()){f.incrementCount(),l=!0;break}l||a.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,s){let l=4537077*a.getValue()+s.getValue(),f=new String(l).toString(),h=new Me;for(let T=13-f.length;T>0;T--)h.append("0");h.append(f);let m=0;for(let T=0;T<13;T++){let R=h.charAt(T).charCodeAt(0)-48;m+=(T&1)===0?3*R:R}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=a.getFinderPattern().getResultPoints(),S=s.getFinderPattern().getResultPoints();return new xe(h.toString(),null,0,[y[0],y[1],S[0],S[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(a,s){let l=(a.getChecksumPortion()+16*s.getChecksumPortion())%79,f=9*a.getFinderPattern().getValue()+s.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(a,s,l,f){try{let h=this.findFinderPattern(a,s),m=this.parseFoundFinderPattern(a,l,s,h),y=f==null?null:f.get(se.NEED_RESULT_POINT_CALLBACK);if(y!=null){let R=(h[0]+h[1])/2;s&&(R=a.getSize()-1-R),y.foundPossibleResultPoint(new Ue(R,l))}let S=this.decodeDataCharacter(a,m,!0),T=this.decodeDataCharacter(a,m,!1);return new Jc(1597*S.getValue()+T.getValue(),S.getChecksumPortion()+4*T.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(a,s,l){let f=this.getDataCharacterCounters();for(let ie=0;ie<f.length;ie++)f[ie]=0;if(l)Qt.recordPatternInReverse(a,s.getStartEnd()[0],f);else{Qt.recordPattern(a,s.getStartEnd()[1]+1,f);for(let ie=0,fe=f.length-1;ie<fe;ie++,fe--){let Re=f[ie];f[ie]=f[fe],f[fe]=Re}}let h=l?16:15,m=et.sum(new Int32Array(f))/h,y=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ie=0;ie<f.length;ie++){let fe=f[ie]/m,Re=Math.floor(fe+.5);Re<1?Re=1:Re>8&&(Re=8);let _e=Math.floor(ie/2);(ie&1)===0?(y[_e]=Re,T[_e]=fe-Re):(S[_e]=Re,R[_e]=fe-Re)}this.adjustOddEvenCounts(l,h);let L=0,U=0;for(let ie=y.length-1;ie>=0;ie--)U*=9,U+=y[ie],L+=y[ie];let G=0,Z=0;for(let ie=S.length-1;ie>=0;ie--)G*=9,G+=S[ie],Z+=S[ie];let J=U+3*G;if(l){if((L&1)!==0||L>12||L<4)throw new re;let ie=(12-L)/2,fe=Gt.OUTSIDE_ODD_WIDEST[ie],Re=9-fe,_e=fn.getRSSvalue(y,fe,!1),Ce=fn.getRSSvalue(S,Re,!0),pt=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[ie],ut=Gt.OUTSIDE_GSUM[ie];return new wr(_e*pt+Ce+ut,J)}else{if((Z&1)!==0||Z>10||Z<4)throw new re;let ie=(10-Z)/2,fe=Gt.INSIDE_ODD_WIDEST[ie],Re=9-fe,_e=fn.getRSSvalue(y,fe,!0),Ce=fn.getRSSvalue(S,Re,!1),pt=Gt.INSIDE_ODD_TOTAL_SUBSET[ie],ut=Gt.INSIDE_GSUM[ie];return new wr(Ce*pt+_e+ut,J)}}findFinderPattern(a,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=a.getSize(),h=!1,m=0;for(;m<f&&(h=!a.get(m),s!==h);)m++;let y=0,S=m;for(let T=m;T<f;T++)if(a.get(T)!==h)l[y]++;else{if(y===3){if(Mt.isFinderPattern(l))return[S,T];S+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,h=!h}throw new re}parseFoundFinderPattern(a,s,l,f){let h=a.get(f[0]),m=f[0]-1;for(;m>=0&&h!==a.get(m);)m--;m++;const y=f[0]-m,S=this.getDecodeFinderCounters(),T=new Int32Array(S.length);I.arraycopy(S,0,T,1,S.length-1),T[0]=y;const R=this.parseFinderValue(T,Gt.FINDER_PATTERNS);let L=m,U=f[1];return l&&(L=a.getSize()-1-L,U=a.getSize()-1-U),new Jt(R,[m,f[1]],L,U,s)}adjustOddEvenCounts(a,s){let l=et.sum(new Int32Array(this.getOddCounts())),f=et.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,S=!1;a?(l>12?m=!0:l<4&&(h=!0),f>12?S=!0:f<4&&(y=!0)):(l>11?m=!0:l<5&&(h=!0),f>10?S=!0:f<4&&(y=!0));let T=l+f-s,R=(l&1)===(a?1:0),L=(f&1)===1;if(T===1)if(R){if(L)throw new re;m=!0}else{if(!L)throw new re;S=!0}else if(T===-1)if(R){if(L)throw new re;h=!0}else{if(!L)throw new re;y=!0}else if(T===0){if(R){if(!L)throw new re;l<f?(h=!0,S=!0):(m=!0,y=!0)}else if(L)throw new re}else throw new re;if(h){if(m)throw new re;Mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(S)throw new re;Mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zr extends Qt{constructor(a,s){super(),this.readers=[],this.verbose=s===!0;const l=a?a.get(se.POSSIBLE_FORMATS):null,f=a&&a.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ve.EAN_13)||l.includes(ve.UPC_A)||l.includes(ve.EAN_8)||l.includes(ve.UPC_E))&&this.readers.push(new Cn(a)),l.includes(ve.CODE_39)&&this.readers.push(new Ft(f)),l.includes(ve.CODE_128)&&this.readers.push(new Ne),l.includes(ve.ITF)&&this.readers.push(new dt),l.includes(ve.RSS_14)&&this.readers.push(new Gt),l.includes(ve.RSS_EXPANDED)&&this.readers.push(new Se(this.verbose))):(this.readers.push(new Cn(a)),this.readers.push(new Ft),this.readers.push(new Cn(a)),this.readers.push(new Ne),this.readers.push(new dt),this.readers.push(new Gt),this.readers.push(new Se(this.verbose)))}decodeRow(a,s,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(a,s,l)}catch{}throw new re}reset(){this.readers.forEach(a=>a.reset())}}class wf extends pe{constructor(a=500,s){super(new zr(s),a,s)}}class kt{constructor(a,s,l){this.ecCodewords=a,this.ecBlocks=[s],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ot{constructor(a,s){this.count=a,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(a,s,l,f,h,m){this.versionNumber=a,this.symbolSizeRows=s,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const S=m.getECCodewords(),T=m.getECBlocks();for(let R of T)y+=R.getCount()*(R.getDataCodewords()+S);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,s){if((a&1)!==0||(s&1)!==0)throw new Y;for(let l of wt.VERSIONS)if(l.symbolSizeRows===a&&l.symbolSizeColumns===s)return l;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new wt(1,10,10,8,8,new kt(5,new Ot(1,3))),new wt(2,12,12,10,10,new kt(7,new Ot(1,5))),new wt(3,14,14,12,12,new kt(10,new Ot(1,8))),new wt(4,16,16,14,14,new kt(12,new Ot(1,12))),new wt(5,18,18,16,16,new kt(14,new Ot(1,18))),new wt(6,20,20,18,18,new kt(18,new Ot(1,22))),new wt(7,22,22,20,20,new kt(20,new Ot(1,30))),new wt(8,24,24,22,22,new kt(24,new Ot(1,36))),new wt(9,26,26,24,24,new kt(28,new Ot(1,44))),new wt(10,32,32,14,14,new kt(36,new Ot(1,62))),new wt(11,36,36,16,16,new kt(42,new Ot(1,86))),new wt(12,40,40,18,18,new kt(48,new Ot(1,114))),new wt(13,44,44,20,20,new kt(56,new Ot(1,144))),new wt(14,48,48,22,22,new kt(68,new Ot(1,174))),new wt(15,52,52,24,24,new kt(42,new Ot(2,102))),new wt(16,64,64,14,14,new kt(56,new Ot(2,140))),new wt(17,72,72,16,16,new kt(36,new Ot(4,92))),new wt(18,80,80,18,18,new kt(48,new Ot(4,114))),new wt(19,88,88,20,20,new kt(56,new Ot(4,144))),new wt(20,96,96,22,22,new kt(68,new Ot(4,174))),new wt(21,104,104,24,24,new kt(56,new Ot(6,136))),new wt(22,120,120,18,18,new kt(68,new Ot(6,175))),new wt(23,132,132,20,20,new kt(62,new Ot(8,163))),new wt(24,144,144,22,22,new kt(62,new Ot(8,156),new Ot(2,155))),new wt(25,8,18,6,16,new kt(7,new Ot(1,5))),new wt(26,8,32,6,14,new kt(11,new Ot(1,10))),new wt(27,12,26,10,24,new kt(14,new Ot(1,16))),new wt(28,12,36,10,16,new kt(18,new Ot(1,22))),new wt(29,16,36,14,16,new kt(24,new Ot(1,32))),new wt(30,16,48,14,22,new kt(28,new Ot(1,49)))]}}wt.VERSIONS=wt.buildVersions();class Fi{constructor(a){const s=a.getHeight();if(s<8||s>144||(s&1)!==0)throw new Y;this.version=Fi.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const s=a.getHeight(),l=a.getWidth();return wt.getVersionForDimensions(s,l)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let s=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,S=!1,T=!1,R=!1;do if(l===h&&f===0&&!y)a[s++]=this.readCorner1(h,m)&255,l-=2,f+=2,y=!0;else if(l===h-2&&f===0&&(m&3)!==0&&!S)a[s++]=this.readCorner2(h,m)&255,l-=2,f+=2,S=!0;else if(l===h+4&&f===2&&(m&7)===0&&!T)a[s++]=this.readCorner3(h,m)&255,l-=2,f+=2,T=!0;else if(l===h-2&&f===0&&(m&7)===4&&!R)a[s++]=this.readCorner4(h,m)&255,l-=2,f+=2,R=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(a[s++]=this.readUtah(l,f,h,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(a[s++]=this.readUtah(l,f,h,m)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<m);if(s!==this.version.getTotalCodewords())throw new Y;return a}readModule(a,s,l,f){return a<0&&(a+=l,s+=4-(l+4&7)),s<0&&(s+=f,a+=4-(f+4&7)),this.readMappingMatrix.set(s,a),this.mappingBitMatrix.get(s,a)}readUtah(a,s,l,f){let h=0;return this.readModule(a-2,s-2,l,f)&&(h|=1),h<<=1,this.readModule(a-2,s-1,l,f)&&(h|=1),h<<=1,this.readModule(a-1,s-2,l,f)&&(h|=1),h<<=1,this.readModule(a-1,s-1,l,f)&&(h|=1),h<<=1,this.readModule(a-1,s,l,f)&&(h|=1),h<<=1,this.readModule(a,s-2,l,f)&&(h|=1),h<<=1,this.readModule(a,s-1,l,f)&&(h|=1),h<<=1,this.readModule(a,s,l,f)&&(h|=1),h}readCorner1(a,s){let l=0;return this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,1,a,s)&&(l|=1),l<<=1,this.readModule(a-1,2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(2,s-1,a,s)&&(l|=1),l<<=1,this.readModule(3,s-1,a,s)&&(l|=1),l}readCorner2(a,s){let l=0;return this.readModule(a-3,0,a,s)&&(l|=1),l<<=1,this.readModule(a-2,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(0,s-4,a,s)&&(l|=1),l<<=1,this.readModule(0,s-3,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l}readCorner3(a,s){let l=0;return this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(0,s-3,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-3,a,s)&&(l|=1),l<<=1,this.readModule(1,s-2,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l}readCorner4(a,s){let l=0;return this.readModule(a-3,0,a,s)&&(l|=1),l<<=1,this.readModule(a-2,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(2,s-1,a,s)&&(l|=1),l<<=1,this.readModule(3,s-1,a,s)&&(l|=1),l}extractDataRegion(a){const s=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(a.getHeight()!==s)throw new C("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=s/f|0,y=l/h|0,S=m*f,T=y*h,R=new je(T,S);for(let L=0;L<m;++L){const U=L*f;for(let G=0;G<y;++G){const Z=G*h;for(let J=0;J<f;++J){const ie=L*(f+2)+1+J,fe=U+J;for(let Re=0;Re<h;++Re){const _e=G*(h+2)+1+Re;if(a.get(_e,ie)){const Ce=Z+Re;R.set(Ce,fe)}}}}}return R}}class zi{constructor(a,s){this.numDataCodewords=a,this.codewords=s}static getDataBlocks(a,s){const l=s.getECBlocks();let f=0;const h=l.getECBlocks();for(let J of h)f+=J.getCount();const m=new Array(f);let y=0;for(let J of h)for(let ie=0;ie<J.getCount();ie++){const fe=J.getDataCodewords(),Re=l.getECCodewords()+fe;m[y++]=new zi(fe,new Uint8Array(Re))}const T=m[0].codewords.length-l.getECCodewords(),R=T-1;let L=0;for(let J=0;J<R;J++)for(let ie=0;ie<y;ie++)m[ie].codewords[J]=a[L++];const U=s.getVersionNumber()===24,G=U?8:y;for(let J=0;J<G;J++)m[J].codewords[T-1]=a[L++];const Z=m[0].codewords.length;for(let J=T;J<Z;J++)for(let ie=0;ie<y;ie++){const fe=U?(ie+8)%y:ie,Re=U&&fe>7?J-1:J;m[fe].codewords[Re]=a[L++]}if(L!==a.length)throw new C;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hr{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new C(""+a);let s=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const m=8-l,y=a<m?a:m,S=m-y,T=255>>8-y<<S;s=(h[f]&T)>>S,a-=y,l+=y,l===8&&(l=0,f++)}if(a>0){for(;a>=8;)s=s<<8|h[f]&255,f++,a-=8;if(a>0){const m=8-a,y=255>>m<<m;s=s<<a|(h[f]&y)>>m,l+=a}}return this.bitOffset=l,this.byteOffset=f,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class Ea{static decode(a){const s=new Hr(a),l=new Me,f=new Me,h=new Array;let m=Lt.ASCII_ENCODE;do if(m===Lt.ASCII_ENCODE)m=this.decodeAsciiSegment(s,l,f);else{switch(m){case Lt.C40_ENCODE:this.decodeC40Segment(s,l);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(s,l);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,l);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,l);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(s,l,h);break;default:throw new Y}m=Lt.ASCII_ENCODE}while(m!==Lt.PAD_ENCODE&&s.available()>0);return f.length()>0&&l.append(f.toString()),new qe(a,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(a,s,l){let f=!1;do{let h=a.readBits(8);if(h===0)throw new Y;if(h<=128)return f&&(h+=128),s.append(String.fromCharCode(h-1)),Lt.ASCII_ENCODE;if(h===129)return Lt.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&s.append("0"),s.append(""+m)}else switch(h){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:s.append("[)>05"),l.insert(0,"");break;case 237:s.append("[)>06"),l.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||a.available()!==0)throw new Y;break}}while(a.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(a,s){let l=!1;const f=[];let h=0;do{if(a.available()===8)return;const m=a.readBits(8);if(m===254)return;this.parseTwoBytes(m,a.readBits(8),f);for(let y=0;y<3;y++){const S=f[y];switch(h){case 0:if(S<3)h=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[S];l?(s.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):s.append(T)}else throw new Y;break;case 1:l?(s.append(String.fromCharCode(S+128)),l=!1):s.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[S];l?(s.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):s.append(T)}else switch(S){case 27:s.append("");break;case 30:l=!0;break;default:throw new Y}h=0;break;case 3:l?(s.append(String.fromCharCode(S+224)),l=!1):s.append(String.fromCharCode(S+96)),h=0;break;default:throw new Y}}}while(a.available()>0)}static decodeTextSegment(a,s){let l=!1,f=[],h=0;do{if(a.available()===8)return;const m=a.readBits(8);if(m===254)return;this.parseTwoBytes(m,a.readBits(8),f);for(let y=0;y<3;y++){const S=f[y];switch(h){case 0:if(S<3)h=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[S];l?(s.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):s.append(T)}else throw new Y;break;case 1:l?(s.append(String.fromCharCode(S+128)),l=!1):s.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[S];l?(s.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):s.append(T)}else switch(S){case 27:s.append("");break;case 30:l=!0;break;default:throw new Y}h=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[S];l?(s.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):s.append(T),h=0}else throw new Y;break;default:throw new Y}}}while(a.available()>0)}static decodeAnsiX12Segment(a,s){const l=[];do{if(a.available()===8)return;const f=a.readBits(8);if(f===254)return;this.parseTwoBytes(f,a.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(m){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(m<14)s.append(String.fromCharCode(m+44));else if(m<40)s.append(String.fromCharCode(m+51));else throw new Y;break}}}while(a.available()>0)}static parseTwoBytes(a,s,l){let f=(a<<8)+s-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(a,s){do{if(a.available()<=16)return;for(let l=0;l<4;l++){let f=a.readBits(6);if(f===31){const h=8-a.getBitOffset();h!==8&&a.readBits(h);return}(f&32)===0&&(f|=64),s.append(String.fromCharCode(f))}}while(a.available()>0)}static decodeBase256Segment(a,s,l){let f=1+a.getByteOffset();const h=this.unrandomize255State(a.readBits(8),f++);let m;if(h===0?m=a.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(a.readBits(8),f++),m<0)throw new Y;const y=new Uint8Array(m);for(let S=0;S<m;S++){if(a.available()<8)throw new Y;y[S]=this.unrandomize255State(a.readBits(8),f++)}l.push(y);try{s.append(Le.decode(y,Ae.ISO88591))}catch(S){throw new An("Platform does not support required encoding: "+S.message)}}static unrandomize255State(a,s){const l=149*s%255+1,f=a-l;return f>=0?f:f+256}}Ea.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ea.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ea.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ea.TEXT_SHIFT2_SET_CHARS=Ea.C40_SHIFT2_SET_CHARS,Ea.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class vf{constructor(){this.rsDecoder=new ir(nt.DATA_MATRIX_FIELD_256)}decode(a){const s=new Fi(a),l=s.getVersion(),f=s.readCodewords(),h=zi.getDataBlocks(f,l);let m=0;for(let T of h)m+=T.getNumDataCodewords();const y=new Uint8Array(m),S=h.length;for(let T=0;T<S;T++){const R=h[T],L=R.getCodewords(),U=R.getNumDataCodewords();this.correctErrors(L,U);for(let G=0;G<U;G++)y[G*S+T]=L[G]}return Ea.decode(y)}correctErrors(a,s){const l=new Int32Array(a);try{this.rsDecoder.decode(l,a.length-s)}catch{throw new M}for(let f=0;f<s;f++)a[f]=l[f]}}class hn{constructor(a){this.image=a,this.rectangleDetector=new dn(this.image)}detect(){const a=this.rectangleDetector.detect();let s=this.detectSolid1(a);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new re;s=this.shiftToModuleCenter(s);const l=s[0],f=s[1],h=s[2],m=s[3];let y=this.transitionsBetween(l,m)+1,S=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(S&1)===1&&(S+=1),4*y<7*S&&4*S<7*y&&(y=S=Math.max(y,S));let T=hn.sampleGrid(this.image,l,f,h,m,y,S);return new zn(T,[l,f,h,m])}static shiftPoint(a,s,l){let f=(s.getX()-a.getX())/(l+1),h=(s.getY()-a.getY())/(l+1);return new Ue(a.getX()+f,a.getY()+h)}static moveAway(a,s,l){let f=a.getX(),h=a.getY();return f<s?f-=1:f+=1,h<l?h-=1:h+=1,new Ue(f,h)}detectSolid1(a){let s=a[0],l=a[1],f=a[3],h=a[2],m=this.transitionsBetween(s,l),y=this.transitionsBetween(l,f),S=this.transitionsBetween(f,h),T=this.transitionsBetween(h,s),R=m,L=[h,s,l,f];return R>y&&(R=y,L[0]=s,L[1]=l,L[2]=f,L[3]=h),R>S&&(R=S,L[0]=l,L[1]=f,L[2]=h,L[3]=s),R>T&&(L[0]=f,L[1]=h,L[2]=s,L[3]=l),L}detectSolid2(a){let s=a[0],l=a[1],f=a[2],h=a[3],m=this.transitionsBetween(s,h),y=hn.shiftPoint(l,f,(m+1)*4),S=hn.shiftPoint(f,l,(m+1)*4),T=this.transitionsBetween(y,s),R=this.transitionsBetween(S,h);return T<R?(a[0]=s,a[1]=l,a[2]=f,a[3]=h):(a[0]=l,a[1]=f,a[2]=h,a[3]=s),a}correctTopRight(a){let s=a[0],l=a[1],f=a[2],h=a[3],m=this.transitionsBetween(s,h),y=this.transitionsBetween(l,h),S=hn.shiftPoint(s,l,(y+1)*4),T=hn.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(S,h),y=this.transitionsBetween(T,h);let R=new Ue(h.getX()+(f.getX()-l.getX())/(m+1),h.getY()+(f.getY()-l.getY())/(m+1)),L=new Ue(h.getX()+(s.getX()-l.getX())/(y+1),h.getY()+(s.getY()-l.getY())/(y+1));if(!this.isValid(R))return this.isValid(L)?L:null;if(!this.isValid(L))return R;let U=this.transitionsBetween(S,R)+this.transitionsBetween(T,R),G=this.transitionsBetween(S,L)+this.transitionsBetween(T,L);return U>G?R:L}shiftToModuleCenter(a){let s=a[0],l=a[1],f=a[2],h=a[3],m=this.transitionsBetween(s,h)+1,y=this.transitionsBetween(f,h)+1,S=hn.shiftPoint(s,l,y*4),T=hn.shiftPoint(f,l,m*4);m=this.transitionsBetween(S,h)+1,y=this.transitionsBetween(T,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let R=(s.getX()+l.getX()+f.getX()+h.getX())/4,L=(s.getY()+l.getY()+f.getY()+h.getY())/4;s=hn.moveAway(s,R,L),l=hn.moveAway(l,R,L),f=hn.moveAway(f,R,L),h=hn.moveAway(h,R,L);let U,G;return S=hn.shiftPoint(s,l,y*4),S=hn.shiftPoint(S,h,m*4),U=hn.shiftPoint(l,s,y*4),U=hn.shiftPoint(U,f,m*4),T=hn.shiftPoint(f,h,y*4),T=hn.shiftPoint(T,l,m*4),G=hn.shiftPoint(h,f,y*4),G=hn.shiftPoint(G,s,m*4),[S,U,T,G]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,s,l,f,h,m,y){return mr.getInstance().sampleGrid(a,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,s.getX(),s.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(a,s){let l=Math.trunc(a.getX()),f=Math.trunc(a.getY()),h=Math.trunc(s.getX()),m=Math.trunc(s.getY()),y=Math.abs(m-f)>Math.abs(h-l);if(y){let J=l;l=f,f=J,J=h,h=m,m=J}let S=Math.abs(h-l),T=Math.abs(m-f),R=-S/2,L=f<m?1:-1,U=l<h?1:-1,G=0,Z=this.image.get(y?f:l,y?l:f);for(let J=l,ie=f;J!==h;J+=U){let fe=this.image.get(y?ie:J,y?J:ie);if(fe!==Z&&(G++,Z=fe),R+=T,R>0){if(ie===m)break;ie+=L,R-=S}}return G}}class Sa{constructor(){this.decoder=new vf}decode(a,s=null){let l,f;if(s!=null&&s.has(se.PURE_BARCODE)){const T=Sa.extractPureBits(a.getBlackMatrix());l=this.decoder.decode(T),f=Sa.NO_POINTS}else{const T=new hn(a.getBlackMatrix()).detect();l=this.decoder.decode(T.getBits()),f=T.getPoints()}const h=l.getRawBytes(),m=new xe(l.getText(),h,8*h.length,f,ve.DATA_MATRIX,I.currentTimeMillis()),y=l.getByteSegments();y!=null&&m.putMetadata(Te.BYTE_SEGMENTS,y);const S=l.getECLevel();return S!=null&&m.putMetadata(Te.ERROR_CORRECTION_LEVEL,S),m}reset(){}static extractPureBits(a){const s=a.getTopLeftOnBit(),l=a.getBottomRightOnBit();if(s==null||l==null)throw new re;const f=this.moduleSize(s,a);let h=s[1];const m=l[1];let y=s[0];const T=(l[0]-y+1)/f,R=(m-h+1)/f;if(T<=0||R<=0)throw new re;const L=f/2;h+=L,y+=L;const U=new je(T,R);for(let G=0;G<R;G++){const Z=h+G*f;for(let J=0;J<T;J++)a.get(y+J*f,Z)&&U.set(J,G)}return U}static moduleSize(a,s){const l=s.getWidth();let f=a[0];const h=a[1];for(;f<l&&s.get(f,h);)f++;if(f===l)throw new re;const m=f-a[0];if(m===0)throw new re;return m}}Sa.NO_POINTS=[];class bo extends pe{constructor(a=500){super(new Sa,a)}}var Hi;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(Hi||(Hi={}));class xt{constructor(a,s,l){this.value=a,this.stringValue=s,this.bits=l,xt.FOR_BITS.set(l,this),xt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new _(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof xt))return!1;const s=a;return this.value===s.value}static forBits(a){if(a<0||a>=xt.FOR_BITS.size)throw new C;return xt.FOR_BITS.get(a)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(Hi.L,"L",1),xt.M=new xt(Hi.M,"M",0),xt.Q=new xt(Hi.Q,"Q",3),xt.H=new xt(Hi.H,"H",2);class Hn{constructor(a){this.errorCorrectionLevel=xt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,s){return F.bitCount(a^s)}static decodeFormatInformation(a,s){const l=Hn.doDecodeFormatInformation(a,s);return l!==null?l:Hn.doDecodeFormatInformation(a^Hn.FORMAT_INFO_MASK_QR,s^Hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,s){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of Hn.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===a||m===s)return new Hn(h[1]);let y=Hn.numBitsDiffering(a,m);y<l&&(f=h[1],l=y),a!==s&&(y=Hn.numBitsDiffering(s,m),y<l&&(f=h[1],l=y))}return l<=3?new Hn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Hn))return!1;const s=a;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Hn.FORMAT_INFO_MASK_QR=21522,Hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(a,...s){this.ecCodewordsPerBlock=a,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const s=this.ecBlocks;for(const l of s)a+=l.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(a,s){this.count=a,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(a,s,...l){this.versionNumber=a,this.alignmentPatternCenters=s,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new Y;try{return this.getVersionForNumber((a-17)/4)}catch{throw new Y}}static getVersionForNumber(a){if(a<1||a>40)throw new C;return Ge.VERSIONS[a-1]}static decodeVersionInformation(a){let s=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<Ge.VERSION_DECODE_INFO.length;f++){const h=Ge.VERSION_DECODE_INFO[f];if(h===a)return Ge.getVersionForNumber(f+7);const m=Hn.numBitsDiffering(a,h);m<s&&(l=f+7,s=m)}return s<=3?Ge.getVersionForNumber(l):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),s=new je(a);s.setRegion(0,0,9,9),s.setRegion(a-8,0,8,9),s.setRegion(0,a-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||s.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return s.setRegion(6,9,1,a-17),s.setRegion(9,6,a-17,1),this.versionNumber>6&&(s.setRegion(a-11,0,3,6),s.setRegion(0,a-11,6,3)),s}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new oe(7,new V(1,19)),new oe(10,new V(1,16)),new oe(13,new V(1,13)),new oe(17,new V(1,9))),new Ge(2,Int32Array.from([6,18]),new oe(10,new V(1,34)),new oe(16,new V(1,28)),new oe(22,new V(1,22)),new oe(28,new V(1,16))),new Ge(3,Int32Array.from([6,22]),new oe(15,new V(1,55)),new oe(26,new V(1,44)),new oe(18,new V(2,17)),new oe(22,new V(2,13))),new Ge(4,Int32Array.from([6,26]),new oe(20,new V(1,80)),new oe(18,new V(2,32)),new oe(26,new V(2,24)),new oe(16,new V(4,9))),new Ge(5,Int32Array.from([6,30]),new oe(26,new V(1,108)),new oe(24,new V(2,43)),new oe(18,new V(2,15),new V(2,16)),new oe(22,new V(2,11),new V(2,12))),new Ge(6,Int32Array.from([6,34]),new oe(18,new V(2,68)),new oe(16,new V(4,27)),new oe(24,new V(4,19)),new oe(28,new V(4,15))),new Ge(7,Int32Array.from([6,22,38]),new oe(20,new V(2,78)),new oe(18,new V(4,31)),new oe(18,new V(2,14),new V(4,15)),new oe(26,new V(4,13),new V(1,14))),new Ge(8,Int32Array.from([6,24,42]),new oe(24,new V(2,97)),new oe(22,new V(2,38),new V(2,39)),new oe(22,new V(4,18),new V(2,19)),new oe(26,new V(4,14),new V(2,15))),new Ge(9,Int32Array.from([6,26,46]),new oe(30,new V(2,116)),new oe(22,new V(3,36),new V(2,37)),new oe(20,new V(4,16),new V(4,17)),new oe(24,new V(4,12),new V(4,13))),new Ge(10,Int32Array.from([6,28,50]),new oe(18,new V(2,68),new V(2,69)),new oe(26,new V(4,43),new V(1,44)),new oe(24,new V(6,19),new V(2,20)),new oe(28,new V(6,15),new V(2,16))),new Ge(11,Int32Array.from([6,30,54]),new oe(20,new V(4,81)),new oe(30,new V(1,50),new V(4,51)),new oe(28,new V(4,22),new V(4,23)),new oe(24,new V(3,12),new V(8,13))),new Ge(12,Int32Array.from([6,32,58]),new oe(24,new V(2,92),new V(2,93)),new oe(22,new V(6,36),new V(2,37)),new oe(26,new V(4,20),new V(6,21)),new oe(28,new V(7,14),new V(4,15))),new Ge(13,Int32Array.from([6,34,62]),new oe(26,new V(4,107)),new oe(22,new V(8,37),new V(1,38)),new oe(24,new V(8,20),new V(4,21)),new oe(22,new V(12,11),new V(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new oe(30,new V(3,115),new V(1,116)),new oe(24,new V(4,40),new V(5,41)),new oe(20,new V(11,16),new V(5,17)),new oe(24,new V(11,12),new V(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new oe(22,new V(5,87),new V(1,88)),new oe(24,new V(5,41),new V(5,42)),new oe(30,new V(5,24),new V(7,25)),new oe(24,new V(11,12),new V(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new oe(24,new V(5,98),new V(1,99)),new oe(28,new V(7,45),new V(3,46)),new oe(24,new V(15,19),new V(2,20)),new oe(30,new V(3,15),new V(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new oe(28,new V(1,107),new V(5,108)),new oe(28,new V(10,46),new V(1,47)),new oe(28,new V(1,22),new V(15,23)),new oe(28,new V(2,14),new V(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new oe(30,new V(5,120),new V(1,121)),new oe(26,new V(9,43),new V(4,44)),new oe(28,new V(17,22),new V(1,23)),new oe(28,new V(2,14),new V(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new oe(28,new V(3,113),new V(4,114)),new oe(26,new V(3,44),new V(11,45)),new oe(26,new V(17,21),new V(4,22)),new oe(26,new V(9,13),new V(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new oe(28,new V(3,107),new V(5,108)),new oe(26,new V(3,41),new V(13,42)),new oe(30,new V(15,24),new V(5,25)),new oe(28,new V(15,15),new V(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new oe(28,new V(4,116),new V(4,117)),new oe(26,new V(17,42)),new oe(28,new V(17,22),new V(6,23)),new oe(30,new V(19,16),new V(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new oe(28,new V(2,111),new V(7,112)),new oe(28,new V(17,46)),new oe(30,new V(7,24),new V(16,25)),new oe(24,new V(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new oe(30,new V(4,121),new V(5,122)),new oe(28,new V(4,47),new V(14,48)),new oe(30,new V(11,24),new V(14,25)),new oe(30,new V(16,15),new V(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new oe(30,new V(6,117),new V(4,118)),new oe(28,new V(6,45),new V(14,46)),new oe(30,new V(11,24),new V(16,25)),new oe(30,new V(30,16),new V(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new oe(26,new V(8,106),new V(4,107)),new oe(28,new V(8,47),new V(13,48)),new oe(30,new V(7,24),new V(22,25)),new oe(30,new V(22,15),new V(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new oe(28,new V(10,114),new V(2,115)),new oe(28,new V(19,46),new V(4,47)),new oe(28,new V(28,22),new V(6,23)),new oe(30,new V(33,16),new V(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new oe(30,new V(8,122),new V(4,123)),new oe(28,new V(22,45),new V(3,46)),new oe(30,new V(8,23),new V(26,24)),new oe(30,new V(12,15),new V(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new V(3,117),new V(10,118)),new oe(28,new V(3,45),new V(23,46)),new oe(30,new V(4,24),new V(31,25)),new oe(30,new V(11,15),new V(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new V(7,116),new V(7,117)),new oe(28,new V(21,45),new V(7,46)),new oe(30,new V(1,23),new V(37,24)),new oe(30,new V(19,15),new V(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new V(5,115),new V(10,116)),new oe(28,new V(19,47),new V(10,48)),new oe(30,new V(15,24),new V(25,25)),new oe(30,new V(23,15),new V(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new V(13,115),new V(3,116)),new oe(28,new V(2,46),new V(29,47)),new oe(30,new V(42,24),new V(1,25)),new oe(30,new V(23,15),new V(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new V(17,115)),new oe(28,new V(10,46),new V(23,47)),new oe(30,new V(10,24),new V(35,25)),new oe(30,new V(19,15),new V(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new V(17,115),new V(1,116)),new oe(28,new V(14,46),new V(21,47)),new oe(30,new V(29,24),new V(19,25)),new oe(30,new V(11,15),new V(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new V(13,115),new V(6,116)),new oe(28,new V(14,46),new V(23,47)),new oe(30,new V(44,24),new V(7,25)),new oe(30,new V(59,16),new V(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new V(12,121),new V(7,122)),new oe(28,new V(12,47),new V(26,48)),new oe(30,new V(39,24),new V(14,25)),new oe(30,new V(22,15),new V(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new V(6,121),new V(14,122)),new oe(28,new V(6,47),new V(34,48)),new oe(30,new V(46,24),new V(10,25)),new oe(30,new V(2,15),new V(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new V(17,122),new V(4,123)),new oe(28,new V(29,46),new V(14,47)),new oe(30,new V(49,24),new V(10,25)),new oe(30,new V(24,15),new V(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new V(4,122),new V(18,123)),new oe(28,new V(13,46),new V(32,47)),new oe(30,new V(48,24),new V(14,25)),new oe(30,new V(42,15),new V(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new V(20,117),new V(4,118)),new oe(28,new V(40,47),new V(7,48)),new oe(30,new V(43,24),new V(22,25)),new oe(30,new V(10,15),new V(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new V(19,118),new V(6,119)),new oe(28,new V(18,47),new V(31,48)),new oe(30,new V(34,24),new V(34,25)),new oe(30,new V(20,15),new V(61,16)))];var Bn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(Bn||(Bn={}));class Sr{constructor(a,s){this.value=a,this.isMasked=s}unmaskBitMatrix(a,s){for(let l=0;l<s;l++)for(let f=0;f<s;f++)this.isMasked(l,f)&&a.flip(f,l)}}Sr.values=new Map([[Bn.DATA_MASK_000,new Sr(Bn.DATA_MASK_000,(k,a)=>(k+a&1)===0)],[Bn.DATA_MASK_001,new Sr(Bn.DATA_MASK_001,(k,a)=>(k&1)===0)],[Bn.DATA_MASK_010,new Sr(Bn.DATA_MASK_010,(k,a)=>a%3===0)],[Bn.DATA_MASK_011,new Sr(Bn.DATA_MASK_011,(k,a)=>(k+a)%3===0)],[Bn.DATA_MASK_100,new Sr(Bn.DATA_MASK_100,(k,a)=>(Math.floor(k/2)+Math.floor(a/3)&1)===0)],[Bn.DATA_MASK_101,new Sr(Bn.DATA_MASK_101,(k,a)=>k*a%6===0)],[Bn.DATA_MASK_110,new Sr(Bn.DATA_MASK_110,(k,a)=>k*a%6<3)],[Bn.DATA_MASK_111,new Sr(Bn.DATA_MASK_111,(k,a)=>(k+a+k*a%3&1)===0)]]);class Vi{constructor(a){const s=a.getHeight();if(s<21||(s&3)!==1)throw new Y;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let h=0;h<6;h++)a=this.copyBit(h,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let h=5;h>=0;h--)a=this.copyBit(8,h,a);const s=this.bitMatrix.getHeight();let l=0;const f=s-7;for(let h=s-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=s-8;h<s;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Hn.decodeFormatInformation(a,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),s=Math.floor((a-17)/4);if(s<=6)return Ge.getVersionForNumber(s);let l=0;const f=a-11;for(let m=5;m>=0;m--)for(let y=a-9;y>=f;y--)l=this.copyBit(y,m,l);let h=Ge.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===a)return this.parsedVersion=h,h;l=0;for(let m=5;m>=0;m--)for(let y=a-9;y>=f;y--)l=this.copyBit(m,y,l);if(h=Ge.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===a)return this.parsedVersion=h,h;throw new Y}copyBit(a,s,l){return(this.isMirror?this.bitMatrix.get(s,a):this.bitMatrix.get(a,s))?l<<1|1:l<<1}readCodewords(){const a=this.readFormatInformation(),s=this.readVersion(),l=Sr.values.get(a.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=s.buildFunctionPattern();let m=!0;const y=new Uint8Array(s.getTotalCodewords());let S=0,T=0,R=0;for(let L=f-1;L>0;L-=2){L===6&&L--;for(let U=0;U<f;U++){const G=m?f-1-U:U;for(let Z=0;Z<2;Z++)h.get(L-Z,G)||(R++,T<<=1,this.bitMatrix.get(L-Z,G)&&(T|=1),R===8&&(y[S++]=T,R=0,T=0))}m=!m}if(S!==s.getTotalCodewords())throw new Y;return y}remask(){if(this.parsedFormatInfo===null)return;const a=Sr.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let s=0,l=a.getWidth();s<l;s++)for(let f=s+1,h=a.getHeight();f<h;f++)a.get(s,f)!==a.get(f,s)&&(a.flip(f,s),a.flip(s,f))}}class kl{constructor(a,s){this.numDataCodewords=a,this.codewords=s}static getDataBlocks(a,s,l){if(a.length!==s.getTotalCodewords())throw new C;const f=s.getECBlocksForLevel(l);let h=0;const m=f.getECBlocks();for(const Z of m)h+=Z.getCount();const y=new Array(h);let S=0;for(const Z of m)for(let J=0;J<Z.getCount();J++){const ie=Z.getDataCodewords(),fe=f.getECCodewordsPerBlock()+ie;y[S++]=new kl(ie,new Uint8Array(fe))}const T=y[0].codewords.length;let R=y.length-1;for(;R>=0&&y[R].codewords.length!==T;)R--;R++;const L=T-f.getECCodewordsPerBlock();let U=0;for(let Z=0;Z<L;Z++)for(let J=0;J<S;J++)y[J].codewords[Z]=a[U++];for(let Z=R;Z<S;Z++)y[Z].codewords[L]=a[U++];const G=y[0].codewords.length;for(let Z=L;Z<G;Z++)for(let J=0;J<S;J++){const ie=J<R?Z:Z+1;y[J].codewords[ie]=a[U++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ar;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Ar||(Ar={}));class Ke{constructor(a,s,l,f){this.value=a,this.stringValue=s,this.characterCountBitsForVersions=l,this.bits=f,Ke.FOR_BITS.set(f,this),Ke.FOR_VALUE.set(a,this)}static forBits(a){const s=Ke.FOR_BITS.get(a);if(s===void 0)throw new C;return s}getCharacterCountBits(a){const s=a.getVersionNumber();let l;return s<=9?l=0:s<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Ke))return!1;const s=a;return this.value===s.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(Ar.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(Ar.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(Ar.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(Ar.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(Ar.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(Ar.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(Ar.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(Ar.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(Ar.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(Ar.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(a,s,l,f){const h=new Hr(a);let m=new Me;const y=new Array;let S=-1,T=-1;try{let R=null,L=!1,U;do{if(h.available()<4)U=Ke.TERMINATOR;else{const G=h.readBits(4);U=Ke.forBits(G)}switch(U){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:L=!0;break;case Ke.STRUCTURED_APPEND:if(h.available()<16)throw new Y;S=h.readBits(8),T=h.readBits(8);break;case Ke.ECI:const G=an.parseECIValue(h);if(R=ne.getCharacterSetECIByValue(G),R===null)throw new Y;break;case Ke.HANZI:const Z=h.readBits(4),J=h.readBits(U.getCharacterCountBits(s));Z===an.GB2312_SUBSET&&an.decodeHanziSegment(h,m,J);break;default:const ie=h.readBits(U.getCharacterCountBits(s));switch(U){case Ke.NUMERIC:an.decodeNumericSegment(h,m,ie);break;case Ke.ALPHANUMERIC:an.decodeAlphanumericSegment(h,m,ie,L);break;case Ke.BYTE:an.decodeByteSegment(h,m,ie,R,y,f);break;case Ke.KANJI:an.decodeKanjiSegment(h,m,ie);break;default:throw new Y}break}}while(U!==Ke.TERMINATOR)}catch{throw new Y}return new qe(a,m.toString(),y.length===0?null:y,l===null?null:l.toString(),S,T)}static decodeHanziSegment(a,s,l){if(l*13>a.available())throw new Y;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=a.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,l--}try{s.append(Le.decode(f,Ae.GB2312))}catch(m){throw new Y(m)}}static decodeKanjiSegment(a,s,l){if(l*13>a.available())throw new Y;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=a.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,l--}try{s.append(Le.decode(f,Ae.SHIFT_JIS))}catch(m){throw new Y(m)}}static decodeByteSegment(a,s,l,f,h,m){if(8*l>a.available())throw new Y;const y=new Uint8Array(l);for(let T=0;T<l;T++)y[T]=a.readBits(8);let S;f===null?S=Ae.guessEncoding(y,m):S=f.getName();try{s.append(Le.decode(y,S))}catch(T){throw new Y(T)}h.push(y)}static toAlphaNumericChar(a){if(a>=an.ALPHANUMERIC_CHARS.length)throw new Y;return an.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,s,l,f){const h=s.length();for(;l>1;){if(a.available()<11)throw new Y;const m=a.readBits(11);s.append(an.toAlphaNumericChar(Math.floor(m/45))),s.append(an.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(a.available()<6)throw new Y;s.append(an.toAlphaNumericChar(a.readBits(6)))}if(f)for(let m=h;m<s.length();m++)s.charAt(m)==="%"&&(m<s.length()-1&&s.charAt(m+1)==="%"?s.deleteCharAt(m+1):s.setCharAt(m,""))}static decodeNumericSegment(a,s,l){for(;l>=3;){if(a.available()<10)throw new Y;const f=a.readBits(10);if(f>=1e3)throw new Y;s.append(an.toAlphaNumericChar(Math.floor(f/100))),s.append(an.toAlphaNumericChar(Math.floor(f/10)%10)),s.append(an.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(a.available()<7)throw new Y;const f=a.readBits(7);if(f>=100)throw new Y;s.append(an.toAlphaNumericChar(Math.floor(f/10))),s.append(an.toAlphaNumericChar(f%10))}else if(l===1){if(a.available()<4)throw new Y;const f=a.readBits(4);if(f>=10)throw new Y;s.append(an.toAlphaNumericChar(f))}}static parseECIValue(a){const s=a.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const l=a.readBits(8);return(s&63)<<8&4294967295|l}if((s&224)===192){const l=a.readBits(16);return(s&31)<<16&4294967295|l}throw new Y}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class eu{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const s=a[0];a[0]=a[2],a[2]=s}}class Ef{constructor(){this.rsDecoder=new ir(nt.QR_CODE_FIELD_256)}decodeBooleanArray(a,s){return this.decodeBitMatrix(je.parseFromBooleanArray(a),s)}decodeBitMatrix(a,s){const l=new Vi(a);let f=null;try{return this.decodeBitMatrixParser(l,s)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,s);return h.setOther(new eu(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(a,s){const l=a.readVersion(),f=a.readFormatInformation().getErrorCorrectionLevel(),h=a.readCodewords(),m=kl.getDataBlocks(h,l,f);let y=0;for(const R of m)y+=R.getNumDataCodewords();const S=new Uint8Array(y);let T=0;for(const R of m){const L=R.getCodewords(),U=R.getNumDataCodewords();this.correctErrors(L,U);for(let G=0;G<U;G++)S[T++]=L[G]}return an.decode(S,l,f,s)}correctErrors(a,s){const l=new Int32Array(a);try{this.rsDecoder.decode(l,a.length-s)}catch{throw new M}for(let f=0;f<s;f++)a[f]=l[f]}}class Gi extends Ue{constructor(a,s,l){super(a,s),this.estimatedModuleSize=l}aboutEquals(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){const f=Math.abs(a-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(a,s,l){const f=(this.getX()+s)/2,h=(this.getY()+a)/2,m=(this.estimatedModuleSize+l)/2;return new Gi(f,h,m)}}class Rr{constructor(a,s,l,f,h,m,y){this.image=a,this.startX=s,this.startY=l,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,s=this.height,l=this.width,f=a+l,h=this.startY+s/2,m=new Int32Array(3),y=this.image;for(let S=0;S<s;S++){const T=h+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));m[0]=0,m[1]=0,m[2]=0;let R=a;for(;R<f&&!y.get(R,T);)R++;let L=0;for(;R<f;){if(y.get(R,T))if(L===1)m[1]++;else if(L===2){if(this.foundPatternCross(m)){const U=this.handlePossibleCenter(m,T,R);if(U!==null)return U}m[0]=m[2],m[1]=1,m[2]=0,L=1}else m[++L]++;else L===1&&L++,m[L]++;R++}if(this.foundPatternCross(m)){const U=this.handlePossibleCenter(m,T,f);if(U!==null)return U}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(a,s){return s-a[2]-a[1]/2}foundPatternCross(a){const s=this.moduleSize,l=s/2;for(let f=0;f<3;f++)if(Math.abs(s-a[f])>=l)return!1;return!0}crossCheckVertical(a,s,l,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let S=a;for(;S>=0&&h.get(s,S)&&y[1]<=l;)y[1]++,S--;if(S<0||y[1]>l)return NaN;for(;S>=0&&!h.get(s,S)&&y[0]<=l;)y[0]++,S--;if(y[0]>l)return NaN;for(S=a+1;S<m&&h.get(s,S)&&y[1]<=l;)y[1]++,S++;if(S===m||y[1]>l)return NaN;for(;S<m&&!h.get(s,S)&&y[2]<=l;)y[2]++,S++;if(y[2]>l)return NaN;const T=y[0]+y[1]+y[2];return 5*Math.abs(T-f)>=2*f?NaN:this.foundPatternCross(y)?Rr.centerFromEnd(y,S):NaN}handlePossibleCenter(a,s,l){const f=a[0]+a[1]+a[2],h=Rr.centerFromEnd(a,l),m=this.crossCheckVertical(s,h,2*a[1],f);if(!isNaN(m)){const y=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(y,m,h))return T.combineEstimate(m,h,y);const S=new Gi(h,m,y);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Bs extends Ue{constructor(a,s,l,f){super(a,s),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){const f=Math.abs(a-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(a,s,l){const f=this.count+1,h=(this.count*this.getX()+s)/f,m=(this.count*this.getY()+a)/f,y=(this.count*this.estimatedModuleSize+l)/f;return new Bs(h,m,y,f)}}class Ll{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gn{constructor(a,s){this.image=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const s=a!=null&&a.get(se.TRY_HARDER)!==void 0,l=a!=null&&a.get(se.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*gn.MAX_MODULES));(y<gn.MIN_SKIP||s)&&(y=gn.MIN_SKIP);let S=!1;const T=new Int32Array(5);for(let L=y-1;L<h&&!S;L+=y){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let U=0;for(let G=0;G<m;G++)if(f.get(G,L))(U&1)===1&&U++,T[U]++;else if((U&1)===0)if(U===4)if(gn.foundPatternCross(T)){if(this.handlePossibleCenter(T,L,G,l)===!0)if(y=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const J=this.findRowSkip();J>T[2]&&(L+=J-T[2]-y,G=m-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,U=3;continue}U=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,U=3;else T[++U]++;else T[U]++;gn.foundPatternCross(T)&&this.handlePossibleCenter(T,L,m,l)===!0&&(y=T[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return Ue.orderBestPatterns(R),new Ll(R)}static centerFromEnd(a,s){return s-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let s=0;for(let h=0;h<5;h++){const m=a[h];if(m===0)return!1;s+=m}if(s<7)return!1;const l=s/7,f=l/2;return Math.abs(l-a[0])<f&&Math.abs(l-a[1])<f&&Math.abs(3*l-a[2])<3*f&&Math.abs(l-a[3])<f&&Math.abs(l-a[4])<f}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,s,l,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;a>=m&&s>=m&&y.get(s-m,a-m);)h[2]++,m++;if(a<m||s<m)return!1;for(;a>=m&&s>=m&&!y.get(s-m,a-m)&&h[1]<=l;)h[1]++,m++;if(a<m||s<m||h[1]>l)return!1;for(;a>=m&&s>=m&&y.get(s-m,a-m)&&h[0]<=l;)h[0]++,m++;if(h[0]>l)return!1;const S=y.getHeight(),T=y.getWidth();for(m=1;a+m<S&&s+m<T&&y.get(s+m,a+m);)h[2]++,m++;if(a+m>=S||s+m>=T)return!1;for(;a+m<S&&s+m<T&&!y.get(s+m,a+m)&&h[3]<l;)h[3]++,m++;if(a+m>=S||s+m>=T||h[3]>=l)return!1;for(;a+m<S&&s+m<T&&y.get(s+m,a+m)&&h[4]<l;)h[4]++,m++;if(h[4]>=l)return!1;const R=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(R-f)<2*f&&gn.foundPatternCross(h)}crossCheckVertical(a,s,l,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let S=a;for(;S>=0&&h.get(s,S);)y[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(s,S)&&y[1]<=l;)y[1]++,S--;if(S<0||y[1]>l)return NaN;for(;S>=0&&h.get(s,S)&&y[0]<=l;)y[0]++,S--;if(y[0]>l)return NaN;for(S=a+1;S<m&&h.get(s,S);)y[2]++,S++;if(S===m)return NaN;for(;S<m&&!h.get(s,S)&&y[3]<l;)y[3]++,S++;if(S===m||y[3]>=l)return NaN;for(;S<m&&h.get(s,S)&&y[4]<l;)y[4]++,S++;if(y[4]>=l)return NaN;const T=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(T-f)>=2*f?NaN:gn.foundPatternCross(y)?gn.centerFromEnd(y,S):NaN}crossCheckHorizontal(a,s,l,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let S=a;for(;S>=0&&h.get(S,s);)y[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(S,s)&&y[1]<=l;)y[1]++,S--;if(S<0||y[1]>l)return NaN;for(;S>=0&&h.get(S,s)&&y[0]<=l;)y[0]++,S--;if(y[0]>l)return NaN;for(S=a+1;S<m&&h.get(S,s);)y[2]++,S++;if(S===m)return NaN;for(;S<m&&!h.get(S,s)&&y[3]<l;)y[3]++,S++;if(S===m||y[3]>=l)return NaN;for(;S<m&&h.get(S,s)&&y[4]<l;)y[4]++,S++;if(y[4]>=l)return NaN;const T=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(T-f)>=f?NaN:gn.foundPatternCross(y)?gn.centerFromEnd(y,S):NaN}handlePossibleCenter(a,s,l,f){const h=a[0]+a[1]+a[2]+a[3]+a[4];let m=gn.centerFromEnd(a,l),y=this.crossCheckVertical(s,Math.floor(m),a[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),a[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),a[2],h)))){const S=h/7;let T=!1;const R=this.possibleCenters;for(let L=0,U=R.length;L<U;L++){const G=R[L];if(G.aboutEquals(S,y,m)){R[L]=G.combineEstimate(y,m,S),T=!0;break}}if(!T){const L=new Bs(m,y,S);R.push(L),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(L)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const l of this.possibleCenters)if(l.getCount()>=gn.CENTER_QUORUM)if(s==null)s=l;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-l.getX())-Math.abs(s.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,s=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=gn.CENTER_QUORUM&&(a++,s+=m.getEstimatedModuleSize());if(a<3)return!1;const f=s/l;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*s}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new re;const s=this.possibleCenters;let l;if(a>3){let f=0,h=0;for(const S of this.possibleCenters){const T=S.getEstimatedModuleSize();f+=T,h+=T*T}l=f/a;let m=Math.sqrt(h/a-l*l);s.sort((S,T)=>{const R=Math.abs(T.getEstimatedModuleSize()-l),L=Math.abs(S.getEstimatedModuleSize()-l);return R<L?-1:R>L?1:0});const y=Math.max(.2*l,m);for(let S=0;S<s.length&&s.length>3;S++){const T=s[S];Math.abs(T.getEstimatedModuleSize()-l)>y&&(s.splice(S,1),S--)}}if(s.length>3){let f=0;for(const h of s)f+=h.getEstimatedModuleSize();l=f/s.length,s.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-l),S=Math.abs(h.getEstimatedModuleSize()-l);return y<S?1:y>S?-1:0}else return m.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}gn.CENTER_QUORUM=2,gn.MIN_SKIP=3,gn.MAX_MODULES=57;class ca{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(se.NEED_RESULT_POINT_CALLBACK);const l=new gn(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(l)}processFinderPatternInfo(a){const s=a.getTopLeft(),l=a.getTopRight(),f=a.getBottomLeft(),h=this.calculateModuleSize(s,l,f);if(h<1)throw new re("No pattern found in proccess finder.");const m=ca.computeDimension(s,l,f,h),y=Ge.getProvisionalVersionForDimension(m),S=y.getDimensionForVersion()-7;let T=null;if(y.getAlignmentPatternCenters().length>0){const G=l.getX()-s.getX()+f.getX(),Z=l.getY()-s.getY()+f.getY(),J=1-3/S,ie=Math.floor(s.getX()+J*(G-s.getX())),fe=Math.floor(s.getY()+J*(Z-s.getY()));for(let Re=4;Re<=16;Re<<=1)try{T=this.findAlignmentInRegion(h,ie,fe,Re);break}catch(_e){if(!(_e instanceof re))throw _e}}const R=ca.createTransform(s,l,f,T,m),L=ca.sampleGrid(this.image,R,m);let U;return T===null?U=[f,s,l]:U=[f,s,l,T],new zn(L,U)}static createTransform(a,s,l,f,h){const m=h-3.5;let y,S,T,R;return f!==null?(y=f.getX(),S=f.getY(),T=m-3,R=T):(y=s.getX()-a.getX()+l.getX(),S=s.getY()-a.getY()+l.getY(),T=m,R=m),Zn.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,T,R,3.5,m,a.getX(),a.getY(),s.getX(),s.getY(),y,S,l.getX(),l.getY())}static sampleGrid(a,s,l){return mr.getInstance().sampleGridWithTransform(a,l,l,s)}static computeDimension(a,s,l,f){const h=et.round(Ue.distance(a,s)/f),m=et.round(Ue.distance(a,l)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new re("Dimensions could be not found.")}return y}calculateModuleSize(a,s,l){return(this.calculateModuleSizeOneWay(a,s)+this.calculateModuleSizeOneWay(a,l))/2}calculateModuleSizeOneWay(a,s){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(a,s,l,f){let h=this.sizeOfBlackWhiteBlackRun(a,s,l,f),m=1,y=a-(l-a);y<0?(m=a/(a-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-a)/(y-a),y=this.image.getWidth()-1);let S=Math.floor(s-(f-s)*m);return m=1,S<0?(m=s/(s-S),S=0):S>=this.image.getHeight()&&(m=(this.image.getHeight()-1-s)/(S-s),S=this.image.getHeight()-1),y=Math.floor(a+(y-a)*m),h+=this.sizeOfBlackWhiteBlackRun(a,s,y,S),h-1}sizeOfBlackWhiteBlackRun(a,s,l,f){const h=Math.abs(f-s)>Math.abs(l-a);if(h){let G=a;a=s,s=G,G=l,l=f,f=G}const m=Math.abs(l-a),y=Math.abs(f-s);let S=-m/2;const T=a<l?1:-1,R=s<f?1:-1;let L=0;const U=l+T;for(let G=a,Z=s;G!==U;G+=T){const J=h?Z:G,ie=h?G:Z;if(L===1===this.image.get(J,ie)){if(L===2)return et.distance(G,Z,a,s);L++}if(S+=y,S>0){if(Z===f)break;Z+=R,S-=m}}return L===2?et.distance(l+T,f,a,s):NaN}findAlignmentInRegion(a,s,l,f){const h=Math.floor(f*a),m=Math.max(0,s-h),y=Math.min(this.image.getWidth()-1,s+h);if(y-m<a*3)throw new re("Alignment top exceeds estimated module size.");const S=Math.max(0,l-h),T=Math.min(this.image.getHeight()-1,l+h);if(T-S<a*3)throw new re("Alignment bottom exceeds estimated module size.");return new Rr(this.image,m,S,y-m,T-S,a,this.resultPointCallback).find()}}class Aa{constructor(){this.decoder=new Ef}getDecoder(){return this.decoder}decode(a,s){let l,f;if(s!=null&&s.get(se.PURE_BARCODE)!==void 0){const S=Aa.extractPureBits(a.getBlackMatrix());l=this.decoder.decodeBitMatrix(S,s),f=Aa.NO_POINTS}else{const S=new ca(a.getBlackMatrix()).detect(s);l=this.decoder.decodeBitMatrix(S.getBits(),s),f=S.getPoints()}l.getOther()instanceof eu&&l.getOther().applyMirroredCorrection(f);const h=new xe(l.getText(),l.getRawBytes(),void 0,f,ve.QR_CODE,void 0),m=l.getByteSegments();m!==null&&h.putMetadata(Te.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!==null&&h.putMetadata(Te.ERROR_CORRECTION_LEVEL,y),l.hasStructuredAppend()&&(h.putMetadata(Te.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(Te.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(a){const s=a.getTopLeftOnBit(),l=a.getBottomRightOnBit();if(s===null||l===null)throw new re;const f=this.moduleSize(s,a);let h=s[1],m=l[1],y=s[0],S=l[0];if(y>=S||h>=m)throw new re;if(m-h!==S-y&&(S=y+(m-h),S>=a.getWidth()))throw new re;const T=Math.round((S-y+1)/f),R=Math.round((m-h+1)/f);if(T<=0||R<=0)throw new re;if(R!==T)throw new re;const L=Math.floor(f/2);h+=L,y+=L;const U=y+Math.floor((T-1)*f)-S;if(U>0){if(U>L)throw new re;y-=U}const G=h+Math.floor((R-1)*f)-m;if(G>0){if(G>L)throw new re;h-=G}const Z=new je(T,R);for(let J=0;J<R;J++){const ie=h+Math.floor(J*f);for(let fe=0;fe<T;fe++)a.get(y+Math.floor(fe*f),ie)&&Z.set(fe,J)}return Z}static moduleSize(a,s){const l=s.getHeight(),f=s.getWidth();let h=a[0],m=a[1],y=!0,S=0;for(;h<f&&m<l;){if(y!==s.get(h,m)){if(++S===5)break;y=!y}h++,m++}if(h===f||m===l)throw new re;return(h-a[0])/7}}Aa.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(a){return et.sum(a)}static toIntArray(a){if(a==null||!a.length)return $e.EMPTY_INT_ARRAY;const s=new Int32Array(a.length);let l=0;for(const f of a)s[l++]=f;return s}static getCodeword(a){const s=H.binarySearch($e.SYMBOL_TABLE,a&262143);return s<0?-1:($e.CODEWORD_TABLE[s]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tu{constructor(a,s){this.bits=a,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class ct{static detectMultiple(a,s,l){let f=a.getBlackMatrix(),h=ct.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=ct.detect(l,f)),new tu(f,h)}static detect(a,s){const l=new Array;let f=0,h=0,m=!1;for(;f<s.getHeight();){const y=ct.findVertices(s,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const S of l)S[1]!=null&&(f=Math.trunc(Math.max(f,S[1].getY()))),S[3]!=null&&(f=Math.max(f,Math.trunc(S[3].getY())));f+=ct.ROW_STEP;continue}if(m=!0,l.push(y),!a)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return l}static findVertices(a,s,l){const f=a.getHeight(),h=a.getWidth(),m=new Array(8);return ct.copyToResult(m,ct.findRowsWithPattern(a,f,h,s,l,ct.START_PATTERN),ct.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),s=Math.trunc(m[4].getY())),ct.copyToResult(m,ct.findRowsWithPattern(a,f,h,s,l,ct.STOP_PATTERN),ct.INDEXES_STOP_PATTERN),m}static copyToResult(a,s,l){for(let f=0;f<l.length;f++)a[l[f]]=s[f]}static findRowsWithPattern(a,s,l,f,h,m){const y=new Array(4);let S=!1;const T=new Int32Array(m.length);for(;f<s;f+=ct.ROW_STEP){let L=ct.findGuardPattern(a,h,f,l,!1,m,T);if(L!=null){for(;f>0;){const U=ct.findGuardPattern(a,h,--f,l,!1,m,T);if(U!=null)L=U;else{f++;break}}y[0]=new Ue(L[0],f),y[1]=new Ue(L[1],f),S=!0;break}}let R=f+1;if(S){let L=0,U=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;R<s;R++){const G=ct.findGuardPattern(a,U[0],R,l,!1,m,T);if(G!=null&&Math.abs(U[0]-G[0])<ct.MAX_PATTERN_DRIFT&&Math.abs(U[1]-G[1])<ct.MAX_PATTERN_DRIFT)U=G,L=0;else{if(L>ct.SKIPPED_ROW_COUNT_MAX)break;L++}}R-=L+1,y[2]=new Ue(U[0],R),y[3]=new Ue(U[1],R)}return R-f<ct.BARCODE_MIN_HEIGHT&&H.fill(y,null),y}static findGuardPattern(a,s,l,f,h,m,y){H.fillWithin(y,0,y.length,0);let S=s,T=0;for(;a.get(S,l)&&S>0&&T++<ct.MAX_PIXEL_DRIFT;)S--;let R=S,L=0,U=m.length;for(let G=h;R<f;R++)if(a.get(R,l)!==G)y[L]++;else{if(L===U-1){if(ct.patternMatchVariance(y,m,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return new Int32Array([S,R]);S+=y[0]+y[1],I.arraycopy(y,2,y,0,L-1),y[L-1]=0,y[L]=0,L--}else L++;y[L]=1,G=!G}return L===U-1&&ct.patternMatchVariance(y,m,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE?new Int32Array([S,R-1]):null}static patternMatchVariance(a,s,l){let f=a.length,h=0,m=0;for(let T=0;T<f;T++)h+=a[T],m+=s[T];if(h<m)return 1/0;let y=h/m;l*=y;let S=0;for(let T=0;T<f;T++){let R=a[T],L=s[T]*y,U=R>L?R-L:L-R;if(U>l)return 1/0;S+=U}return S/h}}ct.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ct.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ct.MAX_AVG_VARIANCE=.42,ct.MAX_INDIVIDUAL_VARIANCE=.8,ct.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ct.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ct.MAX_PIXEL_DRIFT=3,ct.MAX_PATTERN_DRIFT=5,ct.SKIPPED_ROW_COUNT_MAX=25,ct.ROW_STEP=5,ct.BARCODE_MIN_HEIGHT=10;class sn{constructor(a,s){if(s.length===0)throw new C;this.field=a;let l=s.length;if(l>1&&s[0]===0){let f=1;for(;f<l&&s[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),I.arraycopy(s,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let s=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)s=this.field.add(this.field.multiply(a,s),this.coefficients[f]);return s}add(a){if(!this.field.equals(a.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let s=this.coefficients,l=a.coefficients;if(s.length>l.length){let m=s;s=l,l=m}let f=new Int32Array(l.length),h=l.length-s.length;I.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=this.field.add(s[m-h],l[m]);return new sn(this.field,f)}subtract(a){if(!this.field.equals(a.field))throw new C("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof sn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new sn(this.field,new Int32Array([0]));let s=this.coefficients,l=s.length,f=a.coefficients,h=f.length,m=new Int32Array(l+h-1);for(let y=0;y<l;y++){let S=s[y];for(let T=0;T<h;T++)m[y+T]=this.field.add(m[y+T],this.field.multiply(S,f[T]))}return new sn(this.field,m)}negative(){let a=this.coefficients.length,s=new Int32Array(a);for(let l=0;l<a;l++)s[l]=this.field.subtract(0,this.coefficients[l]);return new sn(this.field,s)}multiplyScalar(a){if(a===0)return new sn(this.field,new Int32Array([0]));if(a===1)return this;let s=this.coefficients.length,l=new Int32Array(s);for(let f=0;f<s;f++)l[f]=this.field.multiply(this.coefficients[f],a);return new sn(this.field,l)}multiplyByMonomial(a,s){if(a<0)throw new C;if(s===0)return new sn(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+a);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],s);return new sn(this.field,f)}toString(){let a=new Me;for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);l!==0&&(l<0?(a.append(" - "),l=-l):a.length()>0&&a.append(" + "),(s===0||l!==1)&&a.append(l),s!==0&&(s===1?a.append("x"):(a.append("x^"),a.append(s))))}return a.toString()}}class jl{add(a,s){return(a+s)%this.modulus}subtract(a,s){return(this.modulus+a-s)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new C;return this.logTable[a]}inverse(a){if(a===0)throw new it;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,s){return a===0||s===0?0:this.expTable[(this.logTable[a]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class oi extends jl{constructor(a,s){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let l=1;for(let f=0;f<a;f++)this.expTable[f]=l,l=l*s%a;for(let f=0;f<a-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new sn(this,new Int32Array([0])),this.one=new sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,s){if(a<0)throw new C;if(s===0)return this.zero;let l=new Int32Array(a+1);return l[0]=s,new sn(this,l)}}oi.PDF417_GF=new oi($e.NUMBER_OF_CODEWORDS,3);class Ca{constructor(){this.field=oi.PDF417_GF}decode(a,s,l){let f=new sn(this.field,a),h=new Int32Array(s),m=!1;for(let Z=s;Z>0;Z--){let J=f.evaluateAt(this.field.exp(Z));h[s-Z]=J,J!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(l!=null)for(const Z of l){let J=this.field.exp(a.length-1-Z),ie=new sn(this.field,new Int32Array([this.field.subtract(0,J),1]));y=y.multiply(ie)}let S=new sn(this.field,h),T=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),S,s),R=T[0],L=T[1],U=this.findErrorLocations(R),G=this.findErrorMagnitudes(L,R,U);for(let Z=0;Z<U.length;Z++){let J=a.length-1-this.field.log(U[Z]);if(J<0)throw M.getChecksumInstance();a[J]=this.field.subtract(a[J],G[Z])}return U.length}runEuclideanAlgorithm(a,s,l){if(a.getDegree()<s.getDegree()){let U=a;a=s,s=U}let f=a,h=s,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let U=f,G=m;if(f=h,m=y,f.isZero())throw M.getChecksumInstance();h=U;let Z=this.field.getZero(),J=f.getCoefficient(f.getDegree()),ie=this.field.inverse(J);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let fe=h.getDegree()-f.getDegree(),Re=this.field.multiply(h.getCoefficient(h.getDegree()),ie);Z=Z.add(this.field.buildMonomial(fe,Re)),h=h.subtract(f.multiplyByMonomial(fe,Re))}y=Z.multiply(m).subtract(G).negative()}let S=y.getCoefficient(0);if(S===0)throw M.getChecksumInstance();let T=this.field.inverse(S),R=y.multiply(T),L=h.multiply(T);return[R,L]}findErrorLocations(a){let s=a.getDegree(),l=new Int32Array(s),f=0;for(let h=1;h<this.field.getSize()&&f<s;h++)a.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==s)throw M.getChecksumInstance();return l}findErrorMagnitudes(a,s,l){let f=s.getDegree(),h=new Int32Array(f);for(let T=1;T<=f;T++)h[f-T]=this.field.multiply(T,s.getCoefficient(T));let m=new sn(this.field,h),y=l.length,S=new Int32Array(y);for(let T=0;T<y;T++){let R=this.field.inverse(l[T]),L=this.field.subtract(0,a.evaluateAt(R)),U=this.field.inverse(m.evaluateAt(R));S[T]=this.field.multiply(L,U)}return S}}class _a{constructor(a,s,l,f,h){a instanceof _a?this.constructor_2(a):this.constructor_1(a,s,l,f,h)}constructor_1(a,s,l,f,h){const m=s==null||l==null,y=f==null||h==null;if(m&&y)throw new re;m?(s=new Ue(0,f.getY()),l=new Ue(0,h.getY())):y&&(f=new Ue(a.getWidth()-1,s.getY()),h=new Ue(a.getWidth()-1,l.getY())),this.image=a,this.topLeft=s,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(s.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(s.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,s){return a==null?s:s==null?a:new _a(a.image,a.topLeft,a.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(a,s,l){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(a>0){let S=l?this.topLeft:this.topRight,T=Math.trunc(S.getY()-a);T<0&&(T=0);let R=new Ue(S.getX(),T);l?f=R:m=R}if(s>0){let S=l?this.bottomLeft:this.bottomRight,T=Math.trunc(S.getY()+s);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let R=new Ue(S.getX(),T);l?h=R:y=R}return new _a(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class wo{constructor(a,s,l,f){this.columnCount=a,this.errorCorrectionLevel=f,this.rowCountUpperPart=s,this.rowCountLowerPart=l,this.rowCount=s+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yi{constructor(){this.buffer=""}static form(a,s){let l=-1;function f(m,y,S,T,R,L){if(m==="%%")return"%";if(s[++l]===void 0)return;m=T?parseInt(T.substr(1)):void 0;let U=R?parseInt(R.substr(1)):void 0,G;switch(L){case"s":G=s[l];break;case"c":G=s[l][0];break;case"f":G=parseFloat(s[l]).toFixed(m);break;case"p":G=parseFloat(s[l]).toPrecision(m);break;case"e":G=parseFloat(s[l]).toExponential(m);break;case"x":G=parseInt(s[l]).toString(U||16);break;case"d":G=parseFloat(parseInt(s[l],U||10).toPrecision(m)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(U);let Z=parseInt(S),J=S&&S[0]+""=="0"?"0":" ";for(;G.length<Z;)G=y!==void 0?G+J:J+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(h,f)}format(a,...s){this.buffer+=Yi.form(a,s)}toString(){return this.buffer}}class Va{constructor(a){this.boundingBox=new _a(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let s=this.getCodeword(a);if(s!=null)return s;for(let l=1;l<Va.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(a)-l;if(f>=0&&(s=this.codewords[f],s!=null)||(f=this.imageRowToCodewordIndex(a)+l,f<this.codewords.length&&(s=this.codewords[f],s!=null)))return s}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,s){this.codewords[this.imageRowToCodewordIndex(a)]=s}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new Yi;let s=0;for(const l of this.codewords){if(l==null){a.format("%3d:    |   %n",s++);continue}a.format("%3d: %3d|%3d%n",s++,l.getRowNumber(),l.getValue())}return a.toString()}}Va.MAX_NEARBY_DISTANCE=5;class Ga{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let s=this.values.get(a);s==null&&(s=0),s++,this.values.set(a,s)}getValue(){let a=-1,s=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>a?(a=h.getValue(),s=[],s.push(h.getKey())):h.getValue()===a&&s.push(h.getKey())}return $e.toIntArray(s)}getConfidence(a){return this.values.get(a)}}class Bl extends Va{constructor(a,s){super(a),this._isLeft=s}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,a);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=-1,T=1,R=0;for(let L=m;L<y;L++){if(s[L]==null)continue;let U=s[L],G=U.getRowNumber()-S;if(G===0)R++;else if(G===1)T=Math.max(T,R),R=1,S=U.getRowNumber();else if(G<0||U.getRowNumber()>=a.getRowCount()||G>L)s[L]=null;else{let Z;T>2?Z=(T-2)*G:Z=G;let J=Z>=L;for(let ie=1;ie<=Z&&!J;ie++)J=s[L-ie]!=null;J?s[L]=null:(S=U.getRowNumber(),R=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let s=new Int32Array(a.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=s.length)continue;s[f]++}return s}adjustIncompleteIndicatorColumnRowNumbers(a){let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),f=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),S=-1;for(let T=h;T<m;T++){if(y[T]==null)continue;let R=y[T];R.setRowNumberAsRowIndicatorColumn();let L=R.getRowNumber()-S;L===0||(L===1?S=R.getRowNumber():R.getRowNumber()>=a.getRowCount()?y[T]=null:S=R.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),s=new Ga,l=new Ga,f=new Ga,h=new Ga;for(let y of a){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let S=y.getValue()%30,T=y.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:l.setValue(S*3+1);break;case 1:h.setValue(S/3),f.setValue(S%3);break;case 2:s.setValue(S+1);break}}if(s.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||s.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let m=new wo(s.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(a,m),m}removeIncorrectCodewords(a,s){for(let l=0;l<a.length;l++){let f=a[l];if(a[l]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>s.getRowCount()){a[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==s.getRowCountUpperPart()&&(a[l]=null);break;case 1:(Math.trunc(h/3)!==s.getErrorCorrectionLevel()||h%3!==s.getRowCountLowerPart())&&(a[l]=null);break;case 2:h+1!==s.getColumnCount()&&(a[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vn{constructor(a,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=$e.MAX_CODEWORDS_IN_BARCODE,s;do s=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let l=this.detectionResultColumns[s].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(s,f,l))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++)if(a[l]!=null&&s[l]!=null&&a[l].getRowNumber()===s[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(a[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let f=s[l].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Vn.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,s=this.detectionResultColumns[0].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let f=s[l].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Vn.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,s,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(a)?(l.setRowNumber(a),s=0):++s),s}adjustRowNumbers(a,s,l){if(!this.detectionResultColumns[a-1])return;let f=l[s],h=this.detectionResultColumns[a-1].getCodewords(),m=h;this.detectionResultColumns[a+1]!=null&&(m=this.detectionResultColumns[a+1].getCodewords());let y=new Array(14);y[2]=h[s],y[3]=m[s],s>0&&(y[0]=l[s-1],y[4]=h[s-1],y[5]=m[s-1]),s>1&&(y[8]=l[s-2],y[10]=h[s-2],y[11]=m[s-2]),s<l.length-1&&(y[1]=l[s+1],y[6]=h[s+1],y[7]=m[s+1]),s<l.length-2&&(y[9]=l[s+2],y[12]=h[s+2],y[13]=m[s+2]);for(let S of y)if(Vn.adjustRowNumber(f,S))return}static adjustRowNumber(a,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===a.getBucket()?(a.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,s){this.detectionResultColumns[a]=s}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Yi;for(let l=0;l<a.getCodewords().length;l++){s.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){s.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){s.format("    |   ");continue}s.format(" %3d|%3d",h.getRowNumber(),h.getValue())}s.format("%n")}return s.toString()}}class Vr{constructor(a,s,l,f){this.rowNumber=Vr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(s),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Vr.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Vr.BARCODE_ROW_UNKNOWN=-1;class Qn{static initialize(){for(let a=0;a<$e.SYMBOL_TABLE.length;a++){let s=$e.SYMBOL_TABLE[a],l=s&1;for(let f=0;f<$e.BARS_IN_MODULE;f++){let h=0;for(;(s&1)===l;)h+=1,s>>=1;l=s&1,Qn.RATIOS_TABLE[a]||(Qn.RATIOS_TABLE[a]=new Array($e.BARS_IN_MODULE)),Qn.RATIOS_TABLE[a][$e.BARS_IN_MODULE-f-1]=Math.fround(h/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let s=Qn.getDecodedCodewordValue(Qn.sampleBitCounts(a));return s!==-1?s:Qn.getClosestDecodedValue(a)}static sampleBitCounts(a){let s=et.sum(a),l=new Int32Array($e.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<$e.MODULES_IN_CODEWORD;m++){let y=s/(2*$e.MODULES_IN_CODEWORD)+m*s/$e.MODULES_IN_CODEWORD;h+a[f]<=y&&(h+=a[f],f++),l[f]++}return l}static getDecodedCodewordValue(a){let s=Qn.getBitValue(a);return $e.getCodeword(s)===-1?-1:s}static getBitValue(a){let s=0;for(let l=0;l<a.length;l++)for(let f=0;f<a[l];f++)s=s<<1|(l%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(a){let s=et.sum(a),l=new Array($e.BARS_IN_MODULE);if(s>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(a[m]/s);let f=za.MAX_VALUE,h=-1;this.bSymbolTableReady||Qn.initialize();for(let m=0;m<Qn.RATIOS_TABLE.length;m++){let y=0,S=Qn.RATIOS_TABLE[m];for(let T=0;T<$e.BARS_IN_MODULE;T++){let R=Math.fround(S[T]-l[T]);if(y+=Math.fround(R*R),y>=f)break}y<f&&(f=y,h=$e.SYMBOL_TABLE[m])}return h}}Qn.bSymbolTableReady=!1,Qn.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(k=>new Array($e.BARS_IN_MODULE));class qi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class nu{static parseLong(a,s=void 0){return parseInt(a,s)}}class vo extends x{}vo.kind="NullPointerException";class Pl{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,s,l){if(a==null)throw new vo;if(s<0||s>a.length||l<0||s+l>a.length||s+l<0)throw new B;if(l===0)return;for(let f=0;f<l;f++)this.write(a[s+f])}flush(){}close(){}}class Ps extends x{}class Eo extends Pl{constructor(a=32){if(super(),this.count=0,a<0)throw new C("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let l=this.buf.length<<1;if(l-a<0&&(l=a),l<0){if(a<0)throw new Ps;l=F.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,l)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,s,l){if(s<0||s>a.length||l<0||s+l-a.length>0)throw new B;this.ensureCapacity(this.count+l),I.arraycopy(a,s,this.buf,this.count,l),this.count+=l}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Ht;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ht||(Ht={}));function ru(){if(typeof window<"u")return window.BigInt||null;if(typeof gd<"u")return gd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let So;function Ya(k){if(typeof So>"u"&&(So=ru()),So===null)throw new Error("BigInt is not supported!");return So(k)}function Ul(){let k=[];k[0]=Ya(1);let a=Ya(900);k[1]=a;for(let s=2;s<16;s++)k[s]=k[s-1]*a;return k}class he{static decode(a,s){let l=new Me(""),f=ne.ISO8859_1;l.enableDecoding(f);let h=1,m=a[h++],y=new qi;for(;h<a[0];){switch(m){case he.TEXT_COMPACTION_MODE_LATCH:h=he.textCompaction(a,h,l);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:h=he.byteCompaction(m,a,f,h,l);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[h++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:h=he.numericCompaction(a,h,l);break;case he.ECI_CHARSET:ne.getCharacterSetECIByValue(a[h++]);break;case he.ECI_GENERAL_PURPOSE:h+=2;break;case he.ECI_USER_DEFINED:h++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=he.decodeMacroBlock(a,h,y);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new Y;default:h--,h=he.textCompaction(a,h,l);break}if(h<a.length)m=a[h++];else throw Y.getFormatInstance()}if(l.length()===0)throw Y.getFormatInstance();let S=new qe(null,l.toString(),null,s);return S.setOther(y),S}static decodeMacroBlock(a,s,l){if(s+he.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw Y.getFormatInstance();let f=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<he.NUMBER_OF_SEQUENCE_CODEWORDS;y++,s++)f[y]=a[s];l.setSegmentIndex(F.parseInt(he.decodeBase900toBase10(f,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Me;s=he.textCompaction(a,s,h),l.setFileId(h.toString());let m=-1;for(a[s]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=s+1);s<a[0];)switch(a[s]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,a[s]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new Me;s=he.textCompaction(a,s+1,y),l.setFileName(y.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Me;s=he.textCompaction(a,s+1,S),l.setSender(S.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Me;s=he.textCompaction(a,s+1,T),l.setAddressee(T.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new Me;s=he.numericCompaction(a,s+1,R),l.setSegmentCount(F.parseInt(R.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let L=new Me;s=he.numericCompaction(a,s+1,L),l.setTimestamp(nu.parseLong(L.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let U=new Me;s=he.numericCompaction(a,s+1,U),l.setChecksum(F.parseInt(U.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Me;s=he.numericCompaction(a,s+1,G),l.setFileSize(nu.parseLong(G.toString()));break;default:throw Y.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:s++,l.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(m!==-1){let y=s-m;l.isLastSegment()&&y--,l.setOptionalData(H.copyOfRange(a,m,m+y))}return s}static textCompaction(a,s,l){let f=new Int32Array((a[0]-s)*2),h=new Int32Array((a[0]-s)*2),m=0,y=!1;for(;s<a[0]&&!y;){let S=a[s++];if(S<he.TEXT_COMPACTION_MODE_LATCH)f[m]=S/30,f[m+1]=S%30,m+=2;else switch(S){case he.TEXT_COMPACTION_MODE_LATCH:f[m++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:s--,y=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=a[s++],h[m]=S,m++;break}}return he.decodeTextCompaction(f,h,m,l),s}static decodeTextCompaction(a,s,l,f){let h=Ht.ALPHA,m=Ht.ALPHA,y=0;for(;y<l;){let S=a[y],T="";switch(h){case Ht.ALPHA:if(S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case he.LL:h=Ht.LOWER;break;case he.ML:h=Ht.MIXED;break;case he.PS:m=h,h=Ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break;case Ht.LOWER:if(S<26)T=String.fromCharCode(97+S);else switch(S){case 26:T=" ";break;case he.AS:m=h,h=Ht.ALPHA_SHIFT;break;case he.ML:h=Ht.MIXED;break;case he.PS:m=h,h=Ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break;case Ht.MIXED:if(S<he.PL)T=he.MIXED_CHARS[S];else switch(S){case he.PL:h=Ht.PUNCT;break;case 26:T=" ";break;case he.LL:h=Ht.LOWER;break;case he.AL:h=Ht.ALPHA;break;case he.PS:m=h,h=Ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break;case Ht.PUNCT:if(S<he.PAL)T=he.PUNCT_CHARS[S];else switch(S){case he.PAL:h=Ht.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break;case Ht.ALPHA_SHIFT:if(h=m,S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break;case Ht.PUNCT_SHIFT:if(h=m,S<he.PAL)T=he.PUNCT_CHARS[S];else switch(S){case he.PAL:h=Ht.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Ht.ALPHA;break}break}T!==""&&f.append(T),y++}}static byteCompaction(a,s,l,f,h){let m=new Eo,y=0,S=0,T=!1;switch(a){case he.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),L=s[f++];for(;f<s[0]&&!T;)switch(R[y++]=L,S=900*S+L,L=s[f++],L){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,T=!0;break;default:if(y%5===0&&y>0){for(let U=0;U<6;++U)m.write(Number(Ya(S)>>Ya(8*(5-U))));S=0,y=0}break}f===s[0]&&L<he.TEXT_COMPACTION_MODE_LATCH&&(R[y++]=L);for(let U=0;U<y;U++)m.write(R[U]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;f<s[0]&&!T;){let U=s[f++];if(U<he.TEXT_COMPACTION_MODE_LATCH)y++,S=900*S+U;else switch(U){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,T=!0;break}if(y%5===0&&y>0){for(let G=0;G<6;++G)m.write(Number(Ya(S)>>Ya(8*(5-G))));S=0,y=0}}break}return h.append(Le.decode(m.toByteArray(),l)),f}static numericCompaction(a,s,l){let f=0,h=!1,m=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;s<a[0]&&!h;){let y=a[s++];if(s===a[0]&&(h=!0),y<he.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:s--,h=!0;break}(f%he.MAX_NUMERIC_CODEWORDS===0||y===he.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(he.decodeBase900toBase10(m,f)),f=0)}return s}static decodeBase900toBase10(a,s){let l=Ya(0);for(let h=0;h<s;h++)l+=he.EXP900[s-h-1]*Ya(a[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new Y;return f.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=ru()?Ul():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class gt{constructor(){}static decode(a,s,l,f,h,m,y){let S=new _a(a,s,l,f,h),T=null,R=null,L;for(let Z=!0;;Z=!1){if(s!=null&&(T=gt.getRowIndicatorColumn(a,S,s,!0,m,y)),f!=null&&(R=gt.getRowIndicatorColumn(a,S,f,!1,m,y)),L=gt.merge(T,R),L==null)throw re.getNotFoundInstance();let J=L.getBoundingBox();if(Z&&J!=null&&(J.getMinY()<S.getMinY()||J.getMaxY()>S.getMaxY()))S=J;else break}L.setBoundingBox(S);let U=L.getBarcodeColumnCount()+1;L.setDetectionResultColumn(0,T),L.setDetectionResultColumn(U,R);let G=T!=null;for(let Z=1;Z<=U;Z++){let J=G?Z:U-Z;if(L.getDetectionResultColumn(J)!==void 0)continue;let ie;J===0||J===U?ie=new Bl(S,J===0):ie=new Va(S),L.setDetectionResultColumn(J,ie);let fe=-1,Re=fe;for(let _e=S.getMinY();_e<=S.getMaxY();_e++){if(fe=gt.getStartColumn(L,J,_e,G),fe<0||fe>S.getMaxX()){if(Re===-1)continue;fe=Re}let Ce=gt.detectCodeword(a,S.getMinX(),S.getMaxX(),G,fe,_e,m,y);Ce!=null&&(ie.setCodeword(_e,Ce),Re=fe,m=Math.min(m,Ce.getWidth()),y=Math.max(y,Ce.getWidth()))}}return gt.createDecoderResult(L)}static merge(a,s){if(a==null&&s==null)return null;let l=gt.getBarcodeMetadata(a,s);if(l==null)return null;let f=_a.merge(gt.adjustBoundingBox(a),gt.adjustBoundingBox(s));return new Vn(l,f)}static adjustBoundingBox(a){if(a==null)return null;let s=a.getRowHeights();if(s==null)return null;let l=gt.getMax(s),f=0;for(let y of s)if(f+=l-y,y>0)break;let h=a.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=s.length-1;y>=0&&(m+=l-s[y],!(s[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return a.getBoundingBox().addMissingRows(f,m,a.isLeft())}static getMax(a){let s=-1;for(let l of a)s=Math.max(s,l);return s}static getBarcodeMetadata(a,s){let l;if(a==null||(l=a.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let f;return s==null||(f=s.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(a,s,l,f,h,m){let y=new Bl(s,f);for(let S=0;S<2;S++){let T=S===0?1:-1,R=Math.trunc(Math.trunc(l.getX()));for(let L=Math.trunc(Math.trunc(l.getY()));L<=s.getMaxY()&&L>=s.getMinY();L+=T){let U=gt.detectCodeword(a,0,a.getWidth(),f,R,L,h,m);U!=null&&(y.setCodeword(L,U),f?R=U.getStartX():R=U.getEndX())}}return y}static adjustCodewordCount(a,s){let l=s[0][1],f=l.getValue(),h=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-gt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(f.length===0){if(h<1||h>$e.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(a){let s=gt.createBarcodeMatrix(a);gt.adjustCodewordCount(a,s);let l=new Array,f=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),h=[],m=new Array;for(let S=0;S<a.getBarcodeRowCount();S++)for(let T=0;T<a.getBarcodeColumnCount();T++){let R=s[S][T+1].getValue(),L=S*a.getBarcodeColumnCount()+T;R.length===0?l.push(L):R.length===1?f[L]=R[0]:(m.push(L),h.push(R))}let y=new Array(h.length);for(let S=0;S<y.length;S++)y[S]=h[S];return gt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),f,$e.toIntArray(l),$e.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(a,s,l,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let S=0;S<m.length;S++)s[f[S]]=h[S][m[S]];try{return gt.decodeCodewords(s,a,l)}catch(S){if(!(S instanceof M))throw S}if(m.length===0)throw M.getChecksumInstance();for(let S=0;S<m.length;S++)if(m[S]<h[S].length-1){m[S]++;break}else if(m[S]=0,S===m.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(a){let s=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let f=0;f<s.length;f++)for(let h=0;h<s[f].length;h++)s[f][h]=new Ga;let l=0;for(let f of a.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=s.length)continue;s[m][l].setValue(h.getValue())}}}l++}return s}static isValidBarcodeColumn(a,s){return s>=0&&s<=a.getBarcodeColumnCount()+1}static getStartColumn(a,s,l,f){let h=f?1:-1,m=null;if(gt.isValidBarcodeColumn(a,s-h)&&(m=a.getDetectionResultColumn(s-h).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=a.getDetectionResultColumn(s).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(gt.isValidBarcodeColumn(a,s-h)&&(m=a.getDetectionResultColumn(s-h).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;gt.isValidBarcodeColumn(a,s-h);){s-=h;for(let S of a.getDetectionResultColumn(s).getCodewords())if(S!=null)return(f?S.getEndX():S.getStartX())+h*y*(S.getEndX()-S.getStartX());y++}return f?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,s,l,f,h,m,y,S){h=gt.adjustCodewordStartColumn(a,s,l,f,h,m);let T=gt.getModuleBitCount(a,s,l,f,h,m);if(T==null)return null;let R,L=et.sum(T);if(f)R=h+L;else{for(let Z=0;Z<T.length/2;Z++){let J=T[Z];T[Z]=T[T.length-1-Z],T[T.length-1-Z]=J}R=h,h=R-L}if(!gt.checkCodewordSkew(L,y,S))return null;let U=Qn.getDecodedValue(T),G=$e.getCodeword(U);return G===-1?null:new Vr(h,R,gt.getCodewordBucketNumber(U),G)}static getModuleBitCount(a,s,l,f,h,m){let y=h,S=new Int32Array(8),T=0,R=f?1:-1,L=f;for(;(f?y<l:y>=s)&&T<S.length;)a.get(y,m)===L?(S[T]++,y+=R):(T++,L=!L);return T===S.length||y===(f?l:s)&&T===S.length-1?S:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,s,l,f,h,m){let y=h,S=f?-1:1;for(let T=0;T<2;T++){for(;(f?y>=s:y<l)&&f===a.get(y,m);){if(Math.abs(h-y)>gt.CODEWORD_SKEW_SIZE)return h;y+=S}S=-S,f=!f}return y}static checkCodewordSkew(a,s,l){return s-gt.CODEWORD_SKEW_SIZE<=a&&a<=l+gt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,s,l){if(a.length===0)throw Y.getFormatInstance();let f=1<<s+1,h=gt.correctErrors(a,l,f);gt.verifyCodewordCount(a,f);let m=he.decode(a,""+s);return m.setErrorsCorrected(h),m.setErasures(l.length),m}static correctErrors(a,s,l){if(s!=null&&s.length>l/2+gt.MAX_ERRORS||l<0||l>gt.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return gt.errorCorrection.decode(a,l,s)}static verifyCodewordCount(a,s){if(a.length<4)throw Y.getFormatInstance();let l=a[0];if(l>a.length)throw Y.getFormatInstance();if(l===0)if(s<a.length)a[0]=a.length-s;else throw Y.getFormatInstance()}static getBitCountForCodeword(a){let s=new Int32Array(8),l=0,f=s.length-1;for(;!((a&1)!==l&&(l=a&1,f--,f<0));)s[f]++,a>>=1;return s}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return gt.getCodewordBucketNumber(gt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let s=new Yi;for(let l=0;l<a.length;l++){s.format("Row %2d: ",l);for(let f=0;f<a[l].length;f++){let h=a[l][f];h.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}s.format("%n")}return s.toString()}}gt.CODEWORD_SKEW_SIZE=2,gt.MAX_ERRORS=3,gt.MAX_EC_CODEWORDS=512,gt.errorCorrection=new Ca;class Jn{decode(a,s=null){let l=Jn.decode(a,s,!1);if(l==null||l.length===0||l[0]==null)throw re.getNotFoundInstance();return l[0]}decodeMultiple(a,s=null){try{return Jn.decode(a,s,!0)}catch(l){throw l instanceof Y||l instanceof M?re.getNotFoundInstance():l}}static decode(a,s,l){const f=new Array,h=ct.detectMultiple(a,s,l);for(const m of h.getPoints()){const y=gt.decode(h.getBits(),m[4],m[5],m[6],m[7],Jn.getMinCodewordWidth(m),Jn.getMaxCodewordWidth(m)),S=new xe(y.getText(),y.getRawBytes(),void 0,m,ve.PDF_417);S.putMetadata(Te.ERROR_CORRECTION_LEVEL,y.getECLevel());const T=y.getOther();T!=null&&S.putMetadata(Te.PDF417_EXTRA_METADATA,T),f.push(S)}return f.map(m=>m)}static getMaxWidth(a,s){return a==null||s==null?0:Math.trunc(Math.abs(a.getX()-s.getX()))}static getMinWidth(a,s){return a==null||s==null?F.MAX_VALUE:Math.trunc(Math.abs(a.getX()-s.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(Jn.getMaxWidth(a[0],a[4]),Jn.getMaxWidth(a[6],a[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Jn.getMaxWidth(a[1],a[5]),Jn.getMaxWidth(a[7],a[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(Jn.getMinWidth(a[0],a[4]),Jn.getMinWidth(a[6],a[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Jn.getMinWidth(a[1],a[5]),Jn.getMinWidth(a[7],a[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ao extends x{}Ao.kind="ReaderException";class au{constructor(a,s){this.verbose=a===!0,s&&this.setHints(s)}decode(a,s){return s&&this.setHints(s),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const s=!o(a)&&a.get(se.TRY_HARDER)===!0,l=o(a)?null:a.get(se.POSSIBLE_FORMATS),f=new Array;if(!o(l)){const h=l.some(m=>m===ve.UPC_A||m===ve.UPC_E||m===ve.EAN_13||m===ve.EAN_8||m===ve.CODABAR||m===ve.CODE_39||m===ve.CODE_93||m===ve.CODE_128||m===ve.ITF||m===ve.RSS_14||m===ve.RSS_EXPANDED);h&&!s&&f.push(new zr(a,this.verbose)),l.includes(ve.QR_CODE)&&f.push(new Aa),l.includes(ve.DATA_MATRIX)&&f.push(new Sa),l.includes(ve.AZTEC)&&f.push(new ai),l.includes(ve.PDF_417)&&f.push(new Jn),h&&s&&f.push(new zr(a,this.verbose))}f.length===0&&(s||f.push(new zr(a,this.verbose)),f.push(new Aa),f.push(new Sa),f.push(new ai),f.push(new Jn),s&&f.push(new zr(a,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Ao("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(a,this.hints)}catch(l){if(l instanceof Ao)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class iu extends pe{constructor(a=null,s=500){const l=new au;l.setHints(a),super(l,s)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Sf extends pe{constructor(a=500){super(new Jn,a)}}class Af extends pe{constructor(a=500){super(new Aa,a)}}var Fl;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(Fl||(Fl={}));var Pn=Fl;class Us{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new We(a,Int32Array.from([1])))}buildGenerator(a){const s=this.cachedGenerators;if(a>=s.length){let l=s[s.length-1];const f=this.field;for(let h=s.length;h<=a;h++){const m=l.multiply(new We(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));s.push(m),l=m}}return s[a]}encode(a,s){if(s===0)throw new C("No error correction bytes");const l=a.length-s;if(l<=0)throw new C("No data bytes provided");const f=this.buildGenerator(s),h=new Int32Array(l);I.arraycopy(a,0,h,0,l);let m=new We(this.field,h);m=m.multiplyByMonomial(s,1);const S=m.divide(f)[1].getCoefficients(),T=s-S.length;for(let R=0;R<T;R++)a[l+R]=0;I.arraycopy(S,0,a,l+T,S.length)}}class yn{constructor(){}static applyMaskPenaltyRule1(a){return yn.applyMaskPenaltyRule1Internal(a,!0)+yn.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let s=0;const l=a.getArray(),f=a.getWidth(),h=a.getHeight();for(let m=0;m<h-1;m++){const y=l[m];for(let S=0;S<f-1;S++){const T=y[S];T===y[S+1]&&T===l[m+1][S]&&T===l[m+1][S+1]&&s++}}return yn.N2*s}static applyMaskPenaltyRule3(a){let s=0;const l=a.getArray(),f=a.getWidth(),h=a.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const S=l[m];y+6<f&&S[y]===1&&S[y+1]===0&&S[y+2]===1&&S[y+3]===1&&S[y+4]===1&&S[y+5]===0&&S[y+6]===1&&(yn.isWhiteHorizontal(S,y-4,y)||yn.isWhiteHorizontal(S,y+7,y+11))&&s++,m+6<h&&l[m][y]===1&&l[m+1][y]===0&&l[m+2][y]===1&&l[m+3][y]===1&&l[m+4][y]===1&&l[m+5][y]===0&&l[m+6][y]===1&&(yn.isWhiteVertical(l,y,m-4,m)||yn.isWhiteVertical(l,y,m+7,m+11))&&s++}return s*yn.N3}static isWhiteHorizontal(a,s,l){s=Math.max(s,0),l=Math.min(l,a.length);for(let f=s;f<l;f++)if(a[f]===1)return!1;return!0}static isWhiteVertical(a,s,l,f){l=Math.max(l,0),f=Math.min(f,a.length);for(let h=l;h<f;h++)if(a[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let s=0;const l=a.getArray(),f=a.getWidth(),h=a.getHeight();for(let S=0;S<h;S++){const T=l[S];for(let R=0;R<f;R++)T[R]===1&&s++}const m=a.getHeight()*a.getWidth();return Math.floor(Math.abs(s*2-m)*10/m)*yn.N4}static getDataMaskBit(a,s,l){let f,h;switch(a){case 0:f=l+s&1;break;case 1:f=l&1;break;case 2:f=s%3;break;case 3:f=(l+s)%3;break;case 4:f=Math.floor(l/2)+Math.floor(s/3)&1;break;case 5:h=l*s,f=(h&1)+h%3;break;case 6:h=l*s,f=(h&1)+h%3&1;break;case 7:h=l*s,f=h%3+(l+s&1)&1;break;default:throw new C("Invalid mask pattern: "+a)}return f===0}static applyMaskPenaltyRule1Internal(a,s){let l=0;const f=s?a.getHeight():a.getWidth(),h=s?a.getWidth():a.getHeight(),m=a.getArray();for(let y=0;y<f;y++){let S=0,T=-1;for(let R=0;R<h;R++){const L=s?m[y][R]:m[R][y];L===T?S++:(S>=5&&(l+=yn.N1+(S-5)),S=1,T=L)}S>=5&&(l+=yn.N1+(S-5))}return l}}yn.N1=3,yn.N2=3,yn.N3=40,yn.N4=10;class Co{constructor(a,s){this.width=a,this.height=s;const l=new Array(s);for(let f=0;f!==s;f++)l[f]=new Uint8Array(a);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(a,s){return this.bytes[s][a]}getArray(){return this.bytes}setNumber(a,s,l){this.bytes[s][a]=l}setBoolean(a,s,l){this.bytes[s][a]=l?1:0}clear(a){for(const s of this.bytes)H.fill(s,a)}equals(a){if(!(a instanceof Co))return!1;const s=a;if(this.width!==s.width||this.height!==s.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],m=s.bytes[l];for(let y=0,S=this.width;y<S;++y)if(h[y]!==m[y])return!1}return!0}toString(){const a=new Me;for(let s=0,l=this.height;s<l;++s){const f=this.bytes[s];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class li{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Me;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<li.NUM_MASK_PATTERNS}}li.NUM_MASK_PATTERNS=8;class Yt extends x{}Yt.kind="WriterException";class Qe{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,s,l,f,h){Qe.clearMatrix(h),Qe.embedBasicPatterns(l,h),Qe.embedTypeInfo(s,f,h),Qe.maybeEmbedVersionInfo(l,h),Qe.embedDataBits(a,f,h)}static embedBasicPatterns(a,s){Qe.embedPositionDetectionPatternsAndSeparators(s),Qe.embedDarkDotAtLeftBottomCorner(s),Qe.maybeEmbedPositionAdjustmentPatterns(a,s),Qe.embedTimingPatterns(s)}static embedTypeInfo(a,s,l){const f=new Q;Qe.makeTypeInfoBits(a,s,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),S=Qe.TYPE_INFO_COORDINATES[h],T=S[0],R=S[1];if(l.setBoolean(T,R,y),h<8){const L=l.getWidth()-h-1;l.setBoolean(L,8,y)}else{const U=l.getHeight()-7+(h-8);l.setBoolean(8,U,y)}}}static maybeEmbedVersionInfo(a,s){if(a.getVersionNumber()<7)return;const l=new Q;Qe.makeVersionInfoBits(a,l);let f=17;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=l.get(f);f--,s.setBoolean(h,s.getHeight()-11+m,y),s.setBoolean(s.getHeight()-11+m,h,y)}}static embedDataBits(a,s,l){let f=0,h=-1,m=l.getWidth()-1,y=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<l.getHeight();){for(let S=0;S<2;++S){const T=m-S;if(!Qe.isEmpty(l.get(T,y)))continue;let R;f<a.getSize()?(R=a.get(f),++f):R=!1,s!==255&&yn.getDataMaskBit(s,T,y)&&(R=!R),l.setBoolean(T,y,R)}y+=h}h=-h,y+=h,m-=2}if(f!==a.getSize())throw new Yt("Not all bits consumed: "+f+"/"+a.getSize())}static findMSBSet(a){return 32-F.numberOfLeadingZeros(a)}static calculateBCHCode(a,s){if(s===0)throw new C("0 polynomial");const l=Qe.findMSBSet(s);for(a<<=l-1;Qe.findMSBSet(a)>=l;)a^=s<<Qe.findMSBSet(a)-l;return a}static makeTypeInfoBits(a,s,l){if(!li.isValidMaskPattern(s))throw new Yt("Invalid mask pattern");const f=a.getBits()<<3|s;l.appendBits(f,5);const h=Qe.calculateBCHCode(f,Qe.TYPE_INFO_POLY);l.appendBits(h,10);const m=new Q;if(m.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Yt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(a,s){s.appendBits(a.getVersionNumber(),6);const l=Qe.calculateBCHCode(a.getVersionNumber(),Qe.VERSION_INFO_POLY);if(s.appendBits(l,12),s.getSize()!==18)throw new Yt("should not happen but we got: "+s.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let s=8;s<a.getWidth()-8;++s){const l=(s+1)%2;Qe.isEmpty(a.get(s,6))&&a.setNumber(s,6,l),Qe.isEmpty(a.get(6,s))&&a.setNumber(6,s,l)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Yt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,s,l){for(let f=0;f<8;++f){if(!Qe.isEmpty(l.get(a+f,s)))throw new Yt;l.setNumber(a+f,s,0)}}static embedVerticalSeparationPattern(a,s,l){for(let f=0;f<7;++f){if(!Qe.isEmpty(l.get(a,s+f)))throw new Yt;l.setNumber(a,s+f,0)}}static embedPositionAdjustmentPattern(a,s,l){for(let f=0;f<5;++f){const h=Qe.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(a+m,s+f,h[m])}}static embedPositionDetectionPattern(a,s,l){for(let f=0;f<7;++f){const h=Qe.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(a+m,s+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(a){const s=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,a),Qe.embedPositionDetectionPattern(a.getWidth()-s,0,a),Qe.embedPositionDetectionPattern(0,a.getWidth()-s,a);const l=8;Qe.embedHorizontalSeparationPattern(0,l-1,a),Qe.embedHorizontalSeparationPattern(a.getWidth()-l,l-1,a),Qe.embedHorizontalSeparationPattern(0,a.getWidth()-l,a);const f=7;Qe.embedVerticalSeparationPattern(f,0,a),Qe.embedVerticalSeparationPattern(a.getHeight()-f-1,0,a),Qe.embedVerticalSeparationPattern(f,a.getHeight()-f,a)}static maybeEmbedPositionAdjustmentPatterns(a,s){if(a.getVersionNumber()<2)return;const l=a.getVersionNumber()-1,f=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let S=0;S!==m;S++){const T=f[S];T>=0&&Qe.isEmpty(s.get(T,y))&&Qe.embedPositionAdjustmentPattern(T-2,y-2,s)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class Cf{constructor(a,s){this.dataBytes=a,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class on{constructor(){}static calculateMaskPenalty(a){return yn.applyMaskPenaltyRule1(a)+yn.applyMaskPenaltyRule2(a)+yn.applyMaskPenaltyRule3(a)+yn.applyMaskPenaltyRule4(a)}static encode(a,s,l=null){let f=on.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(Pn.CHARACTER_SET)!==void 0;h&&(f=l.get(Pn.CHARACTER_SET).toString());const m=this.chooseMode(a,f),y=new Q;if(m===Ke.BYTE&&(h||on.DEFAULT_BYTE_MODE_ENCODING!==f)){const _e=ne.getCharacterSetECIByName(f);_e!==void 0&&this.appendECI(_e,y)}this.appendModeInfo(m,y);const S=new Q;this.appendBytes(a,m,S,f);let T;if(l!==null&&l.get(Pn.QR_VERSION)!==void 0){const _e=Number.parseInt(l.get(Pn.QR_VERSION).toString(),10);T=Ge.getVersionForNumber(_e);const Ce=this.calculateBitsNeeded(m,y,S,T);if(!this.willFit(Ce,T,s))throw new Yt("Data too big for requested version")}else T=this.recommendVersion(s,m,y,S);const R=new Q;R.appendBitArray(y);const L=m===Ke.BYTE?S.getSizeInBytes():a.length;this.appendLengthInfo(L,T,m,R),R.appendBitArray(S);const U=T.getECBlocksForLevel(s),G=T.getTotalCodewords()-U.getTotalECCodewords();this.terminateBits(G,R);const Z=this.interleaveWithECBytes(R,T.getTotalCodewords(),G,U.getNumBlocks()),J=new li;J.setECLevel(s),J.setMode(m),J.setVersion(T);const ie=T.getDimensionForVersion(),fe=new Co(ie,ie),Re=this.chooseMaskPattern(Z,s,T,fe);return J.setMaskPattern(Re),Qe.buildMatrix(Z,s,T,Re,fe),J.setMatrix(fe),J}static recommendVersion(a,s,l,f){const h=this.calculateBitsNeeded(s,l,f,Ge.getVersionForNumber(1)),m=this.chooseVersion(h,a),y=this.calculateBitsNeeded(s,l,f,m);return this.chooseVersion(y,a)}static calculateBitsNeeded(a,s,l,f){return s.getSize()+a.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(a){return a<on.ALPHANUMERIC_TABLE.length?on.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,s=null){if(ne.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(a))return Ke.KANJI;let l=!1,f=!1;for(let h=0,m=a.length;h<m;++h){const y=a.charAt(h);if(on.isDigit(y))l=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return Ke.BYTE}return f?Ke.ALPHANUMERIC:l?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(a){let s;try{s=Le.encode(a,ne.SJIS)}catch{return!1}const l=s.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=s[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(a,s,l,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<li.NUM_MASK_PATTERNS;y++){Qe.buildMatrix(a,s,l,y,f);let S=this.calculateMaskPenalty(f);S<h&&(h=S,m=y)}return m}static chooseVersion(a,s){for(let l=1;l<=40;l++){const f=Ge.getVersionForNumber(l);if(on.willFit(a,f,s))return f}throw new Yt("Data too big")}static willFit(a,s,l){const f=s.getTotalCodewords(),m=s.getECBlocksForLevel(l).getTotalECCodewords(),y=f-m,S=(a+7)/8;return y>=S}static terminateBits(a,s){const l=a*8;if(s.getSize()>l)throw new Yt("data bits cannot fit in the QR Code"+s.getSize()+" > "+l);for(let m=0;m<4&&s.getSize()<l;++m)s.appendBit(!1);const f=s.getSize()&7;if(f>0)for(let m=f;m<8;m++)s.appendBit(!1);const h=a-s.getSizeInBytes();for(let m=0;m<h;++m)s.appendBits((m&1)===0?236:17,8);if(s.getSize()!==l)throw new Yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,s,l,f,h,m){if(f>=l)throw new Yt("Block ID too large");const y=a%l,S=l-y,T=Math.floor(a/l),R=T+1,L=Math.floor(s/l),U=L+1,G=T-L,Z=R-U;if(G!==Z)throw new Yt("EC bytes mismatch");if(l!==S+y)throw new Yt("RS blocks mismatch");if(a!==(L+G)*S+(U+Z)*y)throw new Yt("Total bytes mismatch");f<S?(h[0]=L,m[0]=G):(h[0]=U,m[0]=Z)}static interleaveWithECBytes(a,s,l,f){if(a.getSizeInBytes()!==l)throw new Yt("Number of bits and data bytes does not match");let h=0,m=0,y=0;const S=new Array;for(let R=0;R<f;++R){const L=new Int32Array(1),U=new Int32Array(1);on.getNumDataBytesAndNumECBytesForBlockID(s,l,f,R,L,U);const G=L[0],Z=new Uint8Array(G);a.toBytes(8*h,Z,0,G);const J=on.generateECBytes(Z,U[0]);S.push(new Cf(Z,J)),m=Math.max(m,G),y=Math.max(y,J.length),h+=L[0]}if(l!==h)throw new Yt("Data bytes does not match offset");const T=new Q;for(let R=0;R<m;++R)for(const L of S){const U=L.getDataBytes();R<U.length&&T.appendBits(U[R],8)}for(let R=0;R<y;++R)for(const L of S){const U=L.getErrorCorrectionBytes();R<U.length&&T.appendBits(U[R],8)}if(s!==T.getSizeInBytes())throw new Yt("Interleaving error: "+s+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,s){const l=a.length,f=new Int32Array(l+s);for(let m=0;m<l;m++)f[m]=a[m]&255;new Us(nt.QR_CODE_FIELD_256).encode(f,s);const h=new Uint8Array(s);for(let m=0;m<s;m++)h[m]=f[l+m];return h}static appendModeInfo(a,s){s.appendBits(a.getBits(),4)}static appendLengthInfo(a,s,l,f){const h=l.getCharacterCountBits(s);if(a>=1<<h)throw new Yt(a+" is bigger than "+((1<<h)-1));f.appendBits(a,h)}static appendBytes(a,s,l,f){switch(s){case Ke.NUMERIC:on.appendNumericBytes(a,l);break;case Ke.ALPHANUMERIC:on.appendAlphanumericBytes(a,l);break;case Ke.BYTE:on.append8BitBytes(a,l,f);break;case Ke.KANJI:on.appendKanjiBytes(a,l);break;default:throw new Yt("Invalid mode: "+s)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const s=on.getDigit(a);return s>=0&&s<=9}static appendNumericBytes(a,s){const l=a.length;let f=0;for(;f<l;){const h=on.getDigit(a.charAt(f));if(f+2<l){const m=on.getDigit(a.charAt(f+1)),y=on.getDigit(a.charAt(f+2));s.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<l){const m=on.getDigit(a.charAt(f+1));s.appendBits(h*10+m,7),f+=2}else s.appendBits(h,4),f++}}static appendAlphanumericBytes(a,s){const l=a.length;let f=0;for(;f<l;){const h=on.getAlphanumericCode(a.charCodeAt(f));if(h===-1)throw new Yt;if(f+1<l){const m=on.getAlphanumericCode(a.charCodeAt(f+1));if(m===-1)throw new Yt;s.appendBits(h*45+m,11),f+=2}else s.appendBits(h,6),f++}}static append8BitBytes(a,s,l){let f;try{f=Le.encode(a,l)}catch(h){throw new Yt(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];s.appendBits(y,8)}}static appendKanjiBytes(a,s){let l;try{l=Le.encode(a,ne.SJIS)}catch(h){throw new Yt(h)}const f=l.length;for(let h=0;h<f;h+=2){const m=l[h]&255,y=l[h+1]&255,S=m<<8&4294967295|y;let T=-1;if(S>=33088&&S<=40956?T=S-33088:S>=57408&&S<=60351&&(T=S-49472),T===-1)throw new Yt("Invalid byte sequence");const R=(T>>8)*192+(T&255);s.appendBits(R,13)}}static appendECI(a,s){s.appendBits(Ke.ECI.getBits(),4),s.appendBits(a.getValue(),8)}}on.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),on.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class ci{write(a,s,l,f=null){if(a.length===0)throw new C("Found empty contents");if(s<0||l<0)throw new C("Requested dimensions are too small: "+s+"x"+l);let h=xt.L,m=ci.QUIET_ZONE_SIZE;f!==null&&(f.get(Pn.ERROR_CORRECTION)!==void 0&&(h=xt.fromString(f.get(Pn.ERROR_CORRECTION).toString())),f.get(Pn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(Pn.MARGIN).toString(),10)));const y=on.encode(a,h,f);return this.renderResult(y,s,l,m)}writeToDom(a,s,l,f,h=null){typeof a=="string"&&(a=document.querySelector(a));const m=this.write(s,l,f,h);a&&a.appendChild(m)}renderResult(a,s,l,f){const h=a.getMatrix();if(h===null)throw new An;const m=h.getWidth(),y=h.getHeight(),S=m+f*2,T=y+f*2,R=Math.max(s,S),L=Math.max(l,T),U=Math.min(Math.floor(R/S),Math.floor(L/T)),G=Math.floor((R-m*U)/2),Z=Math.floor((L-y*U)/2),J=this.createSVGElement(R,L);for(let ie=0,fe=Z;ie<y;ie++,fe+=U)for(let Re=0,_e=G;Re<m;Re++,_e+=U)if(h.get(Re,ie)===1){const Ce=this.createSvgRectElement(_e,fe,U,U);J.appendChild(Ce)}return J}createSVGElement(a,s){const l=document.createElementNS(ci.SVG_NS,"svg");return l.setAttributeNS(null,"height",a.toString()),l.setAttributeNS(null,"width",s.toString()),l}createSvgRectElement(a,s,l,f){const h=document.createElementNS(ci.SVG_NS,"rect");return h.setAttributeNS(null,"x",a.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}ci.QUIET_ZONE_SIZE=4,ci.SVG_NS="http://www.w3.org/2000/svg";class Xi{encode(a,s,l,f,h){if(a.length===0)throw new C("Found empty contents");if(s!==ve.QR_CODE)throw new C("Can only encode QR_CODE, but got "+s);if(l<0||f<0)throw new C(`Requested dimensions are too small: ${l}x${f}`);let m=xt.L,y=Xi.QUIET_ZONE_SIZE;h!==null&&(h.get(Pn.ERROR_CORRECTION)!==void 0&&(m=xt.fromString(h.get(Pn.ERROR_CORRECTION).toString())),h.get(Pn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(Pn.MARGIN).toString(),10)));const S=on.encode(a,m,h);return Xi.renderResult(S,l,f,y)}static renderResult(a,s,l,f){const h=a.getMatrix();if(h===null)throw new An;const m=h.getWidth(),y=h.getHeight(),S=m+f*2,T=y+f*2,R=Math.max(s,S),L=Math.max(l,T),U=Math.min(Math.floor(R/S),Math.floor(L/T)),G=Math.floor((R-m*U)/2),Z=Math.floor((L-y*U)/2),J=new je(R,L);for(let ie=0,fe=Z;ie<y;ie++,fe+=U)for(let Re=0,_e=G;Re<m;Re++,_e+=U)h.get(Re,ie)===1&&J.setRegion(_e,fe,U,U);return J}}Xi.QUIET_ZONE_SIZE=4;class _f{encode(a,s,l,f,h){let m;switch(s){case ve.QR_CODE:m=new Xi;break;default:throw new C("No encoder available for format "+s)}return m.encode(a,s,l,f,h)}}class ua extends te{constructor(a,s,l,f,h,m,y,S){if(super(m,y),this.yuvData=a,this.dataWidth=s,this.dataHeight=l,this.left=f,this.top=h,f+m>s||h+y>l)throw new C("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(m,y)}getRow(a,s){if(a<0||a>=this.getHeight())throw new C("Requested row is outside the image: "+a);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const f=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,f,s,0,l),s}getMatrix(){const a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.yuvData;const l=a*s,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.yuvData,h,f,0,l),f;for(let m=0;m<s;m++){const y=m*a;I.arraycopy(this.yuvData,h,f,y,a),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(a,s,l,f){return new ua(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+s,l,f,!1)}renderThumbnail(){const a=this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(a*s),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<s;m++){const y=m*a;for(let S=0;S<a;S++){const T=f[h+S*ua.THUMBNAIL_SCALE_FACTOR]&255;l[y+S]=4278190080|T*65793}h+=this.dataWidth*ua.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ua.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ua.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,s){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<s;f++,h+=this.dataWidth){const m=h+a/2;for(let y=h,S=h+a-1;y<m;y++,S--){const T=l[y];l[y]=l[S],l[S]=T}}}invert(){return new Oe(this)}}ua.THUMBNAIL_SCALE_FACTOR=2;class zl extends te{constructor(a,s,l,f,h,m,y){if(super(s,l),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,a.BYTES_PER_ELEMENT===4){const S=s*l,T=new Uint8ClampedArray(S);for(let R=0;R<S;R++){const L=a[R],U=L>>16&255,G=L>>7&510,Z=L&255;T[R]=(U+G+Z)/4&255}this.luminances=T}else this.luminances=a;if(f===void 0&&(this.dataWidth=s),h===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+l>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(a,s){if(a<0||a>=this.getHeight())throw new C("Requested row is outside the image: "+a);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const f=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,f,s,0,l),s}getMatrix(){const a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.luminances;const l=a*s,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.luminances,h,f,0,l),f;for(let m=0;m<s;m++){const y=m*a;I.arraycopy(this.luminances,h,f,y,a),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(a,s,l,f){return new zl(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+a,this.top+s)}invert(){return new Oe(this)}}class su extends ne{static forName(a){return this.getCharacterSetECIByName(a)}}class Fs{}Fs.ISO_8859_1=ne.ISO8859_1;class Wi{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class ou{static singletonList(a){return[a]}static min(a,s){return a.sort(s)[0]}}class lu{constructor(a){this.previous=a}getPrevious(){return this.previous}}class ui extends lu{constructor(a,s,l){super(a),this.value=s,this.bitCount=l}appendTo(a,s){a.appendBits(this.value,this.bitCount)}add(a,s){return new ui(this,a,s)}addBinaryShift(a,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ui(this,a,s)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+F.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class _o extends ui{constructor(a,s,l){super(a,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=l}appendTo(a,s){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):l===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(s[this.binaryShiftStart+l],8)}addBinaryShift(a,s){return new _o(this,a,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function cu(k,a,s){return new _o(k,a,s)}function Ki(k,a,s){return new ui(k,a,s)}const Zi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qa=0,To=1,Or=2,Hl=3,Gr=4,zs=new ui(null,0,0),di=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Tf(k){for(let a of k)H.fill(a,-1);return k[qa][Gr]=0,k[To][Gr]=0,k[To][qa]=28,k[Hl][Gr]=0,k[Or][Gr]=0,k[Or][qa]=15,k}const Hs=Tf(H.createInt32Array(6,6));class Yr{constructor(a,s,l,f){this.token=a,this.mode=s,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,s){let l=this.bitCount,f=this.token;if(a!==this.mode){let m=di[this.mode][a];f=Ki(f,m&65535,m>>16),l+=m>>16}let h=a===Or?4:5;return f=Ki(f,s,h),new Yr(f,a,0,l+h)}shiftAndAppend(a,s){let l=this.token,f=this.mode===Or?4:5;return l=Ki(l,Hs[this.mode][a],f),l=Ki(l,s,5),new Yr(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(a){let s=this.token,l=this.mode,f=this.bitCount;if(this.mode===Gr||this.mode===Or){let y=di[l][qa];s=Ki(s,y&65535,y>>16),f+=y>>16,l=qa}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Yr(s,l,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(a+1)),m}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=cu(s,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Yr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let s=this.bitCount+(di[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?s+=Yr.calculateBinaryShiftCost(a)-Yr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(s+=10),s<=a.bitCount}toBitArray(a){let s=[];for(let f=this.endBinaryShift(a.length).token;f!==null;f=f.getPrevious())s.unshift(f);let l=new Q;for(const f of s)f.appendTo(l,a);return l}toString(){return Ae.format("%s bits=%d bytes=%d",Zi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Yr.INITIAL_STATE=new Yr(zs,qa,0,0);function uu(k){const a=Ae.getCharCode(" "),s=Ae.getCharCode("."),l=Ae.getCharCode(",");k[qa][a]=1;const f=Ae.getCharCode("Z"),h=Ae.getCharCode("A");for(let U=h;U<=f;U++)k[qa][U]=U-h+2;k[To][a]=1;const m=Ae.getCharCode("z"),y=Ae.getCharCode("a");for(let U=y;U<=m;U++)k[To][U]=U-y+2;k[Or][a]=1;const S=Ae.getCharCode("9"),T=Ae.getCharCode("0");for(let U=T;U<=S;U++)k[Or][U]=U-T+2;k[Or][l]=12,k[Or][s]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let U=0;U<R.length;U++)k[Hl][Ae.getCharCode(R[U])]=U;const L=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let U=0;U<L.length;U++)Ae.getCharCode(L[U])>0&&(k[Gr][Ae.getCharCode(L[U])]=U);return k}const Vs=uu(H.createInt32Array(5,256));class fi{constructor(a){this.text=a}encode(){const a=Ae.getCharCode(" "),s=Ae.getCharCode(`
`);let l=ou.singletonList(Yr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Ae.getCharCode("\r"):m=y===s?2:0;break;case Ae.getCharCode("."):m=y===a?3:0;break;case Ae.getCharCode(","):m=y===a?4:0;break;case Ae.getCharCode(":"):m=y===a?5:0;break;default:m=0}m>0?(l=fi.updateStateListForPair(l,h,m),h++):l=this.updateStateListForChar(l,h)}return ou.min(l,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,s){const l=[];for(let f of a)this.updateStateForChar(f,s,l);return fi.simplifyStates(l)}updateStateForChar(a,s,l){let f=this.text[s]&255,h=Vs[a.getMode()][f]>0,m=null;for(let y=0;y<=Gr;y++){let S=Vs[y][f];if(S>0){if(m==null&&(m=a.endBinaryShift(s)),!h||y===a.getMode()||y===Or){const T=m.latchAndAppend(y,S);l.push(T)}if(!h&&Hs[a.getMode()][y]>=0){const T=m.shiftAndAppend(y,S);l.push(T)}}}if(a.getBinaryShiftByteCount()>0||Vs[a.getMode()][f]===0){let y=a.addBinaryShiftChar(s);l.push(y)}}static updateStateListForPair(a,s,l){const f=[];for(let h of a)this.updateStateForPair(h,s,l,f);return this.simplifyStates(f)}static updateStateForPair(a,s,l,f){let h=a.endBinaryShift(s);if(f.push(h.latchAndAppend(Gr,l)),a.getMode()!==Gr&&f.push(h.shiftAndAppend(Gr,l)),l===3||l===4){let m=h.latchAndAppend(Or,16-l).latchAndAppend(Or,1);f.push(m)}if(a.getBinaryShiftByteCount()>0){let m=a.addBinaryShiftChar(s).addBinaryShiftChar(s+1);f.push(m)}}static simplifyStates(a){let s=[];for(const l of a){let f=!0;for(const h of s){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(s=s.filter(m=>m!==h))}f&&s.push(l)}return s}}class At{constructor(){}static encodeBytes(a){return At.encode(a,At.DEFAULT_EC_PERCENT,At.DEFAULT_AZTEC_LAYERS)}static encode(a,s,l){let f=new fi(a).encode(),h=F.truncDivision(f.getSize()*s,100)+11,m=f.getSize()+h,y,S,T,R,L;if(l!==At.DEFAULT_AZTEC_LAYERS){if(y=l<0,S=Math.abs(l),S>(y?At.MAX_NB_BITS_COMPACT:At.MAX_NB_BITS))throw new C(Ae.format("Illegal value %s for layers",l));T=At.totalBitsInLayer(S,y),R=At.WORD_SIZE[S];let Ce=T-T%R;if(L=At.stuffBits(f,R),L.getSize()+h>Ce)throw new C("Data to large for user specified layer");if(y&&L.getSize()>R*64)throw new C("Data to large for user specified layer")}else{R=0,L=null;for(let Ce=0;;Ce++){if(Ce>At.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(y=Ce<=3,S=y?Ce+1:Ce,T=At.totalBitsInLayer(S,y),m>T)continue;(L==null||R!==At.WORD_SIZE[S])&&(R=At.WORD_SIZE[S],L=At.stuffBits(f,R));let pt=T-T%R;if(!(y&&L.getSize()>R*64)&&L.getSize()+h<=pt)break}}let U=At.generateCheckWords(L,T,R),G=L.getSize()/R,Z=At.generateModeMessage(y,S,G),J=(y?11:14)+S*4,ie=new Int32Array(J),fe;if(y){fe=J;for(let Ce=0;Ce<ie.length;Ce++)ie[Ce]=Ce}else{fe=J+1+2*F.truncDivision(F.truncDivision(J,2)-1,15);let Ce=F.truncDivision(J,2),pt=F.truncDivision(fe,2);for(let ut=0;ut<Ce;ut++){let Rn=ut+F.truncDivision(ut,15);ie[Ce-ut-1]=pt-Rn-1,ie[Ce+ut]=pt+Rn+1}}let Re=new je(fe);for(let Ce=0,pt=0;Ce<S;Ce++){let ut=(S-Ce)*4+(y?9:12);for(let Rn=0;Rn<ut;Rn++){let Ir=Rn*2;for(let lr=0;lr<2;lr++)U.get(pt+Ir+lr)&&Re.set(ie[Ce*2+lr],ie[Ce*2+Rn]),U.get(pt+ut*2+Ir+lr)&&Re.set(ie[Ce*2+Rn],ie[J-1-Ce*2-lr]),U.get(pt+ut*4+Ir+lr)&&Re.set(ie[J-1-Ce*2-lr],ie[J-1-Ce*2-Rn]),U.get(pt+ut*6+Ir+lr)&&Re.set(ie[J-1-Ce*2-Rn],ie[Ce*2+lr])}pt+=ut*8}if(At.drawModeMessage(Re,y,fe,Z),y)At.drawBullsEye(Re,F.truncDivision(fe,2),5);else{At.drawBullsEye(Re,F.truncDivision(fe,2),7);for(let Ce=0,pt=0;Ce<F.truncDivision(J,2)-1;Ce+=15,pt+=16)for(let ut=F.truncDivision(fe,2)&1;ut<fe;ut+=2)Re.set(F.truncDivision(fe,2)-pt,ut),Re.set(F.truncDivision(fe,2)+pt,ut),Re.set(ut,F.truncDivision(fe,2)-pt),Re.set(ut,F.truncDivision(fe,2)+pt)}let _e=new Wi;return _e.setCompact(y),_e.setSize(fe),_e.setLayers(S),_e.setCodeWords(G),_e.setMatrix(Re),_e}static drawBullsEye(a,s,l){for(let f=0;f<l;f+=2)for(let h=s-f;h<=s+f;h++)a.set(h,s-f),a.set(h,s+f),a.set(s-f,h),a.set(s+f,h);a.set(s-l,s-l),a.set(s-l+1,s-l),a.set(s-l,s-l+1),a.set(s+l,s-l),a.set(s+l,s-l+1),a.set(s+l,s+l-1)}static generateModeMessage(a,s,l){let f=new Q;return a?(f.appendBits(s-1,2),f.appendBits(l-1,6),f=At.generateCheckWords(f,28,4)):(f.appendBits(s-1,5),f.appendBits(l-1,11),f=At.generateCheckWords(f,40,4)),f}static drawModeMessage(a,s,l,f){let h=F.truncDivision(l,2);if(s)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&a.set(y,h-5),f.get(m+7)&&a.set(h+5,y),f.get(20-m)&&a.set(y,h+5),f.get(27-m)&&a.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+F.truncDivision(m,5);f.get(m)&&a.set(y,h-7),f.get(m+10)&&a.set(h+7,y),f.get(29-m)&&a.set(y,h+7),f.get(39-m)&&a.set(h-7,y)}}static generateCheckWords(a,s,l){let f=a.getSize()/l,h=new Us(At.getGF(l)),m=F.truncDivision(s,l),y=At.bitsToWords(a,l,m);h.encode(y,m-f);let S=s%l,T=new Q;T.appendBits(0,S);for(const R of Array.from(y))T.appendBits(R,l);return T}static bitsToWords(a,s,l){let f=new Int32Array(l),h,m;for(h=0,m=a.getSize()/s;h<m;h++){let y=0;for(let S=0;S<s;S++)y|=a.get(h*s+S)?1<<s-S-1:0;f[h]=y}return f}static getGF(a){switch(a){case 4:return nt.AZTEC_PARAM;case 6:return nt.AZTEC_DATA_6;case 8:return nt.AZTEC_DATA_8;case 10:return nt.AZTEC_DATA_10;case 12:return nt.AZTEC_DATA_12;default:throw new C("Unsupported word size "+a)}}static stuffBits(a,s){let l=new Q,f=a.getSize(),h=(1<<s)-2;for(let m=0;m<f;m+=s){let y=0;for(let S=0;S<s;S++)(m+S>=f||a.get(m+S))&&(y|=1<<s-1-S);(y&h)===h?(l.appendBits(y&h,s),m--):(y&h)===0?(l.appendBits(y|1,s),m--):l.appendBits(y,s)}return l}static totalBitsInLayer(a,s){return((s?88:112)+16*a)*a}}At.DEFAULT_EC_PERCENT=33,At.DEFAULT_AZTEC_LAYERS=0,At.MAX_NB_BITS=32,At.MAX_NB_BITS_COMPACT=4,At.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gs{encode(a,s,l,f){return this.encodeWithHints(a,s,l,f,null)}encodeWithHints(a,s,l,f,h){let m=Fs.ISO_8859_1,y=At.DEFAULT_EC_PERCENT,S=At.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Pn.CHARACTER_SET)&&(m=su.forName(h.get(Pn.CHARACTER_SET).toString())),h.has(Pn.ERROR_CORRECTION)&&(y=F.parseInt(h.get(Pn.ERROR_CORRECTION).toString())),h.has(Pn.AZTEC_LAYERS)&&(S=F.parseInt(h.get(Pn.AZTEC_LAYERS).toString()))),Gs.encodeLayers(a,s,l,f,m,y,S)}static encodeLayers(a,s,l,f,h,m,y){if(s!==ve.AZTEC)throw new C("Can only encode AZTEC, but got "+s);let S=At.encode(Ae.getBytes(a,h),m,y);return Gs.renderResult(S,l,f)}static renderResult(a,s,l){let f=a.getMatrix();if(f==null)throw new An;let h=f.getWidth(),m=f.getHeight(),y=Math.max(s,h),S=Math.max(l,m),T=Math.min(y/h,S/m),R=(y-h*T)/2,L=(S-m*T)/2,U=new je(y,S);for(let G=0,Z=L;G<m;G++,Z+=T)for(let J=0,ie=R;J<h;J++,ie+=T)f.get(J,G)&&U.setRegion(ie,Z,T,T);return U}}r.AbstractExpandedDecoder=jn,r.ArgumentException=_,r.ArithmeticException=it,r.AztecCode=Wi,r.AztecCodeReader=ai,r.AztecCodeWriter=Gs,r.AztecDecoder=Rt,r.AztecDetector=oa,r.AztecDetectorResult=wa,r.AztecEncoder=At,r.AztecHighLevelEncoder=fi,r.AztecPoint=kn,r.BarcodeFormat=ve,r.Binarizer=P,r.BinaryBitmap=D,r.BitArray=Q,r.BitMatrix=je,r.BitSource=Hr,r.BrowserAztecCodeReader=Ha,r.BrowserBarcodeReader=wf,r.BrowserCodeReader=pe,r.BrowserDatamatrixCodeReader=bo,r.BrowserMultiFormatReader=iu,r.BrowserPDF417Reader=Sf,r.BrowserQRCodeReader=Af,r.BrowserQRCodeSvgWriter=ci,r.CharacterSetECI=ne,r.ChecksumException=M,r.Code128Reader=Ne,r.Code39Reader=Ft,r.DataMatrixDecodedBitStreamParser=Ea,r.DataMatrixReader=Sa,r.DecodeHintType=se,r.DecoderResult=qe,r.DefaultGridSampler=Ls,r.DetectorResult=zn,r.EAN13Reader=br,r.EncodeHintType=Pn,r.Exception=x,r.FormatException=Y,r.GenericGF=nt,r.GenericGFPoly=We,r.GlobalHistogramBinarizer=K,r.GridSampler=ks,r.GridSamplerInstance=mr,r.HTMLCanvasElementLuminanceSource=Be,r.HybridBinarizer=q,r.ITFReader=dt,r.IllegalArgumentException=C,r.IllegalStateException=An,r.InvertedLuminanceSource=Oe,r.LuminanceSource=te,r.MathUtils=et,r.MultiFormatOneDReader=zr,r.MultiFormatReader=au,r.MultiFormatWriter=_f,r.NotFoundException=re,r.OneDReader=Qt,r.PDF417DecodedBitStreamParser=he,r.PDF417DecoderErrorCorrection=Ca,r.PDF417Reader=Jn,r.PDF417ResultMetadata=qi,r.PerspectiveTransform=Zn,r.PlanarYUVLuminanceSource=ua,r.QRCodeByteMatrix=Co,r.QRCodeDataMask=Sr,r.QRCodeDecodedBitStreamParser=an,r.QRCodeDecoderErrorCorrectionLevel=xt,r.QRCodeDecoderFormatInformation=Hn,r.QRCodeEncoder=on,r.QRCodeEncoderQRCode=li,r.QRCodeMaskUtil=yn,r.QRCodeMatrixUtil=Qe,r.QRCodeMode=Ke,r.QRCodeReader=Aa,r.QRCodeVersion=Ge,r.QRCodeWriter=Xi,r.RGBLuminanceSource=zl,r.RSS14Reader=Gt,r.RSSExpandedReader=Se,r.ReaderException=Ao,r.ReedSolomonDecoder=ir,r.ReedSolomonEncoder=Us,r.ReedSolomonException=Xt,r.Result=xe,r.ResultMetadataType=Te,r.ResultPoint=Ue,r.StringUtils=Ae,r.UnsupportedOperationException=De,r.VideoInputDevice=$,r.WhiteRectangleDetector=dn,r.WriterException=Yt,r.ZXingArrays=H,r.ZXingCharset=su,r.ZXingInteger=F,r.ZXingStandardCharsets=Fs,r.ZXingStringBuilder=Me,r.ZXingStringEncoding=Le,r.ZXingSystem=I,r.createAbstractExpandedDecoder=Ui,Object.defineProperty(r,"__esModule",{value:!0})}))})(Nc,Nc.exports)),Nc.exports}var xn=PO();const UO=ef(xn),FO=s2({__proto__:null,default:UO},[xn]);var Ky=(function(){function t(e,r,o){if(this.formatMap=new Map([[Fe.QR_CODE,xn.BarcodeFormat.QR_CODE],[Fe.AZTEC,xn.BarcodeFormat.AZTEC],[Fe.CODABAR,xn.BarcodeFormat.CODABAR],[Fe.CODE_39,xn.BarcodeFormat.CODE_39],[Fe.CODE_93,xn.BarcodeFormat.CODE_93],[Fe.CODE_128,xn.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,xn.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,xn.BarcodeFormat.MAXICODE],[Fe.ITF,xn.BarcodeFormat.ITF],[Fe.EAN_13,xn.BarcodeFormat.EAN_13],[Fe.EAN_8,xn.BarcodeFormat.EAN_8],[Fe.PDF_417,xn.BarcodeFormat.PDF_417],[Fe.RSS_14,xn.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,xn.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,xn.BarcodeFormat.UPC_A],[Fe.UPC_E,xn.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,xn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!FO)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var u=this.createZXingFormats(e),d=new Map;d.set(xn.DecodeHintType.POSSIBLE_FORMATS,u),d.set(xn.DecodeHintType.TRY_HARDER,!1),this.hints=d}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(o,u){try{o(r.decode(e))}catch(d){u(d)}})},t.prototype.decode=function(e){var r=new xn.MultiFormatReader(this.verbose,this.hints),o=new xn.HTMLCanvasElementLuminanceSource(e),u=new xn.BinaryBitmap(new xn.HybridBinarizer(o)),d=r.decode(u);return{text:d.text,format:Pv.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,o,u){e.set(r,o)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],o=0,u=e;o<u.length;o++){var d=u[o];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),zO=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},HO=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Zy=(function(){function t(e,r,o){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var u=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return zO(this,void 0,void 0,function(){var r,o;return HO(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=u.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:Pv.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,o=0,u=0,d=e;u<d.length;u++){var p=d[u],b=p.boundingBox.width*p.boundingBox.height;b>o&&(o=b,r=p)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],o=0,u=e;o<u.length;o++){var d=u[o];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,o,u){e.set(r,o)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),$y=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},Qy=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},VO=(function(){function t(e,r,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&Zy.isSupported()?(this.primaryDecoder=new Zy(e,o,u),this.secondaryDecoder=new Ky(e,o,u)):this.primaryDecoder=new Ky(e,o,u)}return t.prototype.decodeAsync=function(e){return $y(this,void 0,void 0,function(){var r;return Qy(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return $y(this,void 0,void 0,function(){var r,o;return Qy(this,function(u){switch(u.label){case 0:r=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,o=this.executionResults;r<o.length;r++){var u=o[r];e+=u}var d=e/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),dg=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}})(),Qd=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},Jd=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Hv=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),GO=(function(t){dg(e,t);function e(r,o){return t.call(this,r,o)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var o={};o[this.name]=r;var u={advanced:[o]};return this.track.applyConstraints(u)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(Hv),YO=(function(t){dg(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(GO),qO=(function(t){dg(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(Hv),XO=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new YO(this.track)},t.prototype.torchFeature=function(){return new qO(this.track)},t})(),WO=(function(){function t(e,r,o){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=e.surface.clientWidth,u=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(o,u),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,o,u){return Qd(this,void 0,void 0,function(){var d,p;return Jd(this,function(b){switch(b.label){case 0:return d=new t(e,r,u),o.aspectRatio?(p={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:b.sent(),b.label=2;case 2:return d.setupSurface(),[2,d]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,o=function(){setTimeout(e,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Qd(this,void 0,void 0,function(){return Jd(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,o){var u=e.mediaStream.getVideoTracks(),d=u.length,p=0;e.mediaStream.getVideoTracks().forEach(function(b){e.mediaStream.removeTrack(b),b.stop(),++p,p>=d&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new XO(this.getFirstTrackOrFail())},t})(),KO=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,o){return Qd(this,void 0,void 0,function(){return Jd(this,function(u){return[2,WO.create(e,this.mediaStream,r,o)]})})},t.create=function(e){return Qd(this,void 0,void 0,function(){var r,o;return Jd(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=u.sent(),[2,new t(o)]}})})},t})(),Jy=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},e2=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ZO=(function(){function t(){}return t.failIfNotSupported=function(){return Jy(this,void 0,void 0,function(){return e2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Jy(this,void 0,void 0,function(){return e2(this,function(r){return[2,KO.create(e)]})})},t})(),$O=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},QO=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},JO=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=pl.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=pl.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return $O(this,void 0,void 0,function(){var e,r,o,u,d,p,b;return QO(this,function(w){switch(w.label){case 0:return e=function(x){for(var _=x.getVideoTracks(),C=0,D=_;C<D.length;C++){var M=D[C];M.enabled=!1,M.stop(),x.removeTrack(M)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),u=[],d=0,p=o;d<p.length;d++)b=p[d],b.kind==="videoinput"&&u.push({id:b.deviceId,label:b.label});return e(r),[2,u]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var o=function(d){for(var p=[],b=0,w=d;b<w.length;b++){var x=w[b];x.kind==="video"&&p.push({id:x.id,label:x.label})}e(p)},u=MediaStreamTrack;u.getSources(o)})},t})(),Dn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Dn||(Dn={}));var eI=(function(){function t(){this.state=Dn.NOT_STARTED,this.onGoingTransactionNewState=Dn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Dn.UNKNOWN:throw"Transition from unknown is not allowed";case Dn.NOT_STARTED:this.failIfNewStateIs(e,[Dn.PAUSED]);break;case Dn.SCANNING:break;case Dn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var o=0,u=r;o<u.length;o++){var d=u[o];if(e===d)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),tI=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Dn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Dn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Dn.PAUSED},t})(),nI=(function(){function t(){}return t.create=function(){return new tI(new eI)},t})(),rI=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}})(),Jr=(function(t){rI(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(ka),aI=(function(){function t(e,r){this.logger=r,this.fps=Jr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Jr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?zv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Qa(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),t2=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new Fv(this.verbose),this.qrcode=new VO(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=nI.create()}return t.prototype.start=function(e,r,o,u){var d=this;if(!e)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var b=aI.create(r,this.logger);this.clearElement();var w=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:Jr.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var C=this,D=this.stateManagerProxy.startTransition(Dn.SCANNING);return new Promise(function(M,P){var I=x?b.videoConstraints:C.createVideoConstraints(e);if(!I){D.cancel(),P("videoConstraints should be defined");return}var B={};(!x||b.aspectRatio)&&(B.aspectRatio=b.aspectRatio);var j={onRenderSurfaceReady:function(H,F){C.setupUi(H,F,b),C.isScanning=!0,C.foreverScan(b,o,p)}};ZO.failIfNotSupported().then(function(H){H.create(I).then(function(F){return F.render(d.element,B,j).then(function(Q){C.renderedCamera=Q,D.execute(),M(null)}).catch(function(Q){D.cancel(),P(Q)})}).catch(function(F){D.cancel(),P(pl.errorGettingUserMedia(F))})}).catch(function(H){D.cancel(),P(pl.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dn.PAUSED),this.showPausedState(),(Qa(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Dn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(e.element){var d=document.getElementById(Jr.SHADED_REGION_ELEMENT_ID);d&&e.element.removeChild(d)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),r.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(o){return o.decodedText})},t.prototype.scanFileV2=function(e,r){var o=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qa(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(e);var p=new Image;p.onload=function(){var b=p.width,w=p.height,x=document.getElementById(o.elementId),_=x.clientWidth?x.clientWidth:Jr.DEFAULT_WIDTH,C=Math.max(x.clientHeight?x.clientHeight:w,Jr.FILE_SCAN_MIN_HEIGHT),D=o.computeCanvasDrawConfig(b,w,_,C);if(r){var M=o.createCanvasElement(_,C,"qr-canvas-visible");M.style.display="inline-block",x.appendChild(M);var P=M.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=_,P.canvas.height=C,P.drawImage(p,0,0,b,w,D.x,D.y,D.width,D.height)}var I=Jr.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(p.width,D.width),j=Math.max(p.height,D.height),H=B+2*I,F=j+2*I,Q=o.createCanvasElement(H,F);x.appendChild(Q);var ce=Q.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=H,ce.canvas.height=F,ce.drawImage(p,0,0,b,w,I,I,B,j);try{o.qrcode.decodeRobustlyAsync(Q).then(function(se){u(qy.createFromQrcodeResult(se))}).catch(d)}catch(se){d("QR code parse error, error = ".concat(se))}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return JO.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!zv.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,d=e.formatsToSupport;u<d.length;u++){var p=d[u];LO(p)?o.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Qa(e))return!0;if(!Qa(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Qa(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Qa(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,o){var u=this,d=o.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(e,r,d),b=function(x){if(x<Jr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Jr.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>e&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};b(p.width),b(p.height),p.width=w(p.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(e,r)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},t.prototype.setupUi=function(e,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,o);var u=Qa(o.qrbox)?{width:e,height:r}:o.qrbox;this.validateQrboxConfig(u);var d=this.toQrdimensions(e,r,u);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=o.isShadedBoxEnabled()&&d.height<=r,b={x:0,y:0,width:e,height:r},w=p?this.getShadedRegionBounds(e,r,d):b,x=this.createCanvasElement(w.width,w.height),_={willReadFrequently:!0},C=x.getContext("2d",_);C.canvas.width=w.width,C.canvas.height=w.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,e,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=C,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=pl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return e(u.text,qy.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var d=pl.codeParseError(u);return r(d,Uv.createFrom(d)),!1})},t.prototype.foreverScan=function(e,r,o){var u=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),p=d.videoWidth/d.clientWidth,b=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,x=this.qrRegion.height*b,_=this.qrRegion.x*p,C=this.qrRegion.y*b;this.context.drawImage(d,_,C,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(e,r,o)},u.getTimeoutFps(e.fps))};this.scanContext(r,o).then(function(M){!M&&e.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(r,o).finally(function(){D()})):D()}).catch(function(M){u.logger.logError("Error happend while scanning context",M),D()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",o="deviceId",u={user:!0,environment:!0},d="exact",p=function(P){if(P in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},b=Object.keys(e);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var w=Object.keys(e)[0];if(w!==r&&w!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var x=e.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(d in x){if(p(x["".concat(d)]))return{facingMode:{exact:x["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var _=typeof x;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(d in C)return{deviceId:{exact:C["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var D=typeof C;throw"Invalid type of 'deviceId' = ".concat(D)}}}var M=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(M)},t.prototype.computeCanvasDrawConfig=function(e,r,o,u){if(e<=o&&r<=u){var d=(o-e)/2,p=(u-r)/2;return{x:d,y:p,width:e,height:r}}else{var b=e,w=r;return e>o&&(r=o/e*r,e=o),r>u&&(e=u/r*e,r=u),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(w)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,o,u)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Jr.BORDER_SHADER_MATCH_COLOR:Jr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,o){var u=e,d=r,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(d,"px"),p.style.display="none",p.id=Qa(o)?"qr-canvas":o,p},t.prototype.getShadedRegionBounds=function(e,r,o){if(o.width>e||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},t.prototype.possiblyInsertShadingElement=function(e,r,o,u){if(!(r-u.width<1||o-u.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(r-u.width)/2,b=(o-u.height)/2;if(d.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Jr.SHADED_REGION_ELEMENT_ID),r-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(d,x,w,-w,null,0,!0),this.insertShaderBorders(d,x,w,-w,null,0,!1),this.insertShaderBorders(d,x,w,null,-w,0,!0),this.insertShaderBorders(d,x,w,null,-w,0,!1),this.insertShaderBorders(d,w,x+w,-w,null,-w,!0),this.insertShaderBorders(d,w,x+w,null,-w,-w,!0),this.insertShaderBorders(d,w,x+w,-w,null,-w,!1),this.insertShaderBorders(d,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(d)}},t.prototype.insertShaderBorders=function(e,r,o,u,d,p,b){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Jr.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(o,"px"),u!==null&&(w.style.top="".concat(u,"px")),d!==null&&(w.style.bottom="".concat(d,"px")),b?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),fg="data:image/svg+xml;base64,",iI=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",sI=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",n2=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",oI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",r2=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),lI=(function(){function t(){this.data=r2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=r2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),cI=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Xy.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var o=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(u);var d=document.createElement("a");d.innerText=Xy.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),uI=(function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=n2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return r.onHoverIn()},this.infoIcon.onmouseout=function(o){return r.onHoverOut()},this.infoIcon.onclick=function(o){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=oI,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=n2,this.infoIcon.style.opacity="0.6")},t})(),dI=(function(){function t(){var e=this;this.infoDiv=new cI,this.infoIcon=new uI(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),fI=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},hI=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},a2=(function(){function t(){}return t.hasPermissions=function(){return fI(this,void 0,void 0,function(){var e,r,o,u;return hI(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=d.sent(),r=0,o=e;r<o.length;r++)if(u=o[r],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},t})(),Es=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var o=r[e];if(t.isCameraScanType(o))return!0}return!1},t.isCameraScanType=function(e){return e===Is.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Is.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ka.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ka.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var o=0,u=e;o<u.length;o++){var d=u[o];if(!ka.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return e},t})(),aa=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Ii=(function(){function t(){}return t.createElement=function(e,r){var o=document.createElement(e);return o.id=r,o.classList.add(aa.ALL_ELEMENT_CLASS),e==="button"&&o.setAttribute("type","button"),o},t})(),Vv=function(t,e,r,o){function u(d){return d instanceof r?d:new r(function(p){p(d)})}return new(r||(r=Promise))(function(d,p){function b(_){try{x(o.next(_))}catch(C){p(C)}}function w(_){try{x(o.throw(_))}catch(C){p(C)}}function x(_){_.done?d(_.value):u(_.value).then(b,w)}x((o=o.apply(t,e||[])).next())})},Gv=function(t,e){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(x){return function(_){return w([x,_])}}function w(x){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(r=0)),r;)try{if(o=1,u&&(d=x[0]&2?u.return:x[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,x[1])).done)return d;switch(u=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,u=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){r.label=x[1];break}if(x[0]===6&&r.label<d[1]){r.label=d[1],d=x;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(x);break}d[2]&&r.ops.pop(),r.trys.pop();continue}x=e.call(t,r)}catch(_){x=[6,_],u=0}finally{o=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},i2=(function(){function t(e,r,o){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=o}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Vv(this,void 0,void 0,function(){var e,r;return Gv(this,function(o){switch(o.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=o.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?$t.torchOffButton():$t.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var o=e?$t.torchOnFailedMessage():$t.torchOffFailedMessage();r&&(o+="; Error = "+r),this.onTorchActionFailureCallback(o)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),gI=(function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=Ii.createElement("button",aa.TORCH_BUTTON_ID),this.torchController=new i2(e,this,r)}return t.prototype.render=function(e,r){var o=this;this.torchButton.innerText=$t.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var u=this;this.torchButton.addEventListener("click",function(d){return Vv(o,void 0,void 0,function(){return Gv(this,function(p){switch(p.label){case 0:return[4,u.torchController.flipState()];case 1:return p.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(aa.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(aa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new i2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=$t.torchOnButton(),this.torchController.reset()},t.create=function(e,r,o,u){var d=new t(r,u);return d.render(e,o),d},t})(),mI=(function(){function t(e,r,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=Ii.createElement("button",aa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(b){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=Ii.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(b){if(!(b==null||b.target==null)){var w=b.target;if(!(w.files&&w.files.length===0)){var x=w.files,_=x[0],C=_.name;d.setImageNameToButton(C),o(_)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(b){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),b.stopPropagation(),b.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(b){b.stopPropagation(),b.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var w=b.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var _=!1,C=0;C<x.length;++C){var D=x.item(C);if(D){var M=/image.*/;if(D.type.match(M)){_=!0;var P=D.name;d.setImageNameToButton(P),o(D),p.innerText=$t.dragAndDropMessage();break}}}_||(p.innerText=$t.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=$t.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var o=e.substring(0,8),u=e.length,d=e.substring(u-8,u);e="".concat(o,"....").concat(d)}var p=$t.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=p},t.prototype.setInitialValueToButton=function(){var e=$t.fileSelectionChooseImage()+" - "+$t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,o){var u=new t(e,r,o);return u},t})(),pI=(function(){function t(e){this.selectElement=Ii.createElement("select",aa.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)r.style.display="none";else{var u=$t.selectCamera();r.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var d=1,p=0,b=this.cameras;p<b.length;p++){var w=b[p],x=w.id,_=w.label==null?x:w.label;(!_||_==="")&&(_=[$t.anonymousCameraPrefix(),d++].join(" "));var C=document.createElement("option");C.value=x,C.innerText=_,this.options.push(C),this.selectElement.appendChild(C)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,o=this.options;r<o.length;r++){var u=o[r];if(u.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var o=new t(r);return o.render(e),o},t})(),xI=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ii.createElement("input",aa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=$t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=$t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,o,u){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var o=new t;return o.render(e,r),o},t})(),ea;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ea||(ea={}));function yI(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function bI(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var wI=(function(){function t(e,r,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=o===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Es(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Fv(this.verbose),this.persistedDataManager=new lI,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,p){if(e)e(d,p);else{if(o.lastMatchFound===d)return;o.lastMatchFound=d,o.setHeaderMessage($t.lastMatch(d),ea.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,p){r&&r(d,p)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new t2(this.getScanRegionId(),bI(this.config,this.verbose))},t.prototype.pause=function(e){(Qa(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var o=document.getElementById(e.elementId);o&&(o.innerHTML="",e.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,u){if(!e.html5Qrcode){o();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(d){if(!e.html5Qrcode){o();return}e.html5Qrcode.clear(),r(),o()}).catch(function(d){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",d),u(d)}):(e.html5Qrcode.clear(),r(),o())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ka.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ka.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ka.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ka.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ka.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ka.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ka.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),o=this.getScanRegionId();r.id=o,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),Es.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),d=this.getDashboardId();u.id=d,u.style.width="100%",e.appendChild(u),this.setupInitialDashboard(u)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var o=new dI;o.renderInto(r);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",r.appendChild(u)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,o){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage($t.cameraPermissionRequesting());var d=function(){o||u.createPermissionButton(e,r)};t2.getCameras().then(function(p){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),p&&p.length>0?(e.removeChild(r),u.renderCameraSelection(p)):(u.setHeaderMessage($t.noCameraFound(),ea.STATUS_WARNING),d())}).catch(function(p){u.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:d(),u.setHeaderMessage(p,ea.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var o=this,u=Ii.createElement("button",this.getCameraPermissionButtonId());u.innerText=$t.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,o.createCameraListUi(e,r,u)}),r.appendChild(u)},t.prototype.createPermissionsUi=function(e,r){var o=this;if(Es.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){a2.hasPermissions().then(function(u){u?o.createCameraListUi(e,r):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,r))}).catch(function(u){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Es.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(o);var u=document.createElement("div");u.style.textAlign="center",o.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,u),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=Es.isFileScanType(this.currentScanType),o=this,u=function(d){if(!o.html5Qrcode)throw"html5Qrcode not defined";Es.isFileScanType(o.currentScanType)&&(o.setHeaderMessage($t.loadingImage()),o.html5Qrcode.scanFileV2(d,!0).then(function(p){o.resetHeaderMessage(),o.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){o.setHeaderMessage(p,ea.STATUS_WARNING),o.qrCodeErrorCallback(p,Uv.createFrom(p))}))};this.fileSelectionUi=mI.create(e,r,u)},t.prototype.renderCameraSelection=function(e){var r=this,o=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var d=xI.create(u,!1),p=function(I){var B=I.zoomFeature();if(B.isSupported()){d.setOnCameraZoomValueChangeCallback(function(H){B.apply(H)});var j=1;r.config.defaultZoomValueIfSupported&&(j=r.config.defaultZoomValueIfSupported),j=jO(j,B.min(),B.max()),d.setValues(B.min(),B.max(),j,B.step()),d.show()}},b=pI.create(u,e),w=document.createElement("span"),x=Ii.createElement("button",aa.CAMERA_START_BUTTON_ID);x.innerText=$t.scanButtonStartScanningText(),w.appendChild(x);var _=Ii.createElement("button",aa.CAMERA_STOP_BUTTON_ID);_.innerText=$t.scanButtonStopScanningText(),_.style.display="none",_.disabled=!0,w.appendChild(_);var C,D=function(I){if(!I.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(I.torchFeature()):C=gI.create(w,I.torchFeature(),{display:"none",marginLeft:"5px"},function(B){o.setHeaderMessage(B,ea.STATUS_WARNING)}),C.show()};u.appendChild(w);var M=function(I){I||(x.style.display="none"),x.innerText=$t.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,I&&(x.style.display="inline-block")};if(x.addEventListener("click",function(I){x.innerText=$t.scanButtonScanningStarting(),b.disable(),x.disabled=!0,x.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var B=b.getValue();o.persistedDataManager.setLastUsedCameraId(B),o.html5Qrcode.start(B,yI(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(j){_.disabled=!1,_.style.display="inline-block",M(!1);var H=o.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&D(H),r.config.showZoomSliderIfSupported===!0&&p(H)}).catch(function(j){o.showHideScanTypeSwapLink(!0),b.enable(),M(!0),o.setHeaderMessage(j,ea.STATUS_WARNING)})}),b.hasSingleItem()&&x.click(),_.addEventListener("click",function(I){if(!o.html5Qrcode)throw"html5Qrcode not defined";_.disabled=!0,o.html5Qrcode.stop().then(function(B){r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),b.enable(),x.disabled=!1,_.style.display="none",x.style.display="inline-block",C&&(C.reset(),C.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(B){_.disabled=!1,o.setHeaderMessage(B,ea.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var P=o.persistedDataManager.getLastUsedCameraId();b.hasValue(P)?(b.setValue(P),x.click()):o.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=$t.textIfCameraScanSelected(),o=$t.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var p=Ii.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=Es.isCameraScanType(this.currentScanType)?r:o,p.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Es.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),p.innerText=o,e.currentScanType=Is.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),p.innerText=r,e.currentScanType=Is.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),d.appendChild(p),u.appendChild(d)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){a2.hasPermissions().then(function(o){if(o){var u=document.getElementById(r.getCameraPermissionButtonId());if(!u)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(o){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=ea.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=e,o.style.display="block",r){case ea.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case ea.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case ea.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=iI,this.cameraScanImage.alt=$t.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=sI,this.fileScanImage.alt=$t.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return aa.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return aa.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const vI=()=>{var H;const{user:t,logout:e}=Tl(),r=po(),[o,u]=N.useState(""),[d,p]=N.useState(null),[b,w]=N.useState(!1),[x,_]=N.useState(null);N.useEffect(()=>()=>{x&&x.clear()},[x]);const C=()=>{if(b)return;w(!0),p(null);const F=new wI("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);F.render(Q=>{M(Q),F.clear(),w(!1)},Q=>{console.log(Q)}),_(F)},D=()=>{x&&(x.clear(),_(null),w(!1))},M=async F=>{let Q=F;F.includes("data=")&&(Q=F.split("data=")[1]);try{const ce=await MO(Q,t);p(ce),ce.success?ot.success(ce.message):ot.error(ce.message)}catch(ce){console.error(ce),p({success:!1,status:"ERROR",message:"System error: "+ce.message,ticket:null}),ot.error("Failed to validate ticket")}},P=F=>{F.preventDefault(),o.trim()&&(M(o.trim()),u(""))},I=()=>{e(),r("/login")},B=()=>d?d.status==="VALID"?"bg-emerald-500":d.status==="USED"?"bg-amber-500":"bg-rose-500":"",j=()=>d?d.status==="VALID"?E.jsx(ZT,{className:"w-24 h-24"}):d.status==="USED"?E.jsx(bb,{className:"w-24 h-24"}):E.jsx(QT,{className:"w-24 h-24"}):null;return E.jsxs("div",{className:"min-h-screen bg-slate-50","data-testid":"scanner-dashboard",children:[E.jsx("header",{className:"bg-white border-b border-slate-200 px-4 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-slate-900",style:{fontFamily:"Outfit"},children:"Kolam Renang UNY - Scanner"}),E.jsx("p",{className:"text-sm text-slate-600",children:t==null?void 0:t.name})]}),E.jsxs(Je,{variant:"outline",size:"sm",onClick:I,"data-testid":"logout-button",children:[E.jsx(V1,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),E.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[d&&E.jsxs("div",{className:`${B()} text-white rounded-xl p-8 mb-6 text-center shadow-lg transition-all duration-300`,"data-testid":"scan-result",children:[E.jsx("div",{className:"flex justify-center mb-4",children:j()}),E.jsx("h2",{className:"text-3xl font-bold mb-2",children:d.status}),E.jsx("p",{className:"text-lg mb-4",children:d.message}),d.ticket&&E.jsx(Kn,{className:"bg-white/20 backdrop-blur-sm p-4 text-left border-none text-white",children:E.jsxs("div",{className:"space-y-2 text-sm",children:[d.ticket.ticket_code&&E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold opacity-80",children:"Code:"})," ",E.jsx("span",{className:"text-lg font-bold font-mono",children:d.ticket.ticket_code})]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold opacity-80",children:"Category:"})," ",E.jsx("span",{className:"text-lg font-bold",children:d.ticket.category_name})]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold opacity-80",children:"Price:"})," Rp ",(H=d.ticket.price)==null?void 0:H.toLocaleString()]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold opacity-80",children:"Scanner:"})," ",t.name]}),d.ticket.nim&&E.jsxs("p",{children:[E.jsx("span",{className:"font-semibold opacity-80",children:"NIM:"})," ",d.ticket.nim]})]})}),E.jsx(Je,{onClick:()=>p(null),className:"mt-6 bg-white text-slate-900 hover:bg-slate-100 font-semibold w-full","data-testid":"scan-another-button",children:"Scan Next Ticket"})]}),!d&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs(Kn,{className:"p-6",children:[E.jsx("h2",{className:"text-2xl font-semibold text-slate-900 mb-4 text-center",style:{fontFamily:"Outfit"},children:"Scan QR Code"}),b?E.jsxs("div",{children:[E.jsx("div",{id:"qr-reader",className:"mb-4 overflow-hidden rounded-lg"}),E.jsx(Je,{onClick:D,variant:"outline",className:"w-full","data-testid":"stop-scan-button",children:"Stop Scanner"})]}):E.jsxs("div",{className:"text-center py-12",children:[E.jsx(my,{className:"w-24 h-24 mx-auto mb-6 text-slate-400"}),E.jsxs(Je,{onClick:C,className:"bg-slate-900 hover:bg-slate-800 h-14 px-8 text-lg w-full max-w-xs","data-testid":"start-scan-button",children:[E.jsx(my,{className:"w-6 h-6 mr-2"}),"Start Camera"]})]})]}),E.jsxs(Kn,{className:"p-6",children:[E.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",style:{fontFamily:"Outfit"},children:"Manual Entry"}),E.jsxs("form",{onSubmit:P,className:"space-y-4",children:[E.jsx(ar,{value:o,onChange:F=>u(F.target.value),placeholder:"Enter ticket ID",className:"h-12 text-lg","data-testid":"manual-ticket-input"}),E.jsx(Je,{type:"submit",disabled:!o.trim(),className:"w-full h-12 bg-slate-900 hover:bg-slate-800","data-testid":"manual-scan-button",children:"Validate Ticket"})]})]})]})]})]})},EI=()=>{const{user:t,loading:e}=Tl();return e?E.jsx("div",{className:"flex items-center justify-center min-h-screen",children:E.jsx("div",{className:"w-16 h-16 border-4 border-slate-900 border-t-transparent rounded-full animate-spin"})}):t?t.role==="ADMIN"?E.jsx(Cs,{to:"/admin",replace:!0}):t.role==="RECEPTIONIST"?E.jsx(Cs,{to:"/receptionist",replace:!0}):t.role==="SCANNER"?E.jsx(Cs,{to:"/scanner",replace:!0}):E.jsx(Cs,{to:"/login",replace:!0}):E.jsx(Cs,{to:"/login",replace:!0})};function SI(){return E.jsx(q_,{children:E.jsx(zS,{children:E.jsxs("div",{className:"App",children:[E.jsxs(xS,{children:[E.jsx(Br,{path:"/login",element:E.jsx(TT,{})}),E.jsx(Br,{path:"/",element:E.jsx(EI,{})}),E.jsxs(Br,{path:"/admin",element:E.jsx(D0,{allowedRoles:["ADMIN"],children:E.jsx(_8,{})}),children:[E.jsx(Br,{index:!0,element:E.jsx(P8,{})}),E.jsx(Br,{path:"users",element:E.jsx(jR,{})}),E.jsx(Br,{path:"categories",element:E.jsx(XR,{})}),E.jsx(Br,{path:"sessions",element:E.jsx(oO,{})}),E.jsx(Br,{path:"packages",element:E.jsx(lO,{})}),E.jsx(Br,{path:"locations",element:E.jsx(cO,{})}),E.jsx(Br,{path:"reports",element:E.jsx(TO,{})})]}),E.jsx(Br,{path:"/receptionist",element:E.jsx(D0,{allowedRoles:["RECEPTIONIST","ADMIN"],children:E.jsx(kO,{})})}),E.jsx(Br,{path:"/scanner",element:E.jsx(D0,{allowedRoles:["SCANNER","ADMIN"],children:E.jsx(vI,{})})}),E.jsx(Br,{path:"*",element:E.jsx(Cs,{to:"/",replace:!0})})]}),E.jsx(A4,{position:"top-right",richColors:!0})]})})})}const AI=x3.createRoot(document.getElementById("root"));AI.render(E.jsx(Ie.StrictMode,{children:E.jsx(SI,{})}));
